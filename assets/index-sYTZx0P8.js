(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var gh={exports:{}},sa={},yh={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function Y_(){if(om)return Ae;om=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.iterator;function R(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,$={};function b(L,G,de){this.props=L,this.context=G,this.refs=$,this.updater=de||V}b.prototype.isReactComponent={},b.prototype.setState=function(L,G){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,G,"setState")},b.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Q(){}Q.prototype=b.prototype;function ne(L,G,de){this.props=L,this.context=G,this.refs=$,this.updater=de||V}var ie=ne.prototype=new Q;ie.constructor=ne,j(ie,b.prototype),ie.isPureReactComponent=!0;var fe=Array.isArray,Ce=Object.prototype.hasOwnProperty,Te={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(L,G,de){var Ie,Se={},xe=null,Oe=null;if(G!=null)for(Ie in G.ref!==void 0&&(Oe=G.ref),G.key!==void 0&&(xe=""+G.key),G)Ce.call(G,Ie)&&!x.hasOwnProperty(Ie)&&(Se[Ie]=G[Ie]);var Fe=arguments.length-2;if(Fe===1)Se.children=de;else if(1<Fe){for(var ze=Array(Fe),gt=0;gt<Fe;gt++)ze[gt]=arguments[gt+2];Se.children=ze}if(L&&L.defaultProps)for(Ie in Fe=L.defaultProps,Fe)Se[Ie]===void 0&&(Se[Ie]=Fe[Ie]);return{$$typeof:r,type:L,key:xe,ref:Oe,props:Se,_owner:Te.current}}function A(L,G){return{$$typeof:r,type:L.type,key:G,ref:L.ref,props:L.props,_owner:L._owner}}function k(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function D(L){var G={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(de){return G[de]})}var M=/\/+/g;function C(L,G){return typeof L=="object"&&L!==null&&L.key!=null?D(""+L.key):G.toString(36)}function tt(L,G,de,Ie,Se){var xe=typeof L;(xe==="undefined"||xe==="boolean")&&(L=null);var Oe=!1;if(L===null)Oe=!0;else switch(xe){case"string":case"number":Oe=!0;break;case"object":switch(L.$$typeof){case r:case e:Oe=!0}}if(Oe)return Oe=L,Se=Se(Oe),L=Ie===""?"."+C(Oe,0):Ie,fe(Se)?(de="",L!=null&&(de=L.replace(M,"$&/")+"/"),tt(Se,G,de,"",function(gt){return gt})):Se!=null&&(k(Se)&&(Se=A(Se,de+(!Se.key||Oe&&Oe.key===Se.key?"":(""+Se.key).replace(M,"$&/")+"/")+L)),G.push(Se)),1;if(Oe=0,Ie=Ie===""?".":Ie+":",fe(L))for(var Fe=0;Fe<L.length;Fe++){xe=L[Fe];var ze=Ie+C(xe,Fe);Oe+=tt(xe,G,de,ze,Se)}else if(ze=R(L),typeof ze=="function")for(L=ze.call(L),Fe=0;!(xe=L.next()).done;)xe=xe.value,ze=Ie+C(xe,Fe++),Oe+=tt(xe,G,de,ze,Se);else if(xe==="object")throw G=String(L),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Oe}function kt(L,G,de){if(L==null)return L;var Ie=[],Se=0;return tt(L,Ie,"","",function(xe){return G.call(de,xe,Se++)}),Ie}function xt(L){if(L._status===-1){var G=L._result;G=G(),G.then(function(de){(L._status===0||L._status===-1)&&(L._status=1,L._result=de)},function(de){(L._status===0||L._status===-1)&&(L._status=2,L._result=de)}),L._status===-1&&(L._status=0,L._result=G)}if(L._status===1)return L._result.default;throw L._result}var je={current:null},te={transition:null},me={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:te,ReactCurrentOwner:Te};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:kt,forEach:function(L,G,de){kt(L,function(){G.apply(this,arguments)},de)},count:function(L){var G=0;return kt(L,function(){G++}),G},toArray:function(L){return kt(L,function(G){return G})||[]},only:function(L){if(!k(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ae.Component=b,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=ne,Ae.StrictMode=s,Ae.Suspense=g,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ae.act=se,Ae.cloneElement=function(L,G,de){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Ie=j({},L.props),Se=L.key,xe=L.ref,Oe=L._owner;if(G!=null){if(G.ref!==void 0&&(xe=G.ref,Oe=Te.current),G.key!==void 0&&(Se=""+G.key),L.type&&L.type.defaultProps)var Fe=L.type.defaultProps;for(ze in G)Ce.call(G,ze)&&!x.hasOwnProperty(ze)&&(Ie[ze]=G[ze]===void 0&&Fe!==void 0?Fe[ze]:G[ze])}var ze=arguments.length-2;if(ze===1)Ie.children=de;else if(1<ze){Fe=Array(ze);for(var gt=0;gt<ze;gt++)Fe[gt]=arguments[gt+2];Ie.children=Fe}return{$$typeof:r,type:L.type,key:Se,ref:xe,props:Ie,_owner:Oe}},Ae.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:u,_context:L},L.Consumer=L},Ae.createElement=T,Ae.createFactory=function(L){var G=T.bind(null,L);return G.type=L,G},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(L){return{$$typeof:f,render:L}},Ae.isValidElement=k,Ae.lazy=function(L){return{$$typeof:w,_payload:{_status:-1,_result:L},_init:xt}},Ae.memo=function(L,G){return{$$typeof:v,type:L,compare:G===void 0?null:G}},Ae.startTransition=function(L){var G=te.transition;te.transition={};try{L()}finally{te.transition=G}},Ae.unstable_act=se,Ae.useCallback=function(L,G){return je.current.useCallback(L,G)},Ae.useContext=function(L){return je.current.useContext(L)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(L){return je.current.useDeferredValue(L)},Ae.useEffect=function(L,G){return je.current.useEffect(L,G)},Ae.useId=function(){return je.current.useId()},Ae.useImperativeHandle=function(L,G,de){return je.current.useImperativeHandle(L,G,de)},Ae.useInsertionEffect=function(L,G){return je.current.useInsertionEffect(L,G)},Ae.useLayoutEffect=function(L,G){return je.current.useLayoutEffect(L,G)},Ae.useMemo=function(L,G){return je.current.useMemo(L,G)},Ae.useReducer=function(L,G,de){return je.current.useReducer(L,G,de)},Ae.useRef=function(L){return je.current.useRef(L)},Ae.useState=function(L){return je.current.useState(L)},Ae.useSyncExternalStore=function(L,G,de){return je.current.useSyncExternalStore(L,G,de)},Ae.useTransition=function(){return je.current.useTransition()},Ae.version="18.3.1",Ae}var am;function rd(){return am||(am=1,yh.exports=Y_()),yh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function X_(){if(lm)return sa;lm=1;var r=rd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,v){var w,S={},R=null,V=null;v!==void 0&&(R=""+v),g.key!==void 0&&(R=""+g.key),g.ref!==void 0&&(V=g.ref);for(w in g)s.call(g,w)&&!u.hasOwnProperty(w)&&(S[w]=g[w]);if(f&&f.defaultProps)for(w in g=f.defaultProps,g)S[w]===void 0&&(S[w]=g[w]);return{$$typeof:e,type:f,key:R,ref:V,props:S,_owner:o.current}}return sa.Fragment=t,sa.jsx=h,sa.jsxs=h,sa}var um;function J_(){return um||(um=1,gh.exports=X_()),gh.exports}var q=J_(),H=rd(),Kl={},vh={exports:{}},Qt={},_h={exports:{}},Eh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function Z_(){return cm||(cm=1,function(r){function e(te,me){var se=te.length;te.push(me);e:for(;0<se;){var L=se-1>>>1,G=te[L];if(0<o(G,me))te[L]=me,te[se]=G,se=L;else break e}}function t(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var me=te[0],se=te.pop();if(se!==me){te[0]=se;e:for(var L=0,G=te.length,de=G>>>1;L<de;){var Ie=2*(L+1)-1,Se=te[Ie],xe=Ie+1,Oe=te[xe];if(0>o(Se,se))xe<G&&0>o(Oe,Se)?(te[L]=Oe,te[xe]=se,L=xe):(te[L]=Se,te[Ie]=se,L=Ie);else if(xe<G&&0>o(Oe,se))te[L]=Oe,te[xe]=se,L=xe;else break e}}return me}function o(te,me){var se=te.sortIndex-me.sortIndex;return se!==0?se:te.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var g=[],v=[],w=1,S=null,R=3,V=!1,j=!1,$=!1,b=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(te){for(var me=t(v);me!==null;){if(me.callback===null)s(v);else if(me.startTime<=te)s(v),me.sortIndex=me.expirationTime,e(g,me);else break;me=t(v)}}function fe(te){if($=!1,ie(te),!j)if(t(g)!==null)j=!0,xt(Ce);else{var me=t(v);me!==null&&je(fe,me.startTime-te)}}function Ce(te,me){j=!1,$&&($=!1,Q(T),T=-1),V=!0;var se=R;try{for(ie(me),S=t(g);S!==null&&(!(S.expirationTime>me)||te&&!D());){var L=S.callback;if(typeof L=="function"){S.callback=null,R=S.priorityLevel;var G=L(S.expirationTime<=me);me=r.unstable_now(),typeof G=="function"?S.callback=G:S===t(g)&&s(g),ie(me)}else s(g);S=t(g)}if(S!==null)var de=!0;else{var Ie=t(v);Ie!==null&&je(fe,Ie.startTime-me),de=!1}return de}finally{S=null,R=se,V=!1}}var Te=!1,x=null,T=-1,A=5,k=-1;function D(){return!(r.unstable_now()-k<A)}function M(){if(x!==null){var te=r.unstable_now();k=te;var me=!0;try{me=x(!0,te)}finally{me?C():(Te=!1,x=null)}}else Te=!1}var C;if(typeof ne=="function")C=function(){ne(M)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,kt=tt.port2;tt.port1.onmessage=M,C=function(){kt.postMessage(null)}}else C=function(){b(M,0)};function xt(te){x=te,Te||(Te=!0,C())}function je(te,me){T=b(function(){te(r.unstable_now())},me)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_continueExecution=function(){j||V||(j=!0,xt(Ce))},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(te){switch(R){case 1:case 2:case 3:var me=3;break;default:me=R}var se=R;R=me;try{return te()}finally{R=se}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(te,me){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var se=R;R=te;try{return me()}finally{R=se}},r.unstable_scheduleCallback=function(te,me,se){var L=r.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?L+se:L):se=L,te){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=se+G,te={id:w++,callback:me,priorityLevel:te,startTime:se,expirationTime:G,sortIndex:-1},se>L?(te.sortIndex=se,e(v,te),t(g)===null&&te===t(v)&&($?(Q(T),T=-1):$=!0,je(fe,se-L))):(te.sortIndex=G,e(g,te),j||V||(j=!0,xt(Ce))),te},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(te){var me=R;return function(){var se=R;R=me;try{return te.apply(this,arguments)}finally{R=se}}}}(Eh)),Eh}var hm;function e0(){return hm||(hm=1,_h.exports=Z_()),_h.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function t0(){if(dm)return Qt;dm=1;var r=rd(),e=e0();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},S={};function R(n){return g.call(S,n)?!0:g.call(w,n)?!1:v.test(n)?S[n]=!0:(w[n]=!0,!1)}function V(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function j(n,i,a,c){if(i===null||typeof i>"u"||V(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function $(n,i,a,c,d,m,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=_}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){b[n]=new $(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];b[i]=new $(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){b[n]=new $(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){b[n]=new $(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){b[n]=new $(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){b[n]=new $(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){b[n]=new $(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){b[n]=new $(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){b[n]=new $(n,5,!1,n.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function ne(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(Q,ne);b[i]=new $(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(Q,ne);b[i]=new $(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(Q,ne);b[i]=new $(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){b[n]=new $(n,1,!1,n.toLowerCase(),null,!1,!1)}),b.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){b[n]=new $(n,1,!1,n.toLowerCase(),null,!0,!0)});function ie(n,i,a,c){var d=b.hasOwnProperty(i)?b[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(j(i,a,d,c)&&(a=null),c||d===null?R(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var fe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ce=Symbol.for("react.element"),Te=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),te=Symbol.iterator;function me(n){return n===null||typeof n!="object"?null:(n=te&&n[te]||n["@@iterator"],typeof n=="function"?n:null)}var se=Object.assign,L;function G(n){if(L===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);L=i&&i[1]||""}return`
`+L+n}var de=!1;function Ie(n,i){if(!n||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(B){var c=B}Reflect.construct(n,[],i)}else{try{i.call()}catch(B){c=B}n.call(i.prototype)}else{try{throw Error()}catch(B){c=B}n()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var d=B.stack.split(`
`),m=c.stack.split(`
`),_=d.length-1,I=m.length-1;1<=_&&0<=I&&d[_]!==m[I];)I--;for(;1<=_&&0<=I;_--,I--)if(d[_]!==m[I]){if(_!==1||I!==1)do if(_--,I--,0>I||d[_]!==m[I]){var P=`
`+d[_].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=_&&0<=I);break}}}finally{de=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?G(n):""}function Se(n){switch(n.tag){case 5:return G(n.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return n=Ie(n.type,!1),n;case 11:return n=Ie(n.type.render,!1),n;case 1:return n=Ie(n.type,!0),n;default:return""}}function xe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case Te:return"Portal";case A:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case tt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case D:return(n.displayName||"Context")+".Consumer";case k:return(n._context.displayName||"Context")+".Provider";case M:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case kt:return i=n.displayName||null,i!==null?i:xe(n.type)||"Memo";case xt:i=n._payload,n=n._init;try{return xe(n(i))}catch{}}return null}function Oe(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Fe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ze(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function gt(n){var i=ze(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function er(n){n._valueTracker||(n._valueTracker=gt(n))}function Zi(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=ze(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Ar(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function hi(n,i){var a=i.checked;return se({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function es(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Fe(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function co(n,i){i=i.checked,i!=null&&ie(n,"checked",i,!1)}function ho(n,i){co(n,i);var a=Fe(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?ts(n,i.type,a):i.hasOwnProperty("defaultValue")&&ts(n,i.type,Fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Va(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ts(n,i,a){(i!=="number"||Ar(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var tr=Array.isArray;function nr(n,i,a,c){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Fe(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function fo(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ns(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(tr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Fe(a)}}function rs(n,i){var a=Fe(i.value),c=Fe(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function po(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function ut(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?ut(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var rr,mo=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,d)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=rr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Cr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fi=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(n){fi.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),di[i]=di[n]})});function go(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||di.hasOwnProperty(n)&&di[n]?(""+i).trim():i+"px"}function yo(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=go(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var vo=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _o(n,i){if(i){if(vo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Eo(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pi=null;function is(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ss=null,on=null,Fn=null;function os(n){if(n=qo(n)){if(typeof ss!="function")throw Error(t(280));var i=n.stateNode;i&&(i=ul(i),ss(n.stateNode,n.type,i))}}function bn(n){on?Fn?Fn.push(n):Fn=[n]:on=n}function wo(){if(on){var n=on,i=Fn;if(Fn=on=null,os(n),i)for(n=0;n<i.length;n++)os(i[n])}}function mi(n,i){return n(i)}function To(){}var ir=!1;function Io(n,i,a){if(ir)return n(i,a);ir=!0;try{return mi(n,i,a)}finally{ir=!1,(on!==null||Fn!==null)&&(To(),wo())}}function nt(n,i){var a=n.stateNode;if(a===null)return null;var c=ul(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var as=!1;if(f)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){as=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{as=!1}function gi(n,i,a,c,d,m,_,I,P){var B=Array.prototype.slice.call(arguments,3);try{i.apply(a,B)}catch(X){this.onError(X)}}var yi=!1,ls=null,En=!1,So=null,qu={onError:function(n){yi=!0,ls=n}};function us(n,i,a,c,d,m,_,I,P){yi=!1,ls=null,gi.apply(qu,arguments)}function La(n,i,a,c,d,m,_,I,P){if(us.apply(this,arguments),yi){if(yi){var B=ls;yi=!1,ls=null}else throw Error(t(198));En||(En=!0,So=B)}}function wn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function vi(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Tn(n){if(wn(n)!==n)throw Error(t(188))}function Ma(n){var i=n.alternate;if(!i){if(i=wn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return Tn(d),n;if(m===c)return Tn(d),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var _=!1,I=d.child;I;){if(I===a){_=!0,a=d,c=m;break}if(I===c){_=!0,c=d,a=m;break}I=I.sibling}if(!_){for(I=m.child;I;){if(I===a){_=!0,a=m,c=d;break}if(I===c){_=!0,c=m,a=d;break}I=I.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function Ao(n){return n=Ma(n),n!==null?cs(n):null}function cs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=cs(n);if(i!==null)return i;n=n.sibling}return null}var hs=e.unstable_scheduleCallback,Co=e.unstable_cancelCallback,Oa=e.unstable_shouldYield,Hu=e.unstable_requestPaint,$e=e.unstable_now,Fa=e.unstable_getCurrentPriorityLevel,_i=e.unstable_ImmediatePriority,Rr=e.unstable_UserBlockingPriority,an=e.unstable_NormalPriority,Ro=e.unstable_LowPriority,ba=e.unstable_IdlePriority,Ei=null,Jt=null;function Ua(n){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Ei,n,void 0,(n.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:Ba,Po=Math.log,ja=Math.LN2;function Ba(n){return n>>>=0,n===0?32:31-(Po(n)/ja|0)|0}var ds=64,fs=4194304;function Pr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function wi(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,_=a&268435455;if(_!==0){var I=_&~d;I!==0?c=Pr(I):(m&=_,m!==0&&(c=Pr(m)))}else _=a&~d,_!==0?c=Pr(_):m!==0&&(c=Pr(m));if(c===0)return 0;if(i!==0&&i!==c&&!(i&d)&&(d=c&-c,m=i&-i,d>=m||d===16&&(m&4194240)!==0))return i;if(c&4&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-bt(i),d=1<<a,c|=n[a],i&=~d;return c}function Wu(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sr(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var _=31-bt(m),I=1<<_,P=d[_];P===-1?(!(I&a)||I&c)&&(d[_]=Wu(I,i)):P<=i&&(n.expiredLanes|=I),m&=~I}}function Zt(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ti(){var n=ds;return ds<<=1,!(ds&4194240)&&(ds=64),n}function kr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function xr(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-bt(i),n[i]=a}function Be(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-bt(a),m=1<<d;i[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function Nr(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-bt(a),d=1<<c;d&i|n[c]&i&&(n[c]|=i),a&=~d}}var Pe=0;function Dr(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var za,ps,$a,qa,Ha,ko=!1,Un=[],Tt=null,In=null,Sn=null,Vr=new Map,ln=new Map,jn=[],Gu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wa(n,i){switch(n){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":Vr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ln.delete(i.pointerId)}}function zt(n,i,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},i!==null&&(i=qo(i),i!==null&&ps(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function Ku(n,i,a,c,d){switch(i){case"focusin":return Tt=zt(Tt,n,i,a,c,d),!0;case"dragenter":return In=zt(In,n,i,a,c,d),!0;case"mouseover":return Sn=zt(Sn,n,i,a,c,d),!0;case"pointerover":var m=d.pointerId;return Vr.set(m,zt(Vr.get(m)||null,n,i,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,ln.set(m,zt(ln.get(m)||null,n,i,a,c,d)),!0}return!1}function Ga(n){var i=Ri(n.target);if(i!==null){var a=wn(i);if(a!==null){if(i=a.tag,i===13){if(i=vi(a),i!==null){n.blockedOn=i,Ha(n.priority,function(){$a(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function or(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=ms(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);pi=c,a.target.dispatchEvent(c),pi=null}else return i=qo(a),i!==null&&ps(i),n.blockedOn=a,!1;i.shift()}return!0}function Ii(n,i,a){or(n)&&a.delete(i)}function Ka(){ko=!1,Tt!==null&&or(Tt)&&(Tt=null),In!==null&&or(In)&&(In=null),Sn!==null&&or(Sn)&&(Sn=null),Vr.forEach(Ii),ln.forEach(Ii)}function An(n,i){n.blockedOn===i&&(n.blockedOn=null,ko||(ko=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ka)))}function Cn(n){function i(d){return An(d,n)}if(0<Un.length){An(Un[0],n);for(var a=1;a<Un.length;a++){var c=Un[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Tt!==null&&An(Tt,n),In!==null&&An(In,n),Sn!==null&&An(Sn,n),Vr.forEach(i),ln.forEach(i),a=0;a<jn.length;a++)c=jn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<jn.length&&(a=jn[0],a.blockedOn===null);)Ga(a),a.blockedOn===null&&jn.shift()}var ar=fe.ReactCurrentBatchConfig,Lr=!0;function Ke(n,i,a,c){var d=Pe,m=ar.transition;ar.transition=null;try{Pe=1,xo(n,i,a,c)}finally{Pe=d,ar.transition=m}}function Qu(n,i,a,c){var d=Pe,m=ar.transition;ar.transition=null;try{Pe=4,xo(n,i,a,c)}finally{Pe=d,ar.transition=m}}function xo(n,i,a,c){if(Lr){var d=ms(n,i,a,c);if(d===null)oc(n,i,c,Si,a),Wa(n,c);else if(Ku(d,n,i,a,c))c.stopPropagation();else if(Wa(n,c),i&4&&-1<Gu.indexOf(n)){for(;d!==null;){var m=qo(d);if(m!==null&&za(m),m=ms(n,i,a,c),m===null&&oc(n,i,c,Si,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else oc(n,i,c,null,a)}}var Si=null;function ms(n,i,a,c){if(Si=null,n=is(c),n=Ri(n),n!==null)if(i=wn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=vi(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Si=n,null}function No(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fa()){case _i:return 1;case Rr:return 4;case an:case Ro:return 16;case ba:return 536870912;default:return 16}default:return 16}}var en=null,gs=null,$t=null;function Do(){if($t)return $t;var n,i=gs,a=i.length,c,d="value"in en?en.value:en.textContent,m=d.length;for(n=0;n<a&&i[n]===d[n];n++);var _=a-n;for(c=1;c<=_&&i[a-c]===d[m-c];c++);return $t=d.slice(n,1<c?1-c:void 0)}function ys(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Bn(){return!0}function Vo(){return!1}function It(n){function i(a,c,d,m,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(a=n[I],this[I]=a?a(m):m[I]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Bn:Vo,this.isPropagationStopped=Vo,this}return se(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bn)},persist:function(){},isPersistent:Bn}),i}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=It(Rn),zn=se({},Rn,{view:0,detail:0}),Yu=It(zn),_s,lr,Mr,Ai=se({},zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$n,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Mr&&(Mr&&n.type==="mousemove"?(_s=n.screenX-Mr.screenX,lr=n.screenY-Mr.screenY):lr=_s=0,Mr=n),_s)},movementY:function(n){return"movementY"in n?n.movementY:lr}}),Es=It(Ai),Lo=se({},Ai,{dataTransfer:0}),Qa=It(Lo),ws=se({},zn,{relatedTarget:0}),Ts=It(ws),Ya=se({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),ur=It(Ya),Xa=se({},Rn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ja=It(Xa),Za=se({},Rn,{data:0}),Mo=It(Za),Is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ut={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},el={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=el[n])?!!i[n]:!1}function $n(){return tl}var l=se({},zn,{key:function(n){if(n.key){var i=Is[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ys(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ut[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$n,charCode:function(n){return n.type==="keypress"?ys(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ys(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=It(l),y=se({},Ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=It(y),O=se({},zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$n}),z=It(O),ee=se({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=It(ee),ht=se({},Ai,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=It(ht),yt=[9,13,27,32],st=f&&"CompositionEvent"in window,un=null;f&&"documentMode"in document&&(un=document.documentMode);var tn=f&&"TextEvent"in window&&!un,Ci=f&&(!st||un&&8<un&&11>=un),Ss=" ",Zd=!1;function ef(n,i){switch(n){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var As=!1;function Gv(n,i){switch(n){case"compositionend":return tf(i);case"keypress":return i.which!==32?null:(Zd=!0,Ss);case"textInput":return n=i.data,n===Ss&&Zd?null:n;default:return null}}function Kv(n,i){if(As)return n==="compositionend"||!st&&ef(n,i)?(n=Do(),$t=gs=en=null,As=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ci&&i.locale!=="ko"?null:i.data;default:return null}}var Qv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Qv[n.type]:i==="textarea"}function rf(n,i,a,c){bn(c),i=ol(i,"onChange"),0<i.length&&(a=new vs("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var Oo=null,Fo=null;function Yv(n){Tf(n,0)}function nl(n){var i=xs(n);if(Zi(i))return n}function Xv(n,i){if(n==="change")return i}var sf=!1;if(f){var Xu;if(f){var Ju="oninput"in document;if(!Ju){var of=document.createElement("div");of.setAttribute("oninput","return;"),Ju=typeof of.oninput=="function"}Xu=Ju}else Xu=!1;sf=Xu&&(!document.documentMode||9<document.documentMode)}function af(){Oo&&(Oo.detachEvent("onpropertychange",lf),Fo=Oo=null)}function lf(n){if(n.propertyName==="value"&&nl(Fo)){var i=[];rf(i,Fo,n,is(n)),Io(Yv,i)}}function Jv(n,i,a){n==="focusin"?(af(),Oo=i,Fo=a,Oo.attachEvent("onpropertychange",lf)):n==="focusout"&&af()}function Zv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return nl(Fo)}function e_(n,i){if(n==="click")return nl(i)}function t_(n,i){if(n==="input"||n==="change")return nl(i)}function n_(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Pn=typeof Object.is=="function"?Object.is:n_;function bo(n,i){if(Pn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(i,d)||!Pn(n[d],i[d]))return!1}return!0}function uf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function cf(n,i){var a=uf(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=uf(a)}}function hf(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?hf(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function df(){for(var n=window,i=Ar();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Ar(n.document)}return i}function Zu(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function r_(n){var i=df(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&hf(a.ownerDocument.documentElement,a)){if(c!==null&&Zu(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=cf(a,m);var _=cf(a,c);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var i_=f&&"documentMode"in document&&11>=document.documentMode,Cs=null,ec=null,Uo=null,tc=!1;function ff(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;tc||Cs==null||Cs!==Ar(c)||(c=Cs,"selectionStart"in c&&Zu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Uo&&bo(Uo,c)||(Uo=c,c=ol(ec,"onSelect"),0<c.length&&(i=new vs("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=Cs)))}function rl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Rs={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionend:rl("Transition","TransitionEnd")},nc={},pf={};f&&(pf=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function il(n){if(nc[n])return nc[n];if(!Rs[n])return n;var i=Rs[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in pf)return nc[n]=i[a];return n}var mf=il("animationend"),gf=il("animationiteration"),yf=il("animationstart"),vf=il("transitionend"),_f=new Map,Ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(n,i){_f.set(n,i),u(i,[n])}for(var rc=0;rc<Ef.length;rc++){var ic=Ef[rc],s_=ic.toLowerCase(),o_=ic[0].toUpperCase()+ic.slice(1);Or(s_,"on"+o_)}Or(mf,"onAnimationEnd"),Or(gf,"onAnimationIteration"),Or(yf,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(vf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a_=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function wf(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,La(c,i,void 0,n),n.currentTarget=null}function Tf(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var _=c.length-1;0<=_;_--){var I=c[_],P=I.instance,B=I.currentTarget;if(I=I.listener,P!==m&&d.isPropagationStopped())break e;wf(d,I,B),m=P}else for(_=0;_<c.length;_++){if(I=c[_],P=I.instance,B=I.currentTarget,I=I.listener,P!==m&&d.isPropagationStopped())break e;wf(d,I,B),m=P}}}if(En)throw n=So,En=!1,So=null,n}function He(n,i){var a=i[dc];a===void 0&&(a=i[dc]=new Set);var c=n+"__bubble";a.has(c)||(If(i,n,2,!1),a.add(c))}function sc(n,i,a){var c=0;i&&(c|=4),If(a,n,c,i)}var sl="_reactListening"+Math.random().toString(36).slice(2);function Bo(n){if(!n[sl]){n[sl]=!0,s.forEach(function(a){a!=="selectionchange"&&(a_.has(a)||sc(a,!1,n),sc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[sl]||(i[sl]=!0,sc("selectionchange",!1,i))}}function If(n,i,a,c){switch(No(i)){case 1:var d=Ke;break;case 4:d=Qu;break;default:d=xo}a=d.bind(null,i,a,n),d=void 0,!as||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function oc(n,i,a,c,d){var m=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var I=c.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;_=_.return}for(;I!==null;){if(_=Ri(I),_===null)return;if(P=_.tag,P===5||P===6){c=m=_;continue e}I=I.parentNode}}c=c.return}Io(function(){var B=m,X=is(a),J=[];e:{var Y=_f.get(n);if(Y!==void 0){var re=vs,ue=n;switch(n){case"keypress":if(ys(a)===0)break e;case"keydown":case"keyup":re=p;break;case"focusin":ue="focus",re=Ts;break;case"focusout":ue="blur",re=Ts;break;case"beforeblur":case"afterblur":re=Ts;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Qa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=z;break;case mf:case gf:case yf:re=ur;break;case vf:re=Ue;break;case"scroll":re=Yu;break;case"wheel":re=Ne;break;case"copy":case"cut":case"paste":re=Ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=E}var ce=(i&4)!==0,rt=!ce&&n==="scroll",F=ce?Y!==null?Y+"Capture":null:Y;ce=[];for(var N=B,U;N!==null;){U=N;var Z=U.stateNode;if(U.tag===5&&Z!==null&&(U=Z,F!==null&&(Z=nt(N,F),Z!=null&&ce.push(zo(N,Z,U)))),rt)break;N=N.return}0<ce.length&&(Y=new re(Y,ue,null,a,X),J.push({event:Y,listeners:ce}))}}if(!(i&7)){e:{if(Y=n==="mouseover"||n==="pointerover",re=n==="mouseout"||n==="pointerout",Y&&a!==pi&&(ue=a.relatedTarget||a.fromElement)&&(Ri(ue)||ue[cr]))break e;if((re||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,re?(ue=a.relatedTarget||a.toElement,re=B,ue=ue?Ri(ue):null,ue!==null&&(rt=wn(ue),ue!==rt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(re=null,ue=B),re!==ue)){if(ce=Es,Z="onMouseLeave",F="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(ce=E,Z="onPointerLeave",F="onPointerEnter",N="pointer"),rt=re==null?Y:xs(re),U=ue==null?Y:xs(ue),Y=new ce(Z,N+"leave",re,a,X),Y.target=rt,Y.relatedTarget=U,Z=null,Ri(X)===B&&(ce=new ce(F,N+"enter",ue,a,X),ce.target=U,ce.relatedTarget=rt,Z=ce),rt=Z,re&&ue)t:{for(ce=re,F=ue,N=0,U=ce;U;U=Ps(U))N++;for(U=0,Z=F;Z;Z=Ps(Z))U++;for(;0<N-U;)ce=Ps(ce),N--;for(;0<U-N;)F=Ps(F),U--;for(;N--;){if(ce===F||F!==null&&ce===F.alternate)break t;ce=Ps(ce),F=Ps(F)}ce=null}else ce=null;re!==null&&Sf(J,Y,re,ce,!1),ue!==null&&rt!==null&&Sf(J,rt,ue,ce,!0)}}e:{if(Y=B?xs(B):window,re=Y.nodeName&&Y.nodeName.toLowerCase(),re==="select"||re==="input"&&Y.type==="file")var he=Xv;else if(nf(Y))if(sf)he=t_;else{he=Zv;var ge=Jv}else(re=Y.nodeName)&&re.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(he=e_);if(he&&(he=he(n,B))){rf(J,he,a,X);break e}ge&&ge(n,Y,B),n==="focusout"&&(ge=Y._wrapperState)&&ge.controlled&&Y.type==="number"&&ts(Y,"number",Y.value)}switch(ge=B?xs(B):window,n){case"focusin":(nf(ge)||ge.contentEditable==="true")&&(Cs=ge,ec=B,Uo=null);break;case"focusout":Uo=ec=Cs=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,ff(J,a,X);break;case"selectionchange":if(i_)break;case"keydown":case"keyup":ff(J,a,X)}var ye;if(st)e:{switch(n){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else As?ef(n,a)&&(ve="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(Ci&&a.locale!=="ko"&&(As||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&As&&(ye=Do()):(en=X,gs="value"in en?en.value:en.textContent,As=!0)),ge=ol(B,ve),0<ge.length&&(ve=new Mo(ve,n,null,a,X),J.push({event:ve,listeners:ge}),ye?ve.data=ye:(ye=tf(a),ye!==null&&(ve.data=ye)))),(ye=tn?Gv(n,a):Kv(n,a))&&(B=ol(B,"onBeforeInput"),0<B.length&&(X=new Mo("onBeforeInput","beforeinput",null,a,X),J.push({event:X,listeners:B}),X.data=ye))}Tf(J,i)})}function zo(n,i,a){return{instance:n,listener:i,currentTarget:a}}function ol(n,i){for(var a=i+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=nt(n,a),m!=null&&c.unshift(zo(n,m,d)),m=nt(n,i),m!=null&&c.push(zo(n,m,d))),n=n.return}return c}function Ps(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Sf(n,i,a,c,d){for(var m=i._reactName,_=[];a!==null&&a!==c;){var I=a,P=I.alternate,B=I.stateNode;if(P!==null&&P===c)break;I.tag===5&&B!==null&&(I=B,d?(P=nt(a,m),P!=null&&_.unshift(zo(a,P,I))):d||(P=nt(a,m),P!=null&&_.push(zo(a,P,I)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var l_=/\r\n?/g,u_=/\u0000|\uFFFD/g;function Af(n){return(typeof n=="string"?n:""+n).replace(l_,`
`).replace(u_,"")}function al(n,i,a){if(i=Af(i),Af(n)!==i&&a)throw Error(t(425))}function ll(){}var ac=null,lc=null;function uc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var cc=typeof setTimeout=="function"?setTimeout:void 0,c_=typeof clearTimeout=="function"?clearTimeout:void 0,Cf=typeof Promise=="function"?Promise:void 0,h_=typeof queueMicrotask=="function"?queueMicrotask:typeof Cf<"u"?function(n){return Cf.resolve(null).then(n).catch(d_)}:cc;function d_(n){setTimeout(function(){throw n})}function hc(n,i){var a=i,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Cn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Cn(i)}function Fr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Rf(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var ks=Math.random().toString(36).slice(2),qn="__reactFiber$"+ks,$o="__reactProps$"+ks,cr="__reactContainer$"+ks,dc="__reactEvents$"+ks,f_="__reactListeners$"+ks,p_="__reactHandles$"+ks;function Ri(n){var i=n[qn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[cr]||a[qn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Rf(n);n!==null;){if(a=n[qn])return a;n=Rf(n)}return i}n=a,a=n.parentNode}return null}function qo(n){return n=n[qn]||n[cr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function xs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function ul(n){return n[$o]||null}var fc=[],Ns=-1;function br(n){return{current:n}}function We(n){0>Ns||(n.current=fc[Ns],fc[Ns]=null,Ns--)}function qe(n,i){Ns++,fc[Ns]=n.current,n.current=i}var Ur={},Nt=br(Ur),qt=br(!1),Pi=Ur;function Ds(n,i){var a=n.type.contextTypes;if(!a)return Ur;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=d),d}function Ht(n){return n=n.childContextTypes,n!=null}function cl(){We(qt),We(Nt)}function Pf(n,i,a){if(Nt.current!==Ur)throw Error(t(168));qe(Nt,i),qe(qt,a)}function kf(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,Oe(n)||"Unknown",d));return se({},a,c)}function hl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ur,Pi=Nt.current,qe(Nt,n),qe(qt,qt.current),!0}function xf(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=kf(n,i,Pi),c.__reactInternalMemoizedMergedChildContext=n,We(qt),We(Nt),qe(Nt,n)):We(qt),qe(qt,a)}var hr=null,dl=!1,pc=!1;function Nf(n){hr===null?hr=[n]:hr.push(n)}function m_(n){dl=!0,Nf(n)}function jr(){if(!pc&&hr!==null){pc=!0;var n=0,i=Pe;try{var a=hr;for(Pe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}hr=null,dl=!1}catch(d){throw hr!==null&&(hr=hr.slice(n+1)),hs(_i,jr),d}finally{Pe=i,pc=!1}}return null}var Vs=[],Ls=0,fl=null,pl=0,cn=[],hn=0,ki=null,dr=1,fr="";function xi(n,i){Vs[Ls++]=pl,Vs[Ls++]=fl,fl=n,pl=i}function Df(n,i,a){cn[hn++]=dr,cn[hn++]=fr,cn[hn++]=ki,ki=n;var c=dr;n=fr;var d=32-bt(c)-1;c&=~(1<<d),a+=1;var m=32-bt(i)+d;if(30<m){var _=d-d%5;m=(c&(1<<_)-1).toString(32),c>>=_,d-=_,dr=1<<32-bt(i)+d|a<<d|c,fr=m+n}else dr=1<<m|a<<d|c,fr=n}function mc(n){n.return!==null&&(xi(n,1),Df(n,1,0))}function gc(n){for(;n===fl;)fl=Vs[--Ls],Vs[Ls]=null,pl=Vs[--Ls],Vs[Ls]=null;for(;n===ki;)ki=cn[--hn],cn[hn]=null,fr=cn[--hn],cn[hn]=null,dr=cn[--hn],cn[hn]=null}var nn=null,rn=null,Qe=!1,kn=null;function Vf(n,i){var a=mn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Lf(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,nn=n,rn=Fr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,nn=n,rn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=ki!==null?{id:dr,overflow:fr}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=mn(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,nn=n,rn=null,!0):!1;default:return!1}}function yc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function vc(n){if(Qe){var i=rn;if(i){var a=i;if(!Lf(n,i)){if(yc(n))throw Error(t(418));i=Fr(a.nextSibling);var c=nn;i&&Lf(n,i)?Vf(c,a):(n.flags=n.flags&-4097|2,Qe=!1,nn=n)}}else{if(yc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Qe=!1,nn=n}}}function Mf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;nn=n}function ml(n){if(n!==nn)return!1;if(!Qe)return Mf(n),Qe=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!uc(n.type,n.memoizedProps)),i&&(i=rn)){if(yc(n))throw Of(),Error(t(418));for(;i;)Vf(n,i),i=Fr(i.nextSibling)}if(Mf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){rn=Fr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}rn=null}}else rn=nn?Fr(n.stateNode.nextSibling):null;return!0}function Of(){for(var n=rn;n;)n=Fr(n.nextSibling)}function Ms(){rn=nn=null,Qe=!1}function _c(n){kn===null?kn=[n]:kn.push(n)}var g_=fe.ReactCurrentBatchConfig;function Ho(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(_){var I=d.refs;_===null?delete I[m]:I[m]=_},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function gl(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Ff(n){var i=n._init;return i(n._payload)}function bf(n){function i(F,N){if(n){var U=F.deletions;U===null?(F.deletions=[N],F.flags|=16):U.push(N)}}function a(F,N){if(!n)return null;for(;N!==null;)i(F,N),N=N.sibling;return null}function c(F,N){for(F=new Map;N!==null;)N.key!==null?F.set(N.key,N):F.set(N.index,N),N=N.sibling;return F}function d(F,N){return F=Kr(F,N),F.index=0,F.sibling=null,F}function m(F,N,U){return F.index=U,n?(U=F.alternate,U!==null?(U=U.index,U<N?(F.flags|=2,N):U):(F.flags|=2,N)):(F.flags|=1048576,N)}function _(F){return n&&F.alternate===null&&(F.flags|=2),F}function I(F,N,U,Z){return N===null||N.tag!==6?(N=ch(U,F.mode,Z),N.return=F,N):(N=d(N,U),N.return=F,N)}function P(F,N,U,Z){var he=U.type;return he===x?X(F,N,U.props.children,Z,U.key):N!==null&&(N.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xt&&Ff(he)===N.type)?(Z=d(N,U.props),Z.ref=Ho(F,N,U),Z.return=F,Z):(Z=jl(U.type,U.key,U.props,null,F.mode,Z),Z.ref=Ho(F,N,U),Z.return=F,Z)}function B(F,N,U,Z){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=hh(U,F.mode,Z),N.return=F,N):(N=d(N,U.children||[]),N.return=F,N)}function X(F,N,U,Z,he){return N===null||N.tag!==7?(N=bi(U,F.mode,Z,he),N.return=F,N):(N=d(N,U),N.return=F,N)}function J(F,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return N=ch(""+N,F.mode,U),N.return=F,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ce:return U=jl(N.type,N.key,N.props,null,F.mode,U),U.ref=Ho(F,null,N),U.return=F,U;case Te:return N=hh(N,F.mode,U),N.return=F,N;case xt:var Z=N._init;return J(F,Z(N._payload),U)}if(tr(N)||me(N))return N=bi(N,F.mode,U,null),N.return=F,N;gl(F,N)}return null}function Y(F,N,U,Z){var he=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return he!==null?null:I(F,N,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ce:return U.key===he?P(F,N,U,Z):null;case Te:return U.key===he?B(F,N,U,Z):null;case xt:return he=U._init,Y(F,N,he(U._payload),Z)}if(tr(U)||me(U))return he!==null?null:X(F,N,U,Z,null);gl(F,U)}return null}function re(F,N,U,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return F=F.get(U)||null,I(N,F,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Ce:return F=F.get(Z.key===null?U:Z.key)||null,P(N,F,Z,he);case Te:return F=F.get(Z.key===null?U:Z.key)||null,B(N,F,Z,he);case xt:var ge=Z._init;return re(F,N,U,ge(Z._payload),he)}if(tr(Z)||me(Z))return F=F.get(U)||null,X(N,F,Z,he,null);gl(N,Z)}return null}function ue(F,N,U,Z){for(var he=null,ge=null,ye=N,ve=N=0,Et=null;ye!==null&&ve<U.length;ve++){ye.index>ve?(Et=ye,ye=null):Et=ye.sibling;var Me=Y(F,ye,U[ve],Z);if(Me===null){ye===null&&(ye=Et);break}n&&ye&&Me.alternate===null&&i(F,ye),N=m(Me,N,ve),ge===null?he=Me:ge.sibling=Me,ge=Me,ye=Et}if(ve===U.length)return a(F,ye),Qe&&xi(F,ve),he;if(ye===null){for(;ve<U.length;ve++)ye=J(F,U[ve],Z),ye!==null&&(N=m(ye,N,ve),ge===null?he=ye:ge.sibling=ye,ge=ye);return Qe&&xi(F,ve),he}for(ye=c(F,ye);ve<U.length;ve++)Et=re(ye,F,ve,U[ve],Z),Et!==null&&(n&&Et.alternate!==null&&ye.delete(Et.key===null?ve:Et.key),N=m(Et,N,ve),ge===null?he=Et:ge.sibling=Et,ge=Et);return n&&ye.forEach(function(Qr){return i(F,Qr)}),Qe&&xi(F,ve),he}function ce(F,N,U,Z){var he=me(U);if(typeof he!="function")throw Error(t(150));if(U=he.call(U),U==null)throw Error(t(151));for(var ge=he=null,ye=N,ve=N=0,Et=null,Me=U.next();ye!==null&&!Me.done;ve++,Me=U.next()){ye.index>ve?(Et=ye,ye=null):Et=ye.sibling;var Qr=Y(F,ye,Me.value,Z);if(Qr===null){ye===null&&(ye=Et);break}n&&ye&&Qr.alternate===null&&i(F,ye),N=m(Qr,N,ve),ge===null?he=Qr:ge.sibling=Qr,ge=Qr,ye=Et}if(Me.done)return a(F,ye),Qe&&xi(F,ve),he;if(ye===null){for(;!Me.done;ve++,Me=U.next())Me=J(F,Me.value,Z),Me!==null&&(N=m(Me,N,ve),ge===null?he=Me:ge.sibling=Me,ge=Me);return Qe&&xi(F,ve),he}for(ye=c(F,ye);!Me.done;ve++,Me=U.next())Me=re(ye,F,ve,Me.value,Z),Me!==null&&(n&&Me.alternate!==null&&ye.delete(Me.key===null?ve:Me.key),N=m(Me,N,ve),ge===null?he=Me:ge.sibling=Me,ge=Me);return n&&ye.forEach(function(Q_){return i(F,Q_)}),Qe&&xi(F,ve),he}function rt(F,N,U,Z){if(typeof U=="object"&&U!==null&&U.type===x&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Ce:e:{for(var he=U.key,ge=N;ge!==null;){if(ge.key===he){if(he=U.type,he===x){if(ge.tag===7){a(F,ge.sibling),N=d(ge,U.props.children),N.return=F,F=N;break e}}else if(ge.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xt&&Ff(he)===ge.type){a(F,ge.sibling),N=d(ge,U.props),N.ref=Ho(F,ge,U),N.return=F,F=N;break e}a(F,ge);break}else i(F,ge);ge=ge.sibling}U.type===x?(N=bi(U.props.children,F.mode,Z,U.key),N.return=F,F=N):(Z=jl(U.type,U.key,U.props,null,F.mode,Z),Z.ref=Ho(F,N,U),Z.return=F,F=Z)}return _(F);case Te:e:{for(ge=U.key;N!==null;){if(N.key===ge)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(F,N.sibling),N=d(N,U.children||[]),N.return=F,F=N;break e}else{a(F,N);break}else i(F,N);N=N.sibling}N=hh(U,F.mode,Z),N.return=F,F=N}return _(F);case xt:return ge=U._init,rt(F,N,ge(U._payload),Z)}if(tr(U))return ue(F,N,U,Z);if(me(U))return ce(F,N,U,Z);gl(F,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,N!==null&&N.tag===6?(a(F,N.sibling),N=d(N,U),N.return=F,F=N):(a(F,N),N=ch(U,F.mode,Z),N.return=F,F=N),_(F)):a(F,N)}return rt}var Os=bf(!0),Uf=bf(!1),yl=br(null),vl=null,Fs=null,Ec=null;function wc(){Ec=Fs=vl=null}function Tc(n){var i=yl.current;We(yl),n._currentValue=i}function Ic(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function bs(n,i){vl=n,Ec=Fs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(Wt=!0),n.firstContext=null)}function dn(n){var i=n._currentValue;if(Ec!==n)if(n={context:n,memoizedValue:i,next:null},Fs===null){if(vl===null)throw Error(t(308));Fs=n,vl.dependencies={lanes:0,firstContext:n}}else Fs=Fs.next=n;return i}var Ni=null;function Sc(n){Ni===null?Ni=[n]:Ni.push(n)}function jf(n,i,a,c){var d=i.interleaved;return d===null?(a.next=a,Sc(i)):(a.next=d.next,d.next=a),i.interleaved=a,pr(n,c)}function pr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Br=!1;function Ac(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function mr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function zr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,Le&2){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,pr(n,a)}return d=c.interleaved,d===null?(i.next=i,Sc(c)):(i.next=d.next,d.next=i),c.interleaved=i,pr(n,a)}function _l(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Nr(n,a)}}function zf(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function El(n,i,a,c){var d=n.updateQueue;Br=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var P=I,B=P.next;P.next=null,_===null?m=B:_.next=B,_=P;var X=n.alternate;X!==null&&(X=X.updateQueue,I=X.lastBaseUpdate,I!==_&&(I===null?X.firstBaseUpdate=B:I.next=B,X.lastBaseUpdate=P))}if(m!==null){var J=d.baseState;_=0,X=B=P=null,I=m;do{var Y=I.lane,re=I.eventTime;if((c&Y)===Y){X!==null&&(X=X.next={eventTime:re,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ue=n,ce=I;switch(Y=i,re=a,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){J=ue.call(re,J,Y);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,Y=typeof ue=="function"?ue.call(re,J,Y):ue,Y==null)break e;J=se({},J,Y);break e;case 2:Br=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,Y=d.effects,Y===null?d.effects=[I]:Y.push(I))}else re={eventTime:re,lane:Y,tag:I.tag,payload:I.payload,callback:I.callback,next:null},X===null?(B=X=re,P=J):X=X.next=re,_|=Y;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;Y=I,I=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);if(X===null&&(P=J),d.baseState=P,d.firstBaseUpdate=B,d.lastBaseUpdate=X,i=d.shared.interleaved,i!==null){d=i;do _|=d.lane,d=d.next;while(d!==i)}else m===null&&(d.shared.lanes=0);Li|=_,n.lanes=_,n.memoizedState=J}}function $f(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Wo={},Hn=br(Wo),Go=br(Wo),Ko=br(Wo);function Di(n){if(n===Wo)throw Error(t(174));return n}function Cc(n,i){switch(qe(Ko,i),qe(Go,n),qe(Hn,Wo),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ct(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=ct(i,n)}We(Hn),qe(Hn,i)}function Us(){We(Hn),We(Go),We(Ko)}function qf(n){Di(Ko.current);var i=Di(Hn.current),a=ct(i,n.type);i!==a&&(qe(Go,n),qe(Hn,a))}function Rc(n){Go.current===n&&(We(Hn),We(Go))}var Ye=br(0);function wl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Pc=[];function kc(){for(var n=0;n<Pc.length;n++)Pc[n]._workInProgressVersionPrimary=null;Pc.length=0}var Tl=fe.ReactCurrentDispatcher,xc=fe.ReactCurrentBatchConfig,Vi=0,Xe=null,dt=null,vt=null,Il=!1,Qo=!1,Yo=0,y_=0;function Dt(){throw Error(t(321))}function Nc(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Pn(n[a],i[a]))return!1;return!0}function Dc(n,i,a,c,d,m){if(Vi=m,Xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Tl.current=n===null||n.memoizedState===null?w_:T_,n=a(c,d),Qo){m=0;do{if(Qo=!1,Yo=0,25<=m)throw Error(t(301));m+=1,vt=dt=null,i.updateQueue=null,Tl.current=I_,n=a(c,d)}while(Qo)}if(Tl.current=Cl,i=dt!==null&&dt.next!==null,Vi=0,vt=dt=Xe=null,Il=!1,i)throw Error(t(300));return n}function Vc(){var n=Yo!==0;return Yo=0,n}function Wn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Xe.memoizedState=vt=n:vt=vt.next=n,vt}function fn(){if(dt===null){var n=Xe.alternate;n=n!==null?n.memoizedState:null}else n=dt.next;var i=vt===null?Xe.memoizedState:vt.next;if(i!==null)vt=i,dt=n;else{if(n===null)throw Error(t(310));dt=n,n={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},vt===null?Xe.memoizedState=vt=n:vt=vt.next=n}return vt}function Xo(n,i){return typeof i=="function"?i(n):i}function Lc(n){var i=fn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=dt,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var I=_=null,P=null,B=m;do{var X=B.lane;if((Vi&X)===X)P!==null&&(P=P.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:n(c,B.action);else{var J={lane:X,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};P===null?(I=P=J,_=c):P=P.next=J,Xe.lanes|=X,Li|=X}B=B.next}while(B!==null&&B!==m);P===null?_=c:P.next=I,Pn(c,i.memoizedState)||(Wt=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=P,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,Xe.lanes|=m,Li|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Mc(n){var i=fn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do m=n(m,_.action),_=_.next;while(_!==d);Pn(m,i.memoizedState)||(Wt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function Hf(){}function Wf(n,i){var a=Xe,c=fn(),d=i(),m=!Pn(c.memoizedState,d);if(m&&(c.memoizedState=d,Wt=!0),c=c.queue,Oc(Qf.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||vt!==null&&vt.memoizedState.tag&1){if(a.flags|=2048,Jo(9,Kf.bind(null,a,c,d,i),void 0,null),_t===null)throw Error(t(349));Vi&30||Gf(a,i,d)}return d}function Gf(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Xe.updateQueue,i===null?(i={lastEffect:null,stores:null},Xe.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Kf(n,i,a,c){i.value=a,i.getSnapshot=c,Yf(i)&&Xf(n)}function Qf(n,i,a){return a(function(){Yf(i)&&Xf(n)})}function Yf(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Pn(n,a)}catch{return!0}}function Xf(n){var i=pr(n,1);i!==null&&Vn(i,n,1,-1)}function Jf(n){var i=Wn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:n},i.queue=n,n=n.dispatch=E_.bind(null,Xe,n),[i.memoizedState,n]}function Jo(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=Xe.updateQueue,i===null?(i={lastEffect:null,stores:null},Xe.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function Zf(){return fn().memoizedState}function Sl(n,i,a,c){var d=Wn();Xe.flags|=n,d.memoizedState=Jo(1|i,a,void 0,c===void 0?null:c)}function Al(n,i,a,c){var d=fn();c=c===void 0?null:c;var m=void 0;if(dt!==null){var _=dt.memoizedState;if(m=_.destroy,c!==null&&Nc(c,_.deps)){d.memoizedState=Jo(i,a,m,c);return}}Xe.flags|=n,d.memoizedState=Jo(1|i,a,m,c)}function ep(n,i){return Sl(8390656,8,n,i)}function Oc(n,i){return Al(2048,8,n,i)}function tp(n,i){return Al(4,2,n,i)}function np(n,i){return Al(4,4,n,i)}function rp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function ip(n,i,a){return a=a!=null?a.concat([n]):null,Al(4,4,rp.bind(null,i,n),a)}function Fc(){}function sp(n,i){var a=fn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Nc(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function op(n,i){var a=fn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Nc(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function ap(n,i,a){return Vi&21?(Pn(a,i)||(a=Ti(),Xe.lanes|=a,Li|=a,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,Wt=!0),n.memoizedState=a)}function v_(n,i){var a=Pe;Pe=a!==0&&4>a?a:4,n(!0);var c=xc.transition;xc.transition={};try{n(!1),i()}finally{Pe=a,xc.transition=c}}function lp(){return fn().memoizedState}function __(n,i,a){var c=Wr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},up(n))cp(i,a);else if(a=jf(n,i,a,c),a!==null){var d=Bt();Vn(a,n,c,d),hp(a,i,c)}}function E_(n,i,a){var c=Wr(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(up(n))cp(i,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,I=m(_,a);if(d.hasEagerState=!0,d.eagerState=I,Pn(I,_)){var P=i.interleaved;P===null?(d.next=d,Sc(i)):(d.next=P.next,P.next=d),i.interleaved=d;return}}catch{}finally{}a=jf(n,i,d,c),a!==null&&(d=Bt(),Vn(a,n,c,d),hp(a,i,c))}}function up(n){var i=n.alternate;return n===Xe||i!==null&&i===Xe}function cp(n,i){Qo=Il=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function hp(n,i,a){if(a&4194240){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Nr(n,a)}}var Cl={readContext:dn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},w_={readContext:dn,useCallback:function(n,i){return Wn().memoizedState=[n,i===void 0?null:i],n},useContext:dn,useEffect:ep,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Sl(4194308,4,rp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Sl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Sl(4,2,n,i)},useMemo:function(n,i){var a=Wn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Wn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=__.bind(null,Xe,n),[c.memoizedState,n]},useRef:function(n){var i=Wn();return n={current:n},i.memoizedState=n},useState:Jf,useDebugValue:Fc,useDeferredValue:function(n){return Wn().memoizedState=n},useTransition:function(){var n=Jf(!1),i=n[0];return n=v_.bind(null,n[1]),Wn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=Xe,d=Wn();if(Qe){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),_t===null)throw Error(t(349));Vi&30||Gf(c,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,ep(Qf.bind(null,c,m,n),[n]),c.flags|=2048,Jo(9,Kf.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=Wn(),i=_t.identifierPrefix;if(Qe){var a=fr,c=dr;a=(c&~(1<<32-bt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=Yo++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=y_++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},T_={readContext:dn,useCallback:sp,useContext:dn,useEffect:Oc,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:np,useMemo:op,useReducer:Lc,useRef:Zf,useState:function(){return Lc(Xo)},useDebugValue:Fc,useDeferredValue:function(n){var i=fn();return ap(i,dt.memoizedState,n)},useTransition:function(){var n=Lc(Xo)[0],i=fn().memoizedState;return[n,i]},useMutableSource:Hf,useSyncExternalStore:Wf,useId:lp,unstable_isNewReconciler:!1},I_={readContext:dn,useCallback:sp,useContext:dn,useEffect:Oc,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:np,useMemo:op,useReducer:Mc,useRef:Zf,useState:function(){return Mc(Xo)},useDebugValue:Fc,useDeferredValue:function(n){var i=fn();return dt===null?i.memoizedState=n:ap(i,dt.memoizedState,n)},useTransition:function(){var n=Mc(Xo)[0],i=fn().memoizedState;return[n,i]},useMutableSource:Hf,useSyncExternalStore:Wf,useId:lp,unstable_isNewReconciler:!1};function xn(n,i){if(n&&n.defaultProps){i=se({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function bc(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:se({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Rl={isMounted:function(n){return(n=n._reactInternals)?wn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Bt(),d=Wr(n),m=mr(c,d);m.payload=i,a!=null&&(m.callback=a),i=zr(n,m,d),i!==null&&(Vn(i,n,d,c),_l(i,n,d))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Bt(),d=Wr(n),m=mr(c,d);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=zr(n,m,d),i!==null&&(Vn(i,n,d,c),_l(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Bt(),c=Wr(n),d=mr(a,c);d.tag=2,i!=null&&(d.callback=i),i=zr(n,d,c),i!==null&&(Vn(i,n,c,a),_l(i,n,c))}};function dp(n,i,a,c,d,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,_):i.prototype&&i.prototype.isPureReactComponent?!bo(a,c)||!bo(d,m):!0}function fp(n,i,a){var c=!1,d=Ur,m=i.contextType;return typeof m=="object"&&m!==null?m=dn(m):(d=Ht(i)?Pi:Nt.current,c=i.contextTypes,m=(c=c!=null)?Ds(n,d):Ur),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Rl,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),i}function pp(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&Rl.enqueueReplaceState(i,i.state,null)}function Uc(n,i,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},Ac(n);var m=i.contextType;typeof m=="object"&&m!==null?d.context=dn(m):(m=Ht(i)?Pi:Nt.current,d.context=Ds(n,m)),d.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(bc(n,i,m,a),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Rl.enqueueReplaceState(d,d.state,null),El(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function js(n,i){try{var a="",c=i;do a+=Se(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:d,digest:null}}function jc(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Bc(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var S_=typeof WeakMap=="function"?WeakMap:Map;function mp(n,i,a){a=mr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){Ll||(Ll=!0,nh=c),Bc(n,i)},a}function gp(n,i,a){a=mr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){Bc(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Bc(n,i),typeof c!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function yp(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new S_;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),n=b_.bind(null,n,i,a),i.then(n,n))}function vp(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function _p(n,i,a,c,d){return n.mode&1?(n.flags|=65536,n.lanes=d,n):(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=mr(-1,1),i.tag=2,zr(a,i,1))),a.lanes|=1),n)}var A_=fe.ReactCurrentOwner,Wt=!1;function jt(n,i,a,c){i.child=n===null?Uf(i,null,a,c):Os(i,n.child,a,c)}function Ep(n,i,a,c,d){a=a.render;var m=i.ref;return bs(i,d),c=Dc(n,i,a,c,m,d),a=Vc(),n!==null&&!Wt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,gr(n,i,d)):(Qe&&a&&mc(i),i.flags|=1,jt(n,i,c,d),i.child)}function wp(n,i,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!uh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,Tp(n,i,m,c,d)):(n=jl(a.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!(n.lanes&d)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:bo,a(_,c)&&n.ref===i.ref)return gr(n,i,d)}return i.flags|=1,n=Kr(m,c),n.ref=i.ref,n.return=i,i.child=n}function Tp(n,i,a,c,d){if(n!==null){var m=n.memoizedProps;if(bo(m,c)&&n.ref===i.ref)if(Wt=!1,i.pendingProps=c=m,(n.lanes&d)!==0)n.flags&131072&&(Wt=!0);else return i.lanes=n.lanes,gr(n,i,d)}return zc(n,i,a,c,d)}function Ip(n,i,a){var c=i.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(zs,sn),sn|=a;else{if(!(a&1073741824))return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,qe(zs,sn),sn|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,qe(zs,sn),sn|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,qe(zs,sn),sn|=c;return jt(n,i,d,a),i.child}function Sp(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function zc(n,i,a,c,d){var m=Ht(a)?Pi:Nt.current;return m=Ds(i,m),bs(i,d),a=Dc(n,i,a,c,m,d),c=Vc(),n!==null&&!Wt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,gr(n,i,d)):(Qe&&c&&mc(i),i.flags|=1,jt(n,i,a,d),i.child)}function Ap(n,i,a,c,d){if(Ht(a)){var m=!0;hl(i)}else m=!1;if(bs(i,d),i.stateNode===null)kl(n,i),fp(i,a,c),Uc(i,a,c,d),c=!0;else if(n===null){var _=i.stateNode,I=i.memoizedProps;_.props=I;var P=_.context,B=a.contextType;typeof B=="object"&&B!==null?B=dn(B):(B=Ht(a)?Pi:Nt.current,B=Ds(i,B));var X=a.getDerivedStateFromProps,J=typeof X=="function"||typeof _.getSnapshotBeforeUpdate=="function";J||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==c||P!==B)&&pp(i,_,c,B),Br=!1;var Y=i.memoizedState;_.state=Y,El(i,c,_,d),P=i.memoizedState,I!==c||Y!==P||qt.current||Br?(typeof X=="function"&&(bc(i,a,X,c),P=i.memoizedState),(I=Br||dp(i,a,I,c,Y,P,B))?(J||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=P),_.props=c,_.state=P,_.context=B,c=I):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,Bf(n,i),I=i.memoizedProps,B=i.type===i.elementType?I:xn(i.type,I),_.props=B,J=i.pendingProps,Y=_.context,P=a.contextType,typeof P=="object"&&P!==null?P=dn(P):(P=Ht(a)?Pi:Nt.current,P=Ds(i,P));var re=a.getDerivedStateFromProps;(X=typeof re=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==J||Y!==P)&&pp(i,_,c,P),Br=!1,Y=i.memoizedState,_.state=Y,El(i,c,_,d);var ue=i.memoizedState;I!==J||Y!==ue||qt.current||Br?(typeof re=="function"&&(bc(i,a,re,c),ue=i.memoizedState),(B=Br||dp(i,a,B,c,Y,ue,P)||!1)?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ue,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ue,P)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ue),_.props=c,_.state=ue,_.context=P,c=B):(typeof _.componentDidUpdate!="function"||I===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),c=!1)}return $c(n,i,a,c,m,d)}function $c(n,i,a,c,d,m){Sp(n,i);var _=(i.flags&128)!==0;if(!c&&!_)return d&&xf(i,a,!1),gr(n,i,m);c=i.stateNode,A_.current=i;var I=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&_?(i.child=Os(i,n.child,null,m),i.child=Os(i,null,I,m)):jt(n,i,I,m),i.memoizedState=c.state,d&&xf(i,a,!0),i.child}function Cp(n){var i=n.stateNode;i.pendingContext?Pf(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Pf(n,i.context,!1),Cc(n,i.containerInfo)}function Rp(n,i,a,c,d){return Ms(),_c(d),i.flags|=256,jt(n,i,a,c),i.child}var qc={dehydrated:null,treeContext:null,retryLane:0};function Hc(n){return{baseLanes:n,cachePool:null,transitions:null}}function Pp(n,i,a){var c=i.pendingProps,d=Ye.current,m=!1,_=(i.flags&128)!==0,I;if((I=_)||(I=n!==null&&n.memoizedState===null?!1:(d&2)!==0),I?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),qe(Ye,d&1),n===null)return vc(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_=c.children,n=c.fallback,m?(c=i.mode,m=i.child,_={mode:"hidden",children:_},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=_):m=Bl(_,c,0,null),n=bi(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=Hc(a),i.memoizedState=qc,n):Wc(i,_));if(d=n.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return C_(n,i,_,c,I,d,a);if(m){m=c.fallback,_=i.mode,d=n.child,I=d.sibling;var P={mode:"hidden",children:c.children};return!(_&1)&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=P,i.deletions=null):(c=Kr(d,P),c.subtreeFlags=d.subtreeFlags&14680064),I!==null?m=Kr(I,m):(m=bi(m,_,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,_=n.child.memoizedState,_=_===null?Hc(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=n.childLanes&~a,i.memoizedState=qc,c}return m=n.child,n=m.sibling,c=Kr(m,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function Wc(n,i){return i=Bl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Pl(n,i,a,c){return c!==null&&_c(c),Os(i,n.child,null,a),n=Wc(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function C_(n,i,a,c,d,m,_){if(a)return i.flags&256?(i.flags&=-257,c=jc(Error(t(422))),Pl(n,i,_,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,d=i.mode,c=Bl({mode:"visible",children:c.children},d,0,null),m=bi(m,d,_,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,i.mode&1&&Os(i,n.child,null,_),i.child.memoizedState=Hc(_),i.memoizedState=qc,m);if(!(i.mode&1))return Pl(n,i,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var I=c.dgst;return c=I,m=Error(t(419)),c=jc(m,c,void 0),Pl(n,i,_,c)}if(I=(_&n.childLanes)!==0,Wt||I){if(c=_t,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,pr(n,d),Vn(c,n,d,-1))}return lh(),c=jc(Error(t(421))),Pl(n,i,_,c)}return d.data==="$?"?(i.flags|=128,i.child=n.child,i=U_.bind(null,n),d._reactRetry=i,null):(n=m.treeContext,rn=Fr(d.nextSibling),nn=i,Qe=!0,kn=null,n!==null&&(cn[hn++]=dr,cn[hn++]=fr,cn[hn++]=ki,dr=n.id,fr=n.overflow,ki=i),i=Wc(i,c.children),i.flags|=4096,i)}function kp(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Ic(n.return,i,a)}function Gc(n,i,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function xp(n,i,a){var c=i.pendingProps,d=c.revealOrder,m=c.tail;if(jt(n,i,c.children,a),c=Ye.current,c&2)c=c&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&kp(n,a,i);else if(n.tag===19)kp(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(qe(Ye,c),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&wl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Gc(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&wl(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Gc(i,!0,a,null,m);break;case"together":Gc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function kl(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function gr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Li|=i.lanes,!(a&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=Kr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Kr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function R_(n,i,a){switch(i.tag){case 3:Cp(i),Ms();break;case 5:qf(i);break;case 1:Ht(i.type)&&hl(i);break;case 4:Cc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;qe(yl,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(qe(Ye,Ye.current&1),i.flags|=128,null):a&i.child.childLanes?Pp(n,i,a):(qe(Ye,Ye.current&1),n=gr(n,i,a),n!==null?n.sibling:null);qe(Ye,Ye.current&1);break;case 19:if(c=(a&i.childLanes)!==0,n.flags&128){if(c)return xp(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Ye,Ye.current),c)break;return null;case 22:case 23:return i.lanes=0,Ip(n,i,a)}return gr(n,i,a)}var Np,Kc,Dp,Vp;Np=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Kc=function(){},Dp=function(n,i,a,c){var d=n.memoizedProps;if(d!==c){n=i.stateNode,Di(Hn.current);var m=null;switch(a){case"input":d=hi(n,d),c=hi(n,c),m=[];break;case"select":d=se({},d,{value:void 0}),c=se({},c,{value:void 0}),m=[];break;case"textarea":d=fo(n,d),c=fo(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=ll)}_o(a,c);var _;a=null;for(B in d)if(!c.hasOwnProperty(B)&&d.hasOwnProperty(B)&&d[B]!=null)if(B==="style"){var I=d[B];for(_ in I)I.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?m||(m=[]):(m=m||[]).push(B,null));for(B in c){var P=c[B];if(I=d!=null?d[B]:void 0,c.hasOwnProperty(B)&&P!==I&&(P!=null||I!=null))if(B==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in P)P.hasOwnProperty(_)&&I[_]!==P[_]&&(a||(a={}),a[_]=P[_])}else a||(m||(m=[]),m.push(B,a)),a=P;else B==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,I=I?I.__html:void 0,P!=null&&I!==P&&(m=m||[]).push(B,P)):B==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(B,""+P):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(P!=null&&B==="onScroll"&&He("scroll",n),m||I===P||(m=[])):(m=m||[]).push(B,P))}a&&(m=m||[]).push("style",a);var B=m;(i.updateQueue=B)&&(i.flags|=4)}},Vp=function(n,i,a,c){a!==c&&(i.flags|=4)};function Zo(n,i){if(!Qe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Vt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function P_(n,i,a){var c=i.pendingProps;switch(gc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(i),null;case 1:return Ht(i.type)&&cl(),Vt(i),null;case 3:return c=i.stateNode,Us(),We(qt),We(Nt),kc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(ml(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,kn!==null&&(sh(kn),kn=null))),Kc(n,i),Vt(i),null;case 5:Rc(i);var d=Di(Ko.current);if(a=i.type,n!==null&&i.stateNode!=null)Dp(n,i,a,c,d),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Vt(i),null}if(n=Di(Hn.current),ml(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[qn]=i,c[$o]=m,n=(i.mode&1)!==0,a){case"dialog":He("cancel",c),He("close",c);break;case"iframe":case"object":case"embed":He("load",c);break;case"video":case"audio":for(d=0;d<jo.length;d++)He(jo[d],c);break;case"source":He("error",c);break;case"img":case"image":case"link":He("error",c),He("load",c);break;case"details":He("toggle",c);break;case"input":es(c,m),He("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},He("invalid",c);break;case"textarea":ns(c,m),He("invalid",c)}_o(a,m),d=null;for(var _ in m)if(m.hasOwnProperty(_)){var I=m[_];_==="children"?typeof I=="string"?c.textContent!==I&&(m.suppressHydrationWarning!==!0&&al(c.textContent,I,n),d=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(m.suppressHydrationWarning!==!0&&al(c.textContent,I,n),d=["children",""+I]):o.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&He("scroll",c)}switch(a){case"input":er(c),Va(c,m,!0);break;case"textarea":er(c),po(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=ll)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ut(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[qn]=i,n[$o]=c,Np(n,i,!1,!1),i.stateNode=n;e:{switch(_=Eo(a,c),a){case"dialog":He("cancel",n),He("close",n),d=c;break;case"iframe":case"object":case"embed":He("load",n),d=c;break;case"video":case"audio":for(d=0;d<jo.length;d++)He(jo[d],n);d=c;break;case"source":He("error",n),d=c;break;case"img":case"image":case"link":He("error",n),He("load",n),d=c;break;case"details":He("toggle",n),d=c;break;case"input":es(n,c),d=hi(n,c),He("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=se({},c,{value:void 0}),He("invalid",n);break;case"textarea":ns(n,c),d=fo(n,c),He("invalid",n);break;default:d=c}_o(a,d),I=d;for(m in I)if(I.hasOwnProperty(m)){var P=I[m];m==="style"?yo(n,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&mo(n,P)):m==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Cr(n,P):typeof P=="number"&&Cr(n,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?P!=null&&m==="onScroll"&&He("scroll",n):P!=null&&ie(n,m,P,_))}switch(a){case"input":er(n),Va(n,c,!1);break;case"textarea":er(n),po(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Fe(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?nr(n,!!c.multiple,m,!1):c.defaultValue!=null&&nr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=ll)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Vt(i),null;case 6:if(n&&i.stateNode!=null)Vp(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Di(Ko.current),Di(Hn.current),ml(i)){if(c=i.stateNode,a=i.memoizedProps,c[qn]=i,(m=c.nodeValue!==a)&&(n=nn,n!==null))switch(n.tag){case 3:al(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&al(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[qn]=i,i.stateNode=c}return Vt(i),null;case 13:if(We(Ye),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Qe&&rn!==null&&i.mode&1&&!(i.flags&128))Of(),Ms(),i.flags|=98560,m=!1;else if(m=ml(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[qn]=i}else Ms(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Vt(i),m=!1}else kn!==null&&(sh(kn),kn=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(n===null||Ye.current&1?ft===0&&(ft=3):lh())),i.updateQueue!==null&&(i.flags|=4),Vt(i),null);case 4:return Us(),Kc(n,i),n===null&&Bo(i.stateNode.containerInfo),Vt(i),null;case 10:return Tc(i.type._context),Vt(i),null;case 17:return Ht(i.type)&&cl(),Vt(i),null;case 19:if(We(Ye),m=i.memoizedState,m===null)return Vt(i),null;if(c=(i.flags&128)!==0,_=m.rendering,_===null)if(c)Zo(m,!1);else{if(ft!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(_=wl(n),_!==null){for(i.flags|=128,Zo(m,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,n=_.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return qe(Ye,Ye.current&1|2),i.child}n=n.sibling}m.tail!==null&&$e()>$s&&(i.flags|=128,c=!0,Zo(m,!1),i.lanes=4194304)}else{if(!c)if(n=wl(_),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Zo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Qe)return Vt(i),null}else 2*$e()-m.renderingStartTime>$s&&a!==1073741824&&(i.flags|=128,c=!0,Zo(m,!1),i.lanes=4194304);m.isBackwards?(_.sibling=i.child,i.child=_):(a=m.last,a!==null?a.sibling=_:i.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=$e(),i.sibling=null,a=Ye.current,qe(Ye,c?a&1|2:a&1),i):(Vt(i),null);case 22:case 23:return ah(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?sn&1073741824&&(Vt(i),i.subtreeFlags&6&&(i.flags|=8192)):Vt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function k_(n,i){switch(gc(i),i.tag){case 1:return Ht(i.type)&&cl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Us(),We(qt),We(Nt),kc(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return Rc(i),null;case 13:if(We(Ye),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Ms()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return We(Ye),null;case 4:return Us(),null;case 10:return Tc(i.type._context),null;case 22:case 23:return ah(),null;case 24:return null;default:return null}}var xl=!1,Lt=!1,x_=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Bs(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){et(n,i,c)}else a.current=null}function Qc(n,i,a){try{a()}catch(c){et(n,i,c)}}var Lp=!1;function N_(n,i){if(ac=Lr,n=df(),Zu(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,I=-1,P=-1,B=0,X=0,J=n,Y=null;t:for(;;){for(var re;J!==a||d!==0&&J.nodeType!==3||(I=_+d),J!==m||c!==0&&J.nodeType!==3||(P=_+c),J.nodeType===3&&(_+=J.nodeValue.length),(re=J.firstChild)!==null;)Y=J,J=re;for(;;){if(J===n)break t;if(Y===a&&++B===d&&(I=_),Y===m&&++X===c&&(P=_),(re=J.nextSibling)!==null)break;J=Y,Y=J.parentNode}J=re}a=I===-1||P===-1?null:{start:I,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(lc={focusedElem:n,selectionRange:a},Lr=!1,ae=i;ae!==null;)if(i=ae,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ae=n;else for(;ae!==null;){i=ae;try{var ue=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,rt=ue.memoizedState,F=i.stateNode,N=F.getSnapshotBeforeUpdate(i.elementType===i.type?ce:xn(i.type,ce),rt);F.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){et(i,i.return,Z)}if(n=i.sibling,n!==null){n.return=i.return,ae=n;break}ae=i.return}return ue=Lp,Lp=!1,ue}function ea(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&Qc(i,a,m)}d=d.next}while(d!==c)}}function Nl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Yc(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function Mp(n){var i=n.alternate;i!==null&&(n.alternate=null,Mp(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[qn],delete i[$o],delete i[dc],delete i[f_],delete i[p_])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Op(n){return n.tag===5||n.tag===3||n.tag===4}function Fp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Op(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Xc(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ll));else if(c!==4&&(n=n.child,n!==null))for(Xc(n,i,a),n=n.sibling;n!==null;)Xc(n,i,a),n=n.sibling}function Jc(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Jc(n,i,a),n=n.sibling;n!==null;)Jc(n,i,a),n=n.sibling}var St=null,Nn=!1;function $r(n,i,a){for(a=a.child;a!==null;)bp(n,i,a),a=a.sibling}function bp(n,i,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Ei,a)}catch{}switch(a.tag){case 5:Lt||Bs(a,i);case 6:var c=St,d=Nn;St=null,$r(n,i,a),St=c,Nn=d,St!==null&&(Nn?(n=St,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):St.removeChild(a.stateNode));break;case 18:St!==null&&(Nn?(n=St,a=a.stateNode,n.nodeType===8?hc(n.parentNode,a):n.nodeType===1&&hc(n,a),Cn(n)):hc(St,a.stateNode));break;case 4:c=St,d=Nn,St=a.stateNode.containerInfo,Nn=!0,$r(n,i,a),St=c,Nn=d;break;case 0:case 11:case 14:case 15:if(!Lt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,_=m.destroy;m=m.tag,_!==void 0&&(m&2||m&4)&&Qc(a,i,_),d=d.next}while(d!==c)}$r(n,i,a);break;case 1:if(!Lt&&(Bs(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(I){et(a,i,I)}$r(n,i,a);break;case 21:$r(n,i,a);break;case 22:a.mode&1?(Lt=(c=Lt)||a.memoizedState!==null,$r(n,i,a),Lt=c):$r(n,i,a);break;default:$r(n,i,a)}}function Up(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new x_),i.forEach(function(c){var d=j_.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Dn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,_=i,I=_;e:for(;I!==null;){switch(I.tag){case 5:St=I.stateNode,Nn=!1;break e;case 3:St=I.stateNode.containerInfo,Nn=!0;break e;case 4:St=I.stateNode.containerInfo,Nn=!0;break e}I=I.return}if(St===null)throw Error(t(160));bp(m,_,d),St=null,Nn=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(B){et(d,i,B)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)jp(i,n),i=i.sibling}function jp(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Dn(i,n),Gn(n),c&4){try{ea(3,n,n.return),Nl(3,n)}catch(ce){et(n,n.return,ce)}try{ea(5,n,n.return)}catch(ce){et(n,n.return,ce)}}break;case 1:Dn(i,n),Gn(n),c&512&&a!==null&&Bs(a,a.return);break;case 5:if(Dn(i,n),Gn(n),c&512&&a!==null&&Bs(a,a.return),n.flags&32){var d=n.stateNode;try{Cr(d,"")}catch(ce){et(n,n.return,ce)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,_=a!==null?a.memoizedProps:m,I=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{I==="input"&&m.type==="radio"&&m.name!=null&&co(d,m),Eo(I,_);var B=Eo(I,m);for(_=0;_<P.length;_+=2){var X=P[_],J=P[_+1];X==="style"?yo(d,J):X==="dangerouslySetInnerHTML"?mo(d,J):X==="children"?Cr(d,J):ie(d,X,J,B)}switch(I){case"input":ho(d,m);break;case"textarea":rs(d,m);break;case"select":var Y=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var re=m.value;re!=null?nr(d,!!m.multiple,re,!1):Y!==!!m.multiple&&(m.defaultValue!=null?nr(d,!!m.multiple,m.defaultValue,!0):nr(d,!!m.multiple,m.multiple?[]:"",!1))}d[$o]=m}catch(ce){et(n,n.return,ce)}}break;case 6:if(Dn(i,n),Gn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(ce){et(n,n.return,ce)}}break;case 3:if(Dn(i,n),Gn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Cn(i.containerInfo)}catch(ce){et(n,n.return,ce)}break;case 4:Dn(i,n),Gn(n);break;case 13:Dn(i,n),Gn(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(th=$e())),c&4&&Up(n);break;case 22:if(X=a!==null&&a.memoizedState!==null,n.mode&1?(Lt=(B=Lt)||X,Dn(i,n),Lt=B):Dn(i,n),Gn(n),c&8192){if(B=n.memoizedState!==null,(n.stateNode.isHidden=B)&&!X&&n.mode&1)for(ae=n,X=n.child;X!==null;){for(J=ae=X;ae!==null;){switch(Y=ae,re=Y.child,Y.tag){case 0:case 11:case 14:case 15:ea(4,Y,Y.return);break;case 1:Bs(Y,Y.return);var ue=Y.stateNode;if(typeof ue.componentWillUnmount=="function"){c=Y,a=Y.return;try{i=c,ue.props=i.memoizedProps,ue.state=i.memoizedState,ue.componentWillUnmount()}catch(ce){et(c,a,ce)}}break;case 5:Bs(Y,Y.return);break;case 22:if(Y.memoizedState!==null){$p(J);continue}}re!==null?(re.return=Y,ae=re):$p(J)}X=X.sibling}e:for(X=null,J=n;;){if(J.tag===5){if(X===null){X=J;try{d=J.stateNode,B?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(I=J.stateNode,P=J.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,I.style.display=go("display",_))}catch(ce){et(n,n.return,ce)}}}else if(J.tag===6){if(X===null)try{J.stateNode.nodeValue=B?"":J.memoizedProps}catch(ce){et(n,n.return,ce)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===n)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===n)break e;for(;J.sibling===null;){if(J.return===null||J.return===n)break e;X===J&&(X=null),J=J.return}X===J&&(X=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Dn(i,n),Gn(n),c&4&&Up(n);break;case 21:break;default:Dn(i,n),Gn(n)}}function Gn(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Op(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Cr(d,""),c.flags&=-33);var m=Fp(n);Jc(n,m,d);break;case 3:case 4:var _=c.stateNode.containerInfo,I=Fp(n);Xc(n,I,_);break;default:throw Error(t(161))}}catch(P){et(n,n.return,P)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function D_(n,i,a){ae=n,Bp(n)}function Bp(n,i,a){for(var c=(n.mode&1)!==0;ae!==null;){var d=ae,m=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||xl;if(!_){var I=d.alternate,P=I!==null&&I.memoizedState!==null||Lt;I=xl;var B=Lt;if(xl=_,(Lt=P)&&!B)for(ae=d;ae!==null;)_=ae,P=_.child,_.tag===22&&_.memoizedState!==null?qp(d):P!==null?(P.return=_,ae=P):qp(d);for(;m!==null;)ae=m,Bp(m),m=m.sibling;ae=d,xl=I,Lt=B}zp(n)}else d.subtreeFlags&8772&&m!==null?(m.return=d,ae=m):zp(n)}}function zp(n){for(;ae!==null;){var i=ae;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Lt||Nl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Lt)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:xn(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&$f(i,m,c);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}$f(i,_,a)}break;case 5:var I=i.stateNode;if(a===null&&i.flags&4){a=I;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var B=i.alternate;if(B!==null){var X=B.memoizedState;if(X!==null){var J=X.dehydrated;J!==null&&Cn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Lt||i.flags&512&&Yc(i)}catch(Y){et(i,i.return,Y)}}if(i===n){ae=null;break}if(a=i.sibling,a!==null){a.return=i.return,ae=a;break}ae=i.return}}function $p(n){for(;ae!==null;){var i=ae;if(i===n){ae=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ae=a;break}ae=i.return}}function qp(n){for(;ae!==null;){var i=ae;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Nl(4,i)}catch(P){et(i,a,P)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(P){et(i,d,P)}}var m=i.return;try{Yc(i)}catch(P){et(i,m,P)}break;case 5:var _=i.return;try{Yc(i)}catch(P){et(i,_,P)}}}catch(P){et(i,i.return,P)}if(i===n){ae=null;break}var I=i.sibling;if(I!==null){I.return=i.return,ae=I;break}ae=i.return}}var V_=Math.ceil,Dl=fe.ReactCurrentDispatcher,Zc=fe.ReactCurrentOwner,pn=fe.ReactCurrentBatchConfig,Le=0,_t=null,ot=null,At=0,sn=0,zs=br(0),ft=0,ta=null,Li=0,Vl=0,eh=0,na=null,Gt=null,th=0,$s=1/0,yr=null,Ll=!1,nh=null,qr=null,Ml=!1,Hr=null,Ol=0,ra=0,rh=null,Fl=-1,bl=0;function Bt(){return Le&6?$e():Fl!==-1?Fl:Fl=$e()}function Wr(n){return n.mode&1?Le&2&&At!==0?At&-At:g_.transition!==null?(bl===0&&(bl=Ti()),bl):(n=Pe,n!==0||(n=window.event,n=n===void 0?16:No(n.type)),n):1}function Vn(n,i,a,c){if(50<ra)throw ra=0,rh=null,Error(t(185));xr(n,a,c),(!(Le&2)||n!==_t)&&(n===_t&&(!(Le&2)&&(Vl|=a),ft===4&&Gr(n,At)),Kt(n,c),a===1&&Le===0&&!(i.mode&1)&&($s=$e()+500,dl&&jr()))}function Kt(n,i){var a=n.callbackNode;sr(n,i);var c=wi(n,n===_t?At:0);if(c===0)a!==null&&Co(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Co(a),i===1)n.tag===0?m_(Wp.bind(null,n)):Nf(Wp.bind(null,n)),h_(function(){!(Le&6)&&jr()}),a=null;else{switch(Dr(c)){case 1:a=_i;break;case 4:a=Rr;break;case 16:a=an;break;case 536870912:a=ba;break;default:a=an}a=em(a,Hp.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function Hp(n,i){if(Fl=-1,bl=0,Le&6)throw Error(t(327));var a=n.callbackNode;if(qs()&&n.callbackNode!==a)return null;var c=wi(n,n===_t?At:0);if(c===0)return null;if(c&30||c&n.expiredLanes||i)i=Ul(n,c);else{i=c;var d=Le;Le|=2;var m=Kp();(_t!==n||At!==i)&&(yr=null,$s=$e()+500,Oi(n,i));do try{O_();break}catch(I){Gp(n,I)}while(!0);wc(),Dl.current=m,Le=d,ot!==null?i=0:(_t=null,At=0,i=ft)}if(i!==0){if(i===2&&(d=Zt(n),d!==0&&(c=d,i=ih(n,d))),i===1)throw a=ta,Oi(n,0),Gr(n,c),Kt(n,$e()),a;if(i===6)Gr(n,c);else{if(d=n.current.alternate,!(c&30)&&!L_(d)&&(i=Ul(n,c),i===2&&(m=Zt(n),m!==0&&(c=m,i=ih(n,m))),i===1))throw a=ta,Oi(n,0),Gr(n,c),Kt(n,$e()),a;switch(n.finishedWork=d,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Fi(n,Gt,yr);break;case 3:if(Gr(n,c),(c&130023424)===c&&(i=th+500-$e(),10<i)){if(wi(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Bt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=cc(Fi.bind(null,n,Gt,yr),i);break}Fi(n,Gt,yr);break;case 4:if(Gr(n,c),(c&4194240)===c)break;for(i=n.eventTimes,d=-1;0<c;){var _=31-bt(c);m=1<<_,_=i[_],_>d&&(d=_),c&=~m}if(c=d,c=$e()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*V_(c/1960))-c,10<c){n.timeoutHandle=cc(Fi.bind(null,n,Gt,yr),c);break}Fi(n,Gt,yr);break;case 5:Fi(n,Gt,yr);break;default:throw Error(t(329))}}}return Kt(n,$e()),n.callbackNode===a?Hp.bind(null,n):null}function ih(n,i){var a=na;return n.current.memoizedState.isDehydrated&&(Oi(n,i).flags|=256),n=Ul(n,i),n!==2&&(i=Gt,Gt=a,i!==null&&sh(i)),n}function sh(n){Gt===null?Gt=n:Gt.push.apply(Gt,n)}function L_(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!Pn(m(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gr(n,i){for(i&=~eh,i&=~Vl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-bt(i),c=1<<a;n[a]=-1,i&=~c}}function Wp(n){if(Le&6)throw Error(t(327));qs();var i=wi(n,0);if(!(i&1))return Kt(n,$e()),null;var a=Ul(n,i);if(n.tag!==0&&a===2){var c=Zt(n);c!==0&&(i=c,a=ih(n,c))}if(a===1)throw a=ta,Oi(n,0),Gr(n,i),Kt(n,$e()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Fi(n,Gt,yr),Kt(n,$e()),null}function oh(n,i){var a=Le;Le|=1;try{return n(i)}finally{Le=a,Le===0&&($s=$e()+500,dl&&jr())}}function Mi(n){Hr!==null&&Hr.tag===0&&!(Le&6)&&qs();var i=Le;Le|=1;var a=pn.transition,c=Pe;try{if(pn.transition=null,Pe=1,n)return n()}finally{Pe=c,pn.transition=a,Le=i,!(Le&6)&&jr()}}function ah(){sn=zs.current,We(zs)}function Oi(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,c_(a)),ot!==null)for(a=ot.return;a!==null;){var c=a;switch(gc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&cl();break;case 3:Us(),We(qt),We(Nt),kc();break;case 5:Rc(c);break;case 4:Us();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:Tc(c.type._context);break;case 22:case 23:ah()}a=a.return}if(_t=n,ot=n=Kr(n.current,null),At=sn=i,ft=0,ta=null,eh=Vl=Li=0,Gt=na=null,Ni!==null){for(i=0;i<Ni.length;i++)if(a=Ni[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=d,c.next=_}a.pending=c}Ni=null}return n}function Gp(n,i){do{var a=ot;try{if(wc(),Tl.current=Cl,Il){for(var c=Xe.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Il=!1}if(Vi=0,vt=dt=Xe=null,Qo=!1,Yo=0,Zc.current=null,a===null||a.return===null){ft=1,ta=i,ot=null;break}e:{var m=n,_=a.return,I=a,P=i;if(i=At,I.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var B=P,X=I,J=X.tag;if(!(X.mode&1)&&(J===0||J===11||J===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var re=vp(_);if(re!==null){re.flags&=-257,_p(re,_,I,m,i),re.mode&1&&yp(m,B,i),i=re,P=B;var ue=i.updateQueue;if(ue===null){var ce=new Set;ce.add(P),i.updateQueue=ce}else ue.add(P);break e}else{if(!(i&1)){yp(m,B,i),lh();break e}P=Error(t(426))}}else if(Qe&&I.mode&1){var rt=vp(_);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),_p(rt,_,I,m,i),_c(js(P,I));break e}}m=P=js(P,I),ft!==4&&(ft=2),na===null?na=[m]:na.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var F=mp(m,P,i);zf(m,F);break e;case 1:I=P;var N=m.type,U=m.stateNode;if(!(m.flags&128)&&(typeof N.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(qr===null||!qr.has(U)))){m.flags|=65536,i&=-i,m.lanes|=i;var Z=gp(m,I,i);zf(m,Z);break e}}m=m.return}while(m!==null)}Yp(a)}catch(he){i=he,ot===a&&a!==null&&(ot=a=a.return);continue}break}while(!0)}function Kp(){var n=Dl.current;return Dl.current=Cl,n===null?Cl:n}function lh(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||!(Li&268435455)&&!(Vl&268435455)||Gr(_t,At)}function Ul(n,i){var a=Le;Le|=2;var c=Kp();(_t!==n||At!==i)&&(yr=null,Oi(n,i));do try{M_();break}catch(d){Gp(n,d)}while(!0);if(wc(),Le=a,Dl.current=c,ot!==null)throw Error(t(261));return _t=null,At=0,ft}function M_(){for(;ot!==null;)Qp(ot)}function O_(){for(;ot!==null&&!Oa();)Qp(ot)}function Qp(n){var i=Zp(n.alternate,n,sn);n.memoizedProps=n.pendingProps,i===null?Yp(n):ot=i,Zc.current=null}function Yp(n){var i=n;do{var a=i.alternate;if(n=i.return,i.flags&32768){if(a=k_(a,i),a!==null){a.flags&=32767,ot=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ft=6,ot=null;return}}else if(a=P_(a,i,sn),a!==null){ot=a;return}if(i=i.sibling,i!==null){ot=i;return}ot=i=n}while(i!==null);ft===0&&(ft=5)}function Fi(n,i,a){var c=Pe,d=pn.transition;try{pn.transition=null,Pe=1,F_(n,i,a,c)}finally{pn.transition=d,Pe=c}return null}function F_(n,i,a,c){do qs();while(Hr!==null);if(Le&6)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(Be(n,m),n===_t&&(ot=_t=null,At=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Ml||(Ml=!0,em(an,function(){return qs(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=pn.transition,pn.transition=null;var _=Pe;Pe=1;var I=Le;Le|=4,Zc.current=null,N_(n,a),jp(a,n),r_(lc),Lr=!!ac,lc=ac=null,n.current=a,D_(a),Hu(),Le=I,Pe=_,pn.transition=m}else n.current=a;if(Ml&&(Ml=!1,Hr=n,Ol=d),m=n.pendingLanes,m===0&&(qr=null),Ua(a.stateNode),Kt(n,$e()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Ll)throw Ll=!1,n=nh,nh=null,n;return Ol&1&&n.tag!==0&&qs(),m=n.pendingLanes,m&1?n===rh?ra++:(ra=0,rh=n):ra=0,jr(),null}function qs(){if(Hr!==null){var n=Dr(Ol),i=pn.transition,a=Pe;try{if(pn.transition=null,Pe=16>n?16:n,Hr===null)var c=!1;else{if(n=Hr,Hr=null,Ol=0,Le&6)throw Error(t(331));var d=Le;for(Le|=4,ae=n.current;ae!==null;){var m=ae,_=m.child;if(ae.flags&16){var I=m.deletions;if(I!==null){for(var P=0;P<I.length;P++){var B=I[P];for(ae=B;ae!==null;){var X=ae;switch(X.tag){case 0:case 11:case 15:ea(8,X,m)}var J=X.child;if(J!==null)J.return=X,ae=J;else for(;ae!==null;){X=ae;var Y=X.sibling,re=X.return;if(Mp(X),X===B){ae=null;break}if(Y!==null){Y.return=re,ae=Y;break}ae=re}}}var ue=m.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var rt=ce.sibling;ce.sibling=null,ce=rt}while(ce!==null)}}ae=m}}if(m.subtreeFlags&2064&&_!==null)_.return=m,ae=_;else e:for(;ae!==null;){if(m=ae,m.flags&2048)switch(m.tag){case 0:case 11:case 15:ea(9,m,m.return)}var F=m.sibling;if(F!==null){F.return=m.return,ae=F;break e}ae=m.return}}var N=n.current;for(ae=N;ae!==null;){_=ae;var U=_.child;if(_.subtreeFlags&2064&&U!==null)U.return=_,ae=U;else e:for(_=N;ae!==null;){if(I=ae,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:Nl(9,I)}}catch(he){et(I,I.return,he)}if(I===_){ae=null;break e}var Z=I.sibling;if(Z!==null){Z.return=I.return,ae=Z;break e}ae=I.return}}if(Le=d,jr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Ei,n)}catch{}c=!0}return c}finally{Pe=a,pn.transition=i}}return!1}function Xp(n,i,a){i=js(a,i),i=mp(n,i,1),n=zr(n,i,1),i=Bt(),n!==null&&(xr(n,1,i),Kt(n,i))}function et(n,i,a){if(n.tag===3)Xp(n,n,a);else for(;i!==null;){if(i.tag===3){Xp(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(qr===null||!qr.has(c))){n=js(a,n),n=gp(i,n,1),i=zr(i,n,1),n=Bt(),i!==null&&(xr(i,1,n),Kt(i,n));break}}i=i.return}}function b_(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Bt(),n.pingedLanes|=n.suspendedLanes&a,_t===n&&(At&a)===a&&(ft===4||ft===3&&(At&130023424)===At&&500>$e()-th?Oi(n,0):eh|=a),Kt(n,i)}function Jp(n,i){i===0&&(n.mode&1?(i=fs,fs<<=1,!(fs&130023424)&&(fs=4194304)):i=1);var a=Bt();n=pr(n,i),n!==null&&(xr(n,i,a),Kt(n,a))}function U_(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Jp(n,a)}function j_(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),Jp(n,a)}var Zp;Zp=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||qt.current)Wt=!0;else{if(!(n.lanes&a)&&!(i.flags&128))return Wt=!1,R_(n,i,a);Wt=!!(n.flags&131072)}else Wt=!1,Qe&&i.flags&1048576&&Df(i,pl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;kl(n,i),n=i.pendingProps;var d=Ds(i,Nt.current);bs(i,a),d=Dc(null,i,c,n,d,a);var m=Vc();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Ht(c)?(m=!0,hl(i)):m=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ac(i),d.updater=Rl,i.stateNode=d,d._reactInternals=i,Uc(i,c,n,a),i=$c(null,i,c,!0,m,a)):(i.tag=0,Qe&&m&&mc(i),jt(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(kl(n,i),n=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=z_(c),n=xn(c,n),d){case 0:i=zc(null,i,c,n,a);break e;case 1:i=Ap(null,i,c,n,a);break e;case 11:i=Ep(null,i,c,n,a);break e;case 14:i=wp(null,i,c,xn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:xn(c,d),zc(n,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:xn(c,d),Ap(n,i,c,d,a);case 3:e:{if(Cp(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,d=m.element,Bf(n,i),El(i,c,null,a);var _=i.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){d=js(Error(t(423)),i),i=Rp(n,i,c,a,d);break e}else if(c!==d){d=js(Error(t(424)),i),i=Rp(n,i,c,a,d);break e}else for(rn=Fr(i.stateNode.containerInfo.firstChild),nn=i,Qe=!0,kn=null,a=Uf(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ms(),c===d){i=gr(n,i,a);break e}jt(n,i,c,a)}i=i.child}return i;case 5:return qf(i),n===null&&vc(i),c=i.type,d=i.pendingProps,m=n!==null?n.memoizedProps:null,_=d.children,uc(c,d)?_=null:m!==null&&uc(c,m)&&(i.flags|=32),Sp(n,i),jt(n,i,_,a),i.child;case 6:return n===null&&vc(i),null;case 13:return Pp(n,i,a);case 4:return Cc(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Os(i,null,c,a):jt(n,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:xn(c,d),Ep(n,i,c,d,a);case 7:return jt(n,i,i.pendingProps,a),i.child;case 8:return jt(n,i,i.pendingProps.children,a),i.child;case 12:return jt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,m=i.memoizedProps,_=d.value,qe(yl,c._currentValue),c._currentValue=_,m!==null)if(Pn(m.value,_)){if(m.children===d.children&&!qt.current){i=gr(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var I=m.dependencies;if(I!==null){_=m.child;for(var P=I.firstContext;P!==null;){if(P.context===c){if(m.tag===1){P=mr(-1,a&-a),P.tag=2;var B=m.updateQueue;if(B!==null){B=B.shared;var X=B.pending;X===null?P.next=P:(P.next=X.next,X.next=P),B.pending=P}}m.lanes|=a,P=m.alternate,P!==null&&(P.lanes|=a),Ic(m.return,a,i),I.lanes|=a;break}P=P.next}}else if(m.tag===10)_=m.type===i.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(t(341));_.lanes|=a,I=_.alternate,I!==null&&(I.lanes|=a),Ic(_,a,i),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===i){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}jt(n,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,bs(i,a),d=dn(d),c=c(d),i.flags|=1,jt(n,i,c,a),i.child;case 14:return c=i.type,d=xn(c,i.pendingProps),d=xn(c.type,d),wp(n,i,c,d,a);case 15:return Tp(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:xn(c,d),kl(n,i),i.tag=1,Ht(c)?(n=!0,hl(i)):n=!1,bs(i,a),fp(i,c,d),Uc(i,c,d,a),$c(null,i,c,!0,n,a);case 19:return xp(n,i,a);case 22:return Ip(n,i,a)}throw Error(t(156,i.tag))};function em(n,i){return hs(n,i)}function B_(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(n,i,a,c){return new B_(n,i,a,c)}function uh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function z_(n){if(typeof n=="function")return uh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===M)return 11;if(n===kt)return 14}return 2}function Kr(n,i){var a=n.alternate;return a===null?(a=mn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function jl(n,i,a,c,d,m){var _=2;if(c=n,typeof n=="function")uh(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case x:return bi(a.children,d,m,i);case T:_=8,d|=8;break;case A:return n=mn(12,a,i,d|2),n.elementType=A,n.lanes=m,n;case C:return n=mn(13,a,i,d),n.elementType=C,n.lanes=m,n;case tt:return n=mn(19,a,i,d),n.elementType=tt,n.lanes=m,n;case je:return Bl(a,d,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k:_=10;break e;case D:_=9;break e;case M:_=11;break e;case kt:_=14;break e;case xt:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=mn(_,a,i,d),i.elementType=n,i.type=c,i.lanes=m,i}function bi(n,i,a,c){return n=mn(7,n,c,i),n.lanes=a,n}function Bl(n,i,a,c){return n=mn(22,n,c,i),n.elementType=je,n.lanes=a,n.stateNode={isHidden:!1},n}function ch(n,i,a){return n=mn(6,n,null,i),n.lanes=a,n}function hh(n,i,a){return i=mn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function $_(n,i,a,c,d){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kr(0),this.expirationTimes=kr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function dh(n,i,a,c,d,m,_,I,P){return n=new $_(n,i,a,I,P),i===1?(i=1,m===!0&&(i|=8)):i=0,m=mn(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ac(m),n}function q_(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function tm(n){if(!n)return Ur;n=n._reactInternals;e:{if(wn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Ht(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Ht(a))return kf(n,a,i)}return i}function nm(n,i,a,c,d,m,_,I,P){return n=dh(a,c,!0,n,d,m,_,I,P),n.context=tm(null),a=n.current,c=Bt(),d=Wr(a),m=mr(c,d),m.callback=i??null,zr(a,m,d),n.current.lanes=d,xr(n,d,c),Kt(n,c),n}function zl(n,i,a,c){var d=i.current,m=Bt(),_=Wr(d);return a=tm(a),i.context===null?i.context=a:i.pendingContext=a,i=mr(m,_),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=zr(d,i,_),n!==null&&(Vn(n,d,_,m),_l(n,d,_)),_}function $l(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function rm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function fh(n,i){rm(n,i),(n=n.alternate)&&rm(n,i)}function H_(){return null}var im=typeof reportError=="function"?reportError:function(n){console.error(n)};function ph(n){this._internalRoot=n}ql.prototype.render=ph.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));zl(n,i,null,null)},ql.prototype.unmount=ph.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Mi(function(){zl(null,n,null,null)}),i[cr]=null}};function ql(n){this._internalRoot=n}ql.prototype.unstable_scheduleHydration=function(n){if(n){var i=qa();n={blockedOn:null,target:n,priority:i};for(var a=0;a<jn.length&&i!==0&&i<jn[a].priority;a++);jn.splice(a,0,n),a===0&&Ga(n)}};function mh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Hl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function sm(){}function W_(n,i,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var B=$l(_);m.call(B)}}var _=nm(i,c,n,0,null,!1,!1,"",sm);return n._reactRootContainer=_,n[cr]=_.current,Bo(n.nodeType===8?n.parentNode:n),Mi(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var I=c;c=function(){var B=$l(P);I.call(B)}}var P=dh(n,0,!1,null,null,!1,!1,"",sm);return n._reactRootContainer=P,n[cr]=P.current,Bo(n.nodeType===8?n.parentNode:n),Mi(function(){zl(i,P,a,c)}),P}function Wl(n,i,a,c,d){var m=a._reactRootContainer;if(m){var _=m;if(typeof d=="function"){var I=d;d=function(){var P=$l(_);I.call(P)}}zl(i,_,n,d)}else _=W_(a,i,n,d,c);return $l(_)}za=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Pr(i.pendingLanes);a!==0&&(Nr(i,a|1),Kt(i,$e()),!(Le&6)&&($s=$e()+500,jr()))}break;case 13:Mi(function(){var c=pr(n,1);if(c!==null){var d=Bt();Vn(c,n,1,d)}}),fh(n,1)}},ps=function(n){if(n.tag===13){var i=pr(n,134217728);if(i!==null){var a=Bt();Vn(i,n,134217728,a)}fh(n,134217728)}},$a=function(n){if(n.tag===13){var i=Wr(n),a=pr(n,i);if(a!==null){var c=Bt();Vn(a,n,i,c)}fh(n,i)}},qa=function(){return Pe},Ha=function(n,i){var a=Pe;try{return Pe=n,i()}finally{Pe=a}},ss=function(n,i,a){switch(i){case"input":if(ho(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var d=ul(c);if(!d)throw Error(t(90));Zi(c),ho(c,d)}}}break;case"textarea":rs(n,a);break;case"select":i=a.value,i!=null&&nr(n,!!a.multiple,i,!1)}},mi=oh,To=Mi;var G_={usingClientEntryPoint:!1,Events:[qo,xs,ul,bn,wo,oh]},ia={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K_={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fe.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ao(n),n===null?null:n.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance||H_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gl.isDisabled&&Gl.supportsFiber)try{Ei=Gl.inject(K_),Jt=Gl}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G_,Qt.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mh(i))throw Error(t(200));return q_(n,i,null,a)},Qt.createRoot=function(n,i){if(!mh(n))throw Error(t(299));var a=!1,c="",d=im;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=dh(n,1,!1,null,null,a,!1,c,d),n[cr]=i.current,Bo(n.nodeType===8?n.parentNode:n),new ph(i)},Qt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Ao(i),n=n===null?null:n.stateNode,n},Qt.flushSync=function(n){return Mi(n)},Qt.hydrate=function(n,i,a){if(!Hl(i))throw Error(t(200));return Wl(null,n,i,!0,a)},Qt.hydrateRoot=function(n,i,a){if(!mh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",_=im;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=nm(i,null,n,1,a??null,d,!1,m,_),n[cr]=i.current,Bo(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new ql(i)},Qt.render=function(n,i,a){if(!Hl(i))throw Error(t(200));return Wl(null,n,i,!1,a)},Qt.unmountComponentAtNode=function(n){if(!Hl(n))throw Error(t(40));return n._reactRootContainer?(Mi(function(){Wl(null,null,n,!1,function(){n._reactRootContainer=null,n[cr]=null})}),!0):!1},Qt.unstable_batchedUpdates=oh,Qt.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!Hl(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Wl(n,i,a,!1,c)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var fm;function n0(){if(fm)return vh.exports;fm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vh.exports=t0(),vh.exports}var pm;function r0(){if(pm)return Kl;pm=1;var r=n0();return Kl.createRoot=r.createRoot,Kl.hydrateRoot=r.hydrateRoot,Kl}var i0=r0(),oa={},mm;function s0(){if(mm)return oa;mm=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.parse=h,oa.serialize=v;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function h(R,V){const j=new u,$=R.length;if($<2)return j;const b=(V==null?void 0:V.decode)||w;let Q=0;do{const ne=R.indexOf("=",Q);if(ne===-1)break;const ie=R.indexOf(";",Q),fe=ie===-1?$:ie;if(ne>fe){Q=R.lastIndexOf(";",ne-1)+1;continue}const Ce=f(R,Q,ne),Te=g(R,ne,Ce),x=R.slice(Ce,Te);if(j[x]===void 0){let T=f(R,ne+1,fe),A=g(R,fe,T);const k=b(R.slice(T,A));j[x]=k}Q=fe+1}while(Q<$);return j}function f(R,V,j){do{const $=R.charCodeAt(V);if($!==32&&$!==9)return V}while(++V<j);return j}function g(R,V,j){for(;V>j;){const $=R.charCodeAt(--V);if($!==32&&$!==9)return V+1}return j}function v(R,V,j){const $=(j==null?void 0:j.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const b=$(V);if(!e.test(b))throw new TypeError(`argument val is invalid: ${V}`);let Q=R+"="+b;if(!j)return Q;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);Q+="; Max-Age="+j.maxAge}if(j.domain){if(!t.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);Q+="; Domain="+j.domain}if(j.path){if(!s.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);Q+="; Path="+j.path}if(j.expires){if(!S(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);Q+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(Q+="; HttpOnly"),j.secure&&(Q+="; Secure"),j.partitioned&&(Q+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return Q}function w(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function S(R){return o.call(R)==="[object Date]"}return oa}s0();/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gm="popstate";function o0(r={}){function e(s,o){let{pathname:u,search:h,hash:f}=s.location;return Lh("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:ya(o)}return l0(e,t,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function li(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function a0(){return Math.random().toString(36).substring(2,10)}function ym(r,e){return{usr:r.state,key:r.key,idx:e}}function Lh(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ro(e):e,state:t,key:e&&e.key||s||a0()}}function ya({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ro(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function l0(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,f="POP",g=null,v=w();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function w(){return(h.state||{idx:null}).idx}function S(){f="POP";let b=w(),Q=b==null?null:b-v;v=b,g&&g({action:f,location:$.location,delta:Q})}function R(b,Q){f="PUSH";let ne=Lh($.location,b,Q);v=w()+1;let ie=ym(ne,v),fe=$.createHref(ne);try{h.pushState(ie,"",fe)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;o.location.assign(fe)}u&&g&&g({action:f,location:$.location,delta:1})}function V(b,Q){f="REPLACE";let ne=Lh($.location,b,Q);v=w();let ie=ym(ne,v),fe=$.createHref(ne);h.replaceState(ie,"",fe),u&&g&&g({action:f,location:$.location,delta:0})}function j(b){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof b=="string"?b:ya(b);return ne=ne.replace(/ $/,"%20"),Je(Q,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,Q)}let $={get action(){return f},get location(){return r(o,h)},listen(b){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(gm,S),g=b,()=>{o.removeEventListener(gm,S),g=null}},createHref(b){return e(o,b)},createURL:j,encodeLocation(b){let Q=j(b);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:R,replace:V,go(b){return h.go(b)}};return $}function kg(r,e,t="/"){return u0(r,e,t,!1)}function u0(r,e,t,s){let o=typeof e=="string"?ro(e):e,u=ti(o.pathname||"/",t);if(u==null)return null;let h=xg(r);c0(h);let f=null;for(let g=0;f==null&&g<h.length;++g){let v=w0(u);f=_0(h[g],v,s)}return f}function xg(r,e=[],t=[],s=""){let o=(u,h,f)=>{let g={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Je(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let v=vr([s,g.relativePath]),w=t.concat(g);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),xg(u.children,e,w,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:y0(v,u.index),routesMeta:w})};return r.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,h);else for(let g of Ng(u.path))o(u,h,g)}),e}function Ng(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=Ng(s.join("/")),f=[];return f.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&f.push(...h),f.map(g=>r.startsWith("/")&&g===""?"/":g)}function c0(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:v0(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var h0=/^:[\w-]+$/,d0=3,f0=2,p0=1,m0=10,g0=-2,vm=r=>r==="*";function y0(r,e){let t=r.split("/"),s=t.length;return t.some(vm)&&(s+=g0),e&&(s+=f0),t.filter(o=>!vm(o)).reduce((o,u)=>o+(h0.test(u)?d0:u===""?p0:m0),s)}function v0(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function _0(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let f=0;f<s.length;++f){let g=s[f],v=f===s.length-1,w=u==="/"?e:e.slice(u.length)||"/",S=hu({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},w),R=g.route;if(!S&&v&&t&&!s[s.length-1].route.index&&(S=hu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:vr([u,S.pathname]),pathnameBase:A0(vr([u,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(u=vr([u,S.pathnameBase]))}return h}function hu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=E0(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:S},R)=>{if(w==="*"){let j=f[R]||"";h=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const V=f[R];return S&&!V?v[w]=void 0:v[w]=(V||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:r}}function E0(r,e=!1,t=!0){li(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,g)=>(s.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function w0(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ti(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function T0(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?ro(r):r;return{pathname:t?t.startsWith("/")?t:I0(t,e):e,search:C0(s),hash:R0(o)}}function I0(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function wh(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S0(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Dg(r){let e=S0(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Vg(r,e,t,s=!1){let o;typeof r=="string"?o=ro(r):(o={...r},Je(!o.pathname||!o.pathname.includes("?"),wh("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),wh("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),wh("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,f;if(h==null)f=t;else{let S=e.length-1;if(!s&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}f=S>=0?e[S]:"/"}let g=T0(o,f),v=h&&h!=="/"&&h.endsWith("/"),w=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(v||w)&&(g.pathname+="/"),g}var vr=r=>r.join("/").replace(/\/\/+/g,"/"),A0=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),C0=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,R0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function P0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Lg=["POST","PUT","PATCH","DELETE"];new Set(Lg);var k0=["GET",...Lg];new Set(k0);var io=H.createContext(null);io.displayName="DataRouter";var Cu=H.createContext(null);Cu.displayName="DataRouterState";var Mg=H.createContext({isTransitioning:!1});Mg.displayName="ViewTransition";var x0=H.createContext(new Map);x0.displayName="Fetchers";var N0=H.createContext(null);N0.displayName="Await";var Zn=H.createContext(null);Zn.displayName="Navigation";var Ca=H.createContext(null);Ca.displayName="Location";var Sr=H.createContext({outlet:null,matches:[],isDataRoute:!1});Sr.displayName="Route";var id=H.createContext(null);id.displayName="RouteError";function D0(r,{relative:e}={}){Je(Ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=H.useContext(Zn),{hash:o,pathname:u,search:h}=Pa(r,{relative:e}),f=u;return t!=="/"&&(f=u==="/"?t:vr([t,u])),s.createHref({pathname:f,search:h,hash:o})}function Ra(){return H.useContext(Ca)!=null}function Ki(){return Je(Ra(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Ca).location}var Og="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fg(r){H.useContext(Zn).static||H.useLayoutEffect(r)}function bg(){let{isDataRoute:r}=H.useContext(Sr);return r?H0():V0()}function V0(){Je(Ra(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(io),{basename:e,navigator:t}=H.useContext(Zn),{matches:s}=H.useContext(Sr),{pathname:o}=Ki(),u=JSON.stringify(Dg(s)),h=H.useRef(!1);return Fg(()=>{h.current=!0}),H.useCallback((g,v={})=>{if(li(h.current,Og),!h.current)return;if(typeof g=="number"){t.go(g);return}let w=Vg(g,JSON.parse(u),o,v.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:vr([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,u,o,r])}H.createContext(null);function Pa(r,{relative:e}={}){let{matches:t}=H.useContext(Sr),{pathname:s}=Ki(),o=JSON.stringify(Dg(t));return H.useMemo(()=>Vg(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function L0(r,e){return Ug(r,e)}function Ug(r,e,t,s){var $;Je(Ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=H.useContext(Zn),{matches:u}=H.useContext(Sr),h=u[u.length-1],f=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let v=Ki(),w;if(e){let b=typeof e=="string"?ro(e):e;Je(g==="/"||(($=b.pathname)==null?void 0:$.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${b.pathname}" was given in the \`location\` prop.`),w=b}else w=v;let S=w.pathname||"/",R=S;if(g!=="/"){let b=g.replace(/^\//,"").split("/");R="/"+S.replace(/^\//,"").split("/").slice(b.length).join("/")}let V=kg(r,{pathname:R}),j=U0(V&&V.map(b=>Object.assign({},b,{params:Object.assign({},f,b.params),pathname:vr([g,o.encodeLocation?o.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?g:vr([g,o.encodeLocation?o.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),u,t,s);return e&&j?H.createElement(Ca.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function M0(){let r=q0(),e=P0(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,null)}var O0=H.createElement(M0,null),F0=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?H.createElement(Sr.Provider,{value:this.props.routeContext},H.createElement(id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b0({routeContext:r,match:e,children:t}){let s=H.useContext(io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Sr.Provider,{value:r},t)}function U0(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let g=o.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);Je(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,f=-1;if(t)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=g),v.route.id){let{loaderData:w,errors:S}=t,R=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||R){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((g,v,w)=>{let S,R=!1,V=null,j=null;t&&(S=u&&v.route.id?u[v.route.id]:void 0,V=v.route.errorElement||O0,h&&(f<0&&w===0?(W0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,j=null):f===w&&(R=!0,j=v.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,w+1)),b=()=>{let Q;return S?Q=V:R?Q=j:v.route.Component?Q=H.createElement(v.route.Component,null):v.route.element?Q=v.route.element:Q=g,H.createElement(b0,{match:v,routeContext:{outlet:g,matches:$,isDataRoute:t!=null},children:Q})};return t&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?H.createElement(F0,{location:t.location,revalidation:t.revalidation,component:V,error:S,children:b(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):b()},null)}function sd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j0(r){let e=H.useContext(io);return Je(e,sd(r)),e}function B0(r){let e=H.useContext(Cu);return Je(e,sd(r)),e}function z0(r){let e=H.useContext(Sr);return Je(e,sd(r)),e}function od(r){let e=z0(r),t=e.matches[e.matches.length-1];return Je(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function $0(){return od("useRouteId")}function q0(){var s;let r=H.useContext(id),e=B0("useRouteError"),t=od("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function H0(){let{router:r}=j0("useNavigate"),e=od("useNavigate"),t=H.useRef(!1);return Fg(()=>{t.current=!0}),H.useCallback(async(o,u={})=>{li(t.current,Og),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var _m={};function W0(r,e,t){_m[r]||(_m[r]=!0,li(!1,t))}H.memo(G0);function G0({routes:r,future:e,state:t}){return Ug(r,void 0,t,e)}function la(r){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K0({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){Je(!Ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),f=H.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=ro(t));let{pathname:g="/",search:v="",hash:w="",state:S=null,key:R="default"}=t,V=H.useMemo(()=>{let j=ti(g,h);return j==null?null:{location:{pathname:j,search:v,hash:w,state:S,key:R},navigationType:s}},[h,g,v,w,S,R,s]);return li(V!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:H.createElement(Zn.Provider,{value:f},H.createElement(Ca.Provider,{children:e,value:V}))}function Q0({children:r,location:e}){return L0(Mh(r),e)}function Mh(r,e=[]){let t=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){t.push.apply(t,Mh(s.props.children,u));return}Je(s.type===la,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Mh(s.props.children,u)),t.push(h)}),t}var ru="get",iu="application/x-www-form-urlencoded";function Ru(r){return r!=null&&typeof r.tagName=="string"}function Y0(r){return Ru(r)&&r.tagName.toLowerCase()==="button"}function X0(r){return Ru(r)&&r.tagName.toLowerCase()==="form"}function J0(r){return Ru(r)&&r.tagName.toLowerCase()==="input"}function Z0(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function eE(r,e){return r.button===0&&(!e||e==="_self")&&!Z0(r)}var Ql=null;function tE(){if(Ql===null)try{new FormData(document.createElement("form"),0),Ql=!1}catch{Ql=!0}return Ql}var nE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Th(r){return r!=null&&!nE.has(r)?(li(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${iu}"`),null):r}function rE(r,e){let t,s,o,u,h;if(X0(r)){let f=r.getAttribute("action");s=f?ti(f,e):null,t=r.getAttribute("method")||ru,o=Th(r.getAttribute("enctype"))||iu,u=new FormData(r)}else if(Y0(r)||J0(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||f.getAttribute("action");if(s=g?ti(g,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||ru,o=Th(r.getAttribute("formenctype"))||Th(f.getAttribute("enctype"))||iu,u=new FormData(f,r),!tE()){let{name:v,type:w,value:S}=r;if(w==="image"){let R=v?`${v}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else v&&u.append(v,S)}}else{if(Ru(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ru,s=null,o=iu,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function ad(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function iE(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sE(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function oE(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await iE(u,t);return h.links?h.links():[]}return[]}));return cE(s.flat(1).filter(sE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Em(r,e,t,s,o,u){let h=(g,v)=>t[v]?g.route.id!==t[v].route.id:!0,f=(g,v)=>{var w;return t[v].pathname!==g.pathname||((w=t[v].route.path)==null?void 0:w.endsWith("*"))&&t[v].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,v)=>h(g,v)||f(g,v)):u==="data"?e.filter((g,v)=>{var S;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,v)||f(g,v))return!0;if(g.route.shouldRevalidate){let R=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function aE(r,e){return lE(r.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function lE(r){return[...new Set(r)]}function uE(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function cE(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(uE(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function hE(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function dE(){let r=H.useContext(io);return ad(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function fE(){let r=H.useContext(Cu);return ad(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ld=H.createContext(void 0);ld.displayName="FrameworkContext";function jg(){let r=H.useContext(ld);return ad(r,"You must render this element inside a <HydratedRouter> element"),r}function pE(r,e){let t=H.useContext(ld),[s,o]=H.useState(!1),[u,h]=H.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:v,onMouseLeave:w,onTouchStart:S}=e,R=H.useRef(null);H.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let $=Q=>{Q.forEach(ne=>{h(ne.isIntersecting)})},b=new IntersectionObserver($,{threshold:.5});return R.current&&b.observe(R.current),()=>{b.disconnect()}}},[r]),H.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let V=()=>{o(!0)},j=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,R,{}]:[u,R,{onFocus:aa(f,V),onBlur:aa(g,j),onMouseEnter:aa(v,V),onMouseLeave:aa(w,j),onTouchStart:aa(S,V)}]:[!1,R,{}]}function aa(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function mE({page:r,...e}){let{router:t}=dE(),s=H.useMemo(()=>kg(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?H.createElement(yE,{page:r,matches:s,...e}):(console.warn(`Tried to prefetch ${r} but no routes matched.`),null)}function gE(r){let{manifest:e,routeModules:t}=jg(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return oE(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function yE({page:r,matches:e,...t}){let s=Ki(),{manifest:o,routeModules:u}=jg(),{loaderData:h,matches:f}=fE(),g=H.useMemo(()=>Em(r,e,f,o,s,"data"),[r,e,f,o,s]),v=H.useMemo(()=>Em(r,e,f,o,s,"assets"),[r,e,f,o,s]),w=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let V=new Set,j=!1;if(e.forEach(b=>{var ne;let Q=o.routes[b.route.id];!Q||!Q.hasLoader||(!g.some(ie=>ie.route.id===b.route.id)&&b.route.id in h&&((ne=u[b.route.id])!=null&&ne.shouldRevalidate)||Q.hasClientLoader?j=!0:V.add(b.route.id))}),V.size===0)return[];let $=hE(r);return j&&V.size>0&&$.searchParams.set("_routes",e.filter(b=>V.has(b.route.id)).map(b=>b.route.id).join(",")),[$.pathname+$.search]},[h,s,o,g,e,r,u]),S=H.useMemo(()=>aE(v,o),[v,o]),R=gE(v);return H.createElement(H.Fragment,null,w.map(V=>H.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),S.map(V=>H.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),R.map(({key:V,link:j})=>H.createElement("link",{key:V,...j})))}function vE(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Bg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bg&&(window.__reactRouterVersion="7.0.1")}catch{}function _E({basename:r,children:e,window:t}){let s=H.useRef();s.current==null&&(s.current=o0({window:t,v5Compat:!0}));let o=s.current,[u,h]=H.useState({action:o.action,location:o.location}),f=H.useCallback(g=>{H.startTransition(()=>h(g))},[h]);return H.useLayoutEffect(()=>o.listen(f),[o,f]),H.createElement(K0,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var zg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ud=H.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:f,target:g,to:v,preventScrollReset:w,viewTransition:S,...R},V){let{basename:j}=H.useContext(Zn),$=typeof v=="string"&&zg.test(v),b,Q=!1;if(typeof v=="string"&&$&&(b=v,Bg))try{let A=new URL(window.location.href),k=v.startsWith("//")?new URL(A.protocol+v):new URL(v),D=ti(k.pathname,j);k.origin===A.origin&&D!=null?v=D+k.search+k.hash:Q=!0}catch{li(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=D0(v,{relative:o}),[ie,fe,Ce]=pE(s,R),Te=IE(v,{replace:h,state:f,target:g,preventScrollReset:w,relative:o,viewTransition:S});function x(A){e&&e(A),A.defaultPrevented||Te(A)}let T=H.createElement("a",{...R,...Ce,href:b||ne,onClick:Q||u?e:x,ref:vE(V,fe),target:g,"data-discover":!$&&t==="render"?"true":void 0});return ie&&!$?H.createElement(H.Fragment,null,T,H.createElement(mE,{page:ne})):T});ud.displayName="Link";var EE=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:f,children:g,...v},w){let S=Pa(h,{relative:v.relative}),R=Ki(),V=H.useContext(Cu),{navigator:j,basename:$}=H.useContext(Zn),b=V!=null&&PE(S)&&f===!0,Q=j.encodeLocation?j.encodeLocation(S).pathname:S.pathname,ne=R.pathname,ie=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;t||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,Q=Q.toLowerCase()),ie&&$&&(ie=ti(ie,$)||ie);const fe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let Ce=ne===Q||!o&&ne.startsWith(Q)&&ne.charAt(fe)==="/",Te=ie!=null&&(ie===Q||!o&&ie.startsWith(Q)&&ie.charAt(Q.length)==="/"),x={isActive:Ce,isPending:Te,isTransitioning:b},T=Ce?e:void 0,A;typeof s=="function"?A=s(x):A=[s,Ce?"active":null,Te?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(x):u;return H.createElement(ud,{...v,"aria-current":T,className:A,ref:w,style:k,to:h,viewTransition:f},typeof g=="function"?g(x):g)});EE.displayName="NavLink";var wE=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=ru,action:f,onSubmit:g,relative:v,preventScrollReset:w,viewTransition:S,...R},V)=>{let j=CE(),$=RE(f,{relative:v}),b=h.toLowerCase()==="get"?"get":"post",Q=typeof f=="string"&&zg.test(f),ne=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let fe=ie.nativeEvent.submitter,Ce=(fe==null?void 0:fe.getAttribute("formmethod"))||h;j(fe||ie.currentTarget,{fetcherKey:e,method:Ce,navigate:t,replace:o,state:u,relative:v,preventScrollReset:w,viewTransition:S})};return H.createElement("form",{ref:V,method:b,action:$,onSubmit:s?g:ne,...R,"data-discover":!Q&&r==="render"?"true":void 0})});wE.displayName="Form";function TE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $g(r){let e=H.useContext(io);return Je(e,TE(r)),e}function IE(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let f=bg(),g=Ki(),v=Pa(r,{relative:u});return H.useCallback(w=>{if(eE(w,e)){w.preventDefault();let S=t!==void 0?t:ya(g)===ya(v);f(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,f,v,t,s,e,r,o,u,h])}var SE=0,AE=()=>`__${String(++SE)}__`;function CE(){let{router:r}=$g("useSubmit"),{basename:e}=H.useContext(Zn),t=$0();return H.useCallback(async(s,o={})=>{let{action:u,method:h,encType:f,formData:g,body:v}=rE(s,e);if(o.navigate===!1){let w=o.fetcherKey||AE();await r.fetch(w,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function RE(r,{relative:e}={}){let{basename:t}=H.useContext(Zn),s=H.useContext(Sr);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Pa(r||".",{relative:e})},h=Ki();if(r==null){u.search=h.search;let f=new URLSearchParams(u.search),g=f.getAll("index");if(g.some(w=>w==="")){f.delete("index"),g.filter(S=>S).forEach(S=>f.append("index",S));let w=f.toString();u.search=w?`?${w}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:vr([t,u.pathname])),ya(u)}function PE(r,e={}){let t=H.useContext(Mg);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=$g("useViewTransitionState"),o=Pa(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ti(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=ti(t.nextLocation.pathname,s)||t.nextLocation.pathname;return hu(o.pathname,h)!=null||hu(o.pathname,u)!=null}new TextEncoder;function Mn({type:r,link:e,onClick:t,children:s}){return q.jsx(q.Fragment,{children:q.jsx(ud,{to:e,children:q.jsx("button",{className:`nes-btn ${r}`,onClick:t,children:s})})})}function kE(){return q.jsx("div",{className:"game-container place-items-center",children:q.jsxs("div",{className:"content-container",children:[q.jsx("h1",{className:"game-title heading",children:"'member Me?"}),q.jsxs("div",{className:"btn-container",children:[q.jsx(Mn,{type:"is-primary",link:"play",children:"Play"}),q.jsx(Mn,{type:"is-warning",link:"leaderboard",children:"Leaderboard"})]})]})})}function xE({name:r,description:e,state:t,dispatch:s}){return q.jsxs("div",{className:`game-mode-cell ${t.gameMode===r?"active-game-mode":""}`,onClick:()=>s({type:"CHANGE_GAME_MODE",payload:r}),children:[q.jsx("h2",{className:"fnt-size-md text-upper",children:r}),q.jsx("p",{className:"fnt-size-sm",children:e})]})}function NE({dispatch:r,allGameModes:e,state:t,setPage:s}){let o=bg();const[u,h]=H.useState("arcade");return q.jsx("div",{className:"game-container place-items-center",children:q.jsxs("div",{className:"content-container",children:[q.jsx("h1",{className:"game-subtitle heading",children:"Game Mode"}),q.jsx("div",{className:"game-mode-container grid-col-2",children:e.map((f,g)=>q.jsx(xE,{state:t,dispatch:r,name:f.name,description:f.description,activeGameMode:u,setActiveGameMode:h},g))}),q.jsxs("div",{className:"btn-container",children:[q.jsx(Mn,{type:"is-primary",onClick:()=>s("settings"),children:"SELECT"}),q.jsx(Mn,{type:"is-warning",onClick:()=>o(-1),children:"BACK"})]})]})})}const DE={blueTheme:["2DAAD7","2DD7A1","F0F4F8","FFD166","D77B2D","E76F51","D72D6C","2A9D8F","2D78D7","233746"],greenTheme:["4DA43B","FF5733","FFAA44","A49E3B","FFD700","4D9FA4","3BA491","3BA46F","BB88DD","8C4DA4"],yellowTheme:["E49225","2581E4","25E4A1","FFE56A","C241E4","A6E425","E4A125","255BE4","E46125","E44925"],redTheme:["8B1F24","E44925","1F8B87","E89425","8B6B1F","241F8B","8B1F59","1F8B38","8B4234","5B1F8B"],pinkTheme:["E66D58","58B9E6","E6B958","8BE658","8858E6","E65858","5866E6","E68A58","58E69C","E65881"]},qg={themes:DE};function VE({theme:r,dispatch:e,state:t}){return`${r[1][0]}`,q.jsx("div",{className:"theme-icon",style:{backgroundColor:`#${r[1][0]}`,outline:`${r[0]===t.activeTheme?"4px solid white":""}`},onClick:()=>e({type:"CHANGE_THEME",payload:r})})}function LE({state:r,dispatch:e,setPage:t}){function s(){t("play"),e({type:"START_NEW_GAME"})}return q.jsx("div",{className:"game-container place-items-center",children:q.jsxs("div",{className:"content-container",children:[q.jsx("h1",{className:"game-subtitle heading capitalize",children:r.gameMode}),q.jsx("p",{className:"game-description",children:r.description}),q.jsxs("div",{className:"content-container nes-container is-dark",children:[r.changeableSettings.includes("theme")&&q.jsxs("div",{className:"content-section",children:[q.jsx("h2",{className:"section-heading",children:"Theme"}),q.jsx("div",{className:"theme-icon-container",children:Object.entries(qg.themes).map((o,u)=>q.jsx(VE,{theme:o,state:r,dispatch:e},u))})]}),r.changeableSettings.includes("difficulty")&&q.jsxs("div",{className:"content-section",children:[q.jsx("h3",{className:"section-heading",children:"Difficulty"}),q.jsxs("div",{className:"settings-list",children:[q.jsx("div",{className:r.difficulty==="easy"?"active-difficulty-setting":void 0,onClick:()=>e({type:"CHANGE_DIFFICULTY",payload:"easy"}),children:"EASY"}),q.jsx("div",{className:r.difficulty==="normal"?"active-difficulty-setting":void 0,onClick:()=>e({type:"CHANGE_DIFFICULTY",payload:"normal"}),children:"NORMAL"}),q.jsx("div",{className:r.difficulty==="hard"?"active-difficulty-setting":void 0,onClick:()=>e({type:"CHANGE_DIFFICULTY",payload:"hard"}),children:"HARD"})]})]}),r.changeableSettings.includes("timer")&&q.jsxs("div",{className:"content-section",children:[q.jsx("h3",{className:"section-heading",children:"Timer"}),q.jsxs("div",{className:"settings-list",children:[q.jsx("div",{className:r.timer?"active-difficulty-setting":void 0,onClick:()=>e({type:"CHANGE_TIMER",payload:!0}),children:"ON"}),q.jsx("div",{className:r.timer?void 0:"active-difficulty-setting",onClick:()=>e({type:"CHANGE_TIMER",payload:!1}),children:"OFF"})]})]})]}),q.jsx(Mn,{type:"is-primary",onClick:()=>s(),children:"START"}),q.jsx(Mn,{type:"is-warning",onClick:()=>t("game-mode"),children:"BACK"})]})})}function ME({content:r,flipped:e,onClick:t,matched:s}){const o={backgroundColor:e||s?`#${r}`:"grey"};return q.jsx("div",{className:"grid-square",style:o,onClick:t})}function OE({dispatch:r,state:e}){const{randomCards:t,flippedCards:s,matchedCards:o,isPlaying:u}=e;function h(f){e.isPlaying&&!e.flippedCards.includes(f.id)&&!e.matchedCards.includes(f.id)&&(e.flippedCards.length<2&&r({type:"SET_FLIPPED_CARDS",payload:f.id}),e.flippedCards.length===1&&(r({type:"CHECK_FOR_MATCH"}),setTimeout(()=>{r({type:"RESET_FLIPPED_CARDS"})},1e3),r({type:"CHECK_FOR_WIN"})))}return q.jsx("div",{className:"game-grid",children:t.length>0?t.map(f=>q.jsx(ME,{id:f.id,content:f.content,flipped:s.includes(f.id),matched:o.includes(f.id),onClick:()=>h(f)},f.id)):q.jsx("span",{children:"Error"})})}function FE({state:r}){return q.jsx("div",{className:"bonuses-container",children:r.message.map(e=>q.jsx("p",{className:"message flash-text",children:e},e))})}function bE({lives:r,score:e,timer:t,state:s}){const o=Array.from({length:r});return q.jsxs("div",{children:[q.jsxs("div",{className:"hud-container",children:[q.jsxs("div",{className:"hud-item",children:[q.jsx("div",{children:"LIVES"}),q.jsx("div",{className:"lives-container",children:o.map((u,h)=>q.jsx("i",{className:"nes-icon is-small heart"},h))})]}),q.jsxs("div",{className:"hud-item",children:[q.jsx("div",{children:"SCORE"})," ",q.jsx("div",{children:e})]}),q.jsxs("div",{className:"hud-item",children:[q.jsx("div",{children:"TIME"})," ",q.jsx("div",{children:t!==null?t:"---"})]})]}),q.jsx(FE,{state:s})]})}function UE({state:r,dispatch:e,setPage:t}){const{score:s,isPlaying:o,gameOverMessage:u}=r,[h,f]=H.useState("");function g(){e({type:"SUBMIT_NEW_HIGHSCORE",payload:h}),t("leaderboard")}if(!o)return q.jsxs("div",{className:"game-over-dialogue-container nes-container is-centered",children:[q.jsx("p",{children:u}),q.jsxs("p",{children:["Score: ",s]}),r.newHighScore&&q.jsxs("div",{className:"new-high-score-container",children:[q.jsx("p",{className:"active-difficulty-setting",children:"SUBMIT YOUR SCORE!"}),"Name:",q.jsx("div",{style:{padding:"1rem"},className:"nes-field is-inline",children:q.jsx("input",{type:"text",id:"dark_field",className:"nes-input is-dark",onChange:v=>f(v.target.value)})}),q.jsx(Mn,{type:"is-success",onClick:()=>g(),children:"Submit Score"})]}),q.jsxs("div",{className:"btn-container",children:[q.jsx(Mn,{type:"is-primary",onClick:()=>e({type:"START_NEW_GAME"}),children:"Play Again"}),q.jsx(Mn,{type:"is-warning",onClick:()=>t("game-mode"),children:"Menu"})]})]})}function jE({state:r,dispatch:e,setPage:t}){return H.useEffect(()=>{if(!r.isPlaying||r.timeLeft<=0||r.timer===null)return;const s=setInterval(()=>{e({type:"DECREMENT_TIME_LEFT"})},1e3);return()=>clearInterval(s)},[r.timeLeft,r.isPlaying,r.timer,e]),q.jsxs("div",{style:{background:`#${r.theme[0]}`},className:"game-container  ",children:[q.jsxs("div",{className:"",children:[q.jsx(bE,{lives:r.lives,score:r.score,timer:r.timeLeft,state:r}),q.jsx(OE,{state:r,dispatch:e})]}),q.jsx("div",{className:"btn-container",children:q.jsx(Mn,{type:"is-warning",onClick:()=>e({type:"END_GAME"}),children:"End Game"})}),q.jsx(UE,{state:r,dispatch:e,setPage:t})]})}var wm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},BE=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],f=r[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Wg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,f=h?r[o+1]:0,g=o+2<r.length,v=g?r[o+2]:0,w=u>>2,S=(u&3)<<4|f>>4;let R=(f&15)<<2|v>>6,V=v&63;g||(V=64,h||(R=64)),s.push(t[w],t[S],t[R],t[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Hg(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):BE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const v=o<r.length?t[r.charAt(o)]:64;++o;const S=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||f==null||v==null||S==null)throw new zE;const R=u<<2|f>>4;if(s.push(R),v!==64){const V=f<<4&240|v>>2;if(s.push(V),S!==64){const j=v<<6&192|S;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class zE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $E=function(r){const e=Hg(r);return Wg.encodeByteArray(e,!0)},du=function(r){return $E(r).replace(/\./g,"")},qE=function(r){try{return Wg.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=()=>HE().__FIREBASE_DEFAULTS__,GE=()=>{if(typeof process>"u"||typeof wm>"u")return;const r=wm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},KE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&qE(r[1]);return e&&JSON.parse(e)},cd=()=>{try{return WE()||GE()||KE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},QE=r=>{var e,t;return(t=(e=cd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},YE=r=>{const e=QE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Gg=()=>{var r;return(r=cd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[du(JSON.stringify(t)),du(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ew(){var r;const e=(r=cd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nw(){return!ew()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kg(){try{return typeof indexedDB=="object"}catch{return!1}}function Qg(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}function rw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="FirebaseError";class ui extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=iw,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pu.prototype.create)}}class Pu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?sw(u,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new ui(o,f,s)}}function sw(r,e){return r.replace(ow,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ow=/\{\$([^}]+)}/g;function Oh(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(Tm(u)&&Tm(h)){if(!Oh(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Tm(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=1e3,lw=2,uw=4*60*60*1e3,cw=.5;function Im(r,e=aw,t=lw){const s=e*Math.pow(t,r),o=Math.round(cw*s*(Math.random()-.5)*2);return Math.min(uw,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(r){return r&&r._delegate?r._delegate:r}class Er{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new XE;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fw(e))try{this.getOrInitializeService({instanceIdentifier:ji})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ji){return this.instances.has(e)}getOptions(e=ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dw(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ji){return this.component?this.component.multipleInstances?e:ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dw(r){return r===ji?void 0:r}function fw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new hw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const mw={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},gw=Ve.INFO,yw={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},vw=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=yw[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hd{constructor(e){this.name=e,this._logLevel=gw,this._logHandler=vw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const _w=(r,e)=>e.some(t=>r instanceof t);let Sm,Am;function Ew(){return Sm||(Sm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ww(){return Am||(Am=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yg=new WeakMap,Fh=new WeakMap,Xg=new WeakMap,Ih=new WeakMap,dd=new WeakMap;function Tw(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(Xr(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Yg.set(t,r)}).catch(()=>{}),dd.set(e,r),e}function Iw(r){if(Fh.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Fh.set(r,e)}let bh={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Fh.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Xg.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xr(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Sw(r){bh=r(bh)}function Aw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Sh(this),e,...t);return Xg.set(s,e.sort?e.sort():[e]),Xr(s)}:ww().includes(r)?function(...e){return r.apply(Sh(this),e),Xr(Yg.get(this))}:function(...e){return Xr(r.apply(Sh(this),e))}}function Cw(r){return typeof r=="function"?Aw(r):(r instanceof IDBTransaction&&Iw(r),_w(r,Ew())?new Proxy(r,bh):r)}function Xr(r){if(r instanceof IDBRequest)return Tw(r);if(Ih.has(r))return Ih.get(r);const e=Cw(r);return e!==r&&(Ih.set(r,e),dd.set(e,r)),e}const Sh=r=>dd.get(r);function Jg(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),f=Xr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Xr(h.result),g.oldVersion,g.newVersion,Xr(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const Rw=["get","getKey","getAll","getAllKeys","count"],Pw=["put","add","delete","clear"],Ah=new Map;function Cm(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ah.get(e))return Ah.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=Pw.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Rw.includes(t)))return;const u=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&g.done]))[0]};return Ah.set(e,u),u}Sw(r=>({...r,get:(e,t,s)=>Cm(e,t)||r.get(e,t,s),has:(e,t)=>!!Cm(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(xw(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function xw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uh="@firebase/app",Rm="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new hd("@firebase/app"),Nw="@firebase/app-compat",Dw="@firebase/analytics-compat",Vw="@firebase/analytics",Lw="@firebase/app-check-compat",Mw="@firebase/app-check",Ow="@firebase/auth",Fw="@firebase/auth-compat",bw="@firebase/database",Uw="@firebase/data-connect",jw="@firebase/database-compat",Bw="@firebase/functions",zw="@firebase/functions-compat",$w="@firebase/installations",qw="@firebase/installations-compat",Hw="@firebase/messaging",Ww="@firebase/messaging-compat",Gw="@firebase/performance",Kw="@firebase/performance-compat",Qw="@firebase/remote-config",Yw="@firebase/remote-config-compat",Xw="@firebase/storage",Jw="@firebase/storage-compat",Zw="@firebase/firestore",eT="@firebase/vertexai",tT="@firebase/firestore-compat",nT="firebase",rT="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="[DEFAULT]",iT={[Uh]:"fire-core",[Nw]:"fire-core-compat",[Vw]:"fire-analytics",[Dw]:"fire-analytics-compat",[Mw]:"fire-app-check",[Lw]:"fire-app-check-compat",[Ow]:"fire-auth",[Fw]:"fire-auth-compat",[bw]:"fire-rtdb",[Uw]:"fire-data-connect",[jw]:"fire-rtdb-compat",[Bw]:"fire-fn",[zw]:"fire-fn-compat",[$w]:"fire-iid",[qw]:"fire-iid-compat",[Hw]:"fire-fcm",[Ww]:"fire-fcm-compat",[Gw]:"fire-perf",[Kw]:"fire-perf-compat",[Qw]:"fire-rc",[Yw]:"fire-rc-compat",[Xw]:"fire-gcs",[Jw]:"fire-gcs-compat",[Zw]:"fire-fst",[tT]:"fire-fst-compat",[eT]:"fire-vertex","fire-js":"fire-js",[nT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new Map,sT=new Map,Bh=new Map;function Pm(r,e){try{r.container.addComponent(e)}catch(t){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ni(r){const e=r.name;if(Bh.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;Bh.set(e,r);for(const t of fu.values())Pm(t,r);for(const t of sT.values())Pm(t,r);return!0}function fd(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new Pu("app","Firebase",oT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=rT;function Zg(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:jh,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Jr.create("bad-app-name",{appName:String(o)});if(t||(t=Gg()),!t)throw Jr.create("no-options");const u=fu.get(o);if(u){if(Oh(t,u.options)&&Oh(s,u.config))return u;throw Jr.create("duplicate-app",{appName:o})}const h=new pw(o);for(const g of Bh.values())h.addComponent(g);const f=new aT(t,s,h);return fu.set(o,f),f}function uT(r=jh){const e=fu.get(r);if(!e&&r===jh&&Gg())return Zg();if(!e)throw Jr.create("no-app",{appName:r});return e}function Qn(r,e,t){var s;let o=(s=iT[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const f=[`Unable to register library "${o}" with version "${e}":`];u&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(f.join(" "));return}ni(new Er(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="firebase-heartbeat-database",hT=1,va="firebase-heartbeat-store";let Ch=null;function ey(){return Ch||(Ch=Jg(cT,hT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(va)}catch(t){console.warn(t)}}}}).catch(r=>{throw Jr.create("idb-open",{originalErrorMessage:r.message})})),Ch}async function dT(r){try{const t=(await ey()).transaction(va),s=await t.objectStore(va).get(ty(r));return await t.done,s}catch(e){if(e instanceof ui)wr.warn(e.message);else{const t=Jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wr.warn(t.message)}}}async function km(r,e){try{const s=(await ey()).transaction(va,"readwrite");await s.objectStore(va).put(e,ty(r)),await s.done}catch(t){if(t instanceof ui)wr.warn(t.message);else{const s=Jr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});wr.warn(s.message)}}}function ty(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=1024,pT=30*24*60*60*1e3;class mT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yT(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=xm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=pT}),this._storage.overwrite(this._heartbeatsCache))}catch(s){wr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=xm(),{heartbeatsToSend:s,unsentEntries:o}=gT(this._heartbeatsCache.heartbeats),u=du(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return wr.warn(t),""}}}function xm(){return new Date().toISOString().substring(0,10)}function gT(r,e=fT){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Nm(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Nm(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class yT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kg()?Qg().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await dT(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return km(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return km(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Nm(r){return du(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(r){ni(new Er("platform-logger",e=>new kw(e),"PRIVATE")),ni(new Er("heartbeat",e=>new mT(e),"PRIVATE")),Qn(Uh,Rm,r),Qn(Uh,Rm,"esm2017"),Qn("fire-js","")}vT("");var Dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $i,ny;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function A(){}A.prototype=T.prototype,x.D=T.prototype,x.prototype=new A,x.prototype.constructor=x,x.C=function(k,D,M){for(var C=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)C[tt-2]=arguments[tt];return T.prototype[D].apply(k,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,T,A){A||(A=0);var k=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)k[D]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(D=0;16>D;++D)k[D]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=x.g[0],A=x.g[1],D=x.g[2];var M=x.g[3],C=T+(M^A&(D^M))+k[0]+3614090360&4294967295;T=A+(C<<7&4294967295|C>>>25),C=M+(D^T&(A^D))+k[1]+3905402710&4294967295,M=T+(C<<12&4294967295|C>>>20),C=D+(A^M&(T^A))+k[2]+606105819&4294967295,D=M+(C<<17&4294967295|C>>>15),C=A+(T^D&(M^T))+k[3]+3250441966&4294967295,A=D+(C<<22&4294967295|C>>>10),C=T+(M^A&(D^M))+k[4]+4118548399&4294967295,T=A+(C<<7&4294967295|C>>>25),C=M+(D^T&(A^D))+k[5]+1200080426&4294967295,M=T+(C<<12&4294967295|C>>>20),C=D+(A^M&(T^A))+k[6]+2821735955&4294967295,D=M+(C<<17&4294967295|C>>>15),C=A+(T^D&(M^T))+k[7]+4249261313&4294967295,A=D+(C<<22&4294967295|C>>>10),C=T+(M^A&(D^M))+k[8]+1770035416&4294967295,T=A+(C<<7&4294967295|C>>>25),C=M+(D^T&(A^D))+k[9]+2336552879&4294967295,M=T+(C<<12&4294967295|C>>>20),C=D+(A^M&(T^A))+k[10]+4294925233&4294967295,D=M+(C<<17&4294967295|C>>>15),C=A+(T^D&(M^T))+k[11]+2304563134&4294967295,A=D+(C<<22&4294967295|C>>>10),C=T+(M^A&(D^M))+k[12]+1804603682&4294967295,T=A+(C<<7&4294967295|C>>>25),C=M+(D^T&(A^D))+k[13]+4254626195&4294967295,M=T+(C<<12&4294967295|C>>>20),C=D+(A^M&(T^A))+k[14]+2792965006&4294967295,D=M+(C<<17&4294967295|C>>>15),C=A+(T^D&(M^T))+k[15]+1236535329&4294967295,A=D+(C<<22&4294967295|C>>>10),C=T+(D^M&(A^D))+k[1]+4129170786&4294967295,T=A+(C<<5&4294967295|C>>>27),C=M+(A^D&(T^A))+k[6]+3225465664&4294967295,M=T+(C<<9&4294967295|C>>>23),C=D+(T^A&(M^T))+k[11]+643717713&4294967295,D=M+(C<<14&4294967295|C>>>18),C=A+(M^T&(D^M))+k[0]+3921069994&4294967295,A=D+(C<<20&4294967295|C>>>12),C=T+(D^M&(A^D))+k[5]+3593408605&4294967295,T=A+(C<<5&4294967295|C>>>27),C=M+(A^D&(T^A))+k[10]+38016083&4294967295,M=T+(C<<9&4294967295|C>>>23),C=D+(T^A&(M^T))+k[15]+3634488961&4294967295,D=M+(C<<14&4294967295|C>>>18),C=A+(M^T&(D^M))+k[4]+3889429448&4294967295,A=D+(C<<20&4294967295|C>>>12),C=T+(D^M&(A^D))+k[9]+568446438&4294967295,T=A+(C<<5&4294967295|C>>>27),C=M+(A^D&(T^A))+k[14]+3275163606&4294967295,M=T+(C<<9&4294967295|C>>>23),C=D+(T^A&(M^T))+k[3]+4107603335&4294967295,D=M+(C<<14&4294967295|C>>>18),C=A+(M^T&(D^M))+k[8]+1163531501&4294967295,A=D+(C<<20&4294967295|C>>>12),C=T+(D^M&(A^D))+k[13]+2850285829&4294967295,T=A+(C<<5&4294967295|C>>>27),C=M+(A^D&(T^A))+k[2]+4243563512&4294967295,M=T+(C<<9&4294967295|C>>>23),C=D+(T^A&(M^T))+k[7]+1735328473&4294967295,D=M+(C<<14&4294967295|C>>>18),C=A+(M^T&(D^M))+k[12]+2368359562&4294967295,A=D+(C<<20&4294967295|C>>>12),C=T+(A^D^M)+k[5]+4294588738&4294967295,T=A+(C<<4&4294967295|C>>>28),C=M+(T^A^D)+k[8]+2272392833&4294967295,M=T+(C<<11&4294967295|C>>>21),C=D+(M^T^A)+k[11]+1839030562&4294967295,D=M+(C<<16&4294967295|C>>>16),C=A+(D^M^T)+k[14]+4259657740&4294967295,A=D+(C<<23&4294967295|C>>>9),C=T+(A^D^M)+k[1]+2763975236&4294967295,T=A+(C<<4&4294967295|C>>>28),C=M+(T^A^D)+k[4]+1272893353&4294967295,M=T+(C<<11&4294967295|C>>>21),C=D+(M^T^A)+k[7]+4139469664&4294967295,D=M+(C<<16&4294967295|C>>>16),C=A+(D^M^T)+k[10]+3200236656&4294967295,A=D+(C<<23&4294967295|C>>>9),C=T+(A^D^M)+k[13]+681279174&4294967295,T=A+(C<<4&4294967295|C>>>28),C=M+(T^A^D)+k[0]+3936430074&4294967295,M=T+(C<<11&4294967295|C>>>21),C=D+(M^T^A)+k[3]+3572445317&4294967295,D=M+(C<<16&4294967295|C>>>16),C=A+(D^M^T)+k[6]+76029189&4294967295,A=D+(C<<23&4294967295|C>>>9),C=T+(A^D^M)+k[9]+3654602809&4294967295,T=A+(C<<4&4294967295|C>>>28),C=M+(T^A^D)+k[12]+3873151461&4294967295,M=T+(C<<11&4294967295|C>>>21),C=D+(M^T^A)+k[15]+530742520&4294967295,D=M+(C<<16&4294967295|C>>>16),C=A+(D^M^T)+k[2]+3299628645&4294967295,A=D+(C<<23&4294967295|C>>>9),C=T+(D^(A|~M))+k[0]+4096336452&4294967295,T=A+(C<<6&4294967295|C>>>26),C=M+(A^(T|~D))+k[7]+1126891415&4294967295,M=T+(C<<10&4294967295|C>>>22),C=D+(T^(M|~A))+k[14]+2878612391&4294967295,D=M+(C<<15&4294967295|C>>>17),C=A+(M^(D|~T))+k[5]+4237533241&4294967295,A=D+(C<<21&4294967295|C>>>11),C=T+(D^(A|~M))+k[12]+1700485571&4294967295,T=A+(C<<6&4294967295|C>>>26),C=M+(A^(T|~D))+k[3]+2399980690&4294967295,M=T+(C<<10&4294967295|C>>>22),C=D+(T^(M|~A))+k[10]+4293915773&4294967295,D=M+(C<<15&4294967295|C>>>17),C=A+(M^(D|~T))+k[1]+2240044497&4294967295,A=D+(C<<21&4294967295|C>>>11),C=T+(D^(A|~M))+k[8]+1873313359&4294967295,T=A+(C<<6&4294967295|C>>>26),C=M+(A^(T|~D))+k[15]+4264355552&4294967295,M=T+(C<<10&4294967295|C>>>22),C=D+(T^(M|~A))+k[6]+2734768916&4294967295,D=M+(C<<15&4294967295|C>>>17),C=A+(M^(D|~T))+k[13]+1309151649&4294967295,A=D+(C<<21&4294967295|C>>>11),C=T+(D^(A|~M))+k[4]+4149444226&4294967295,T=A+(C<<6&4294967295|C>>>26),C=M+(A^(T|~D))+k[11]+3174756917&4294967295,M=T+(C<<10&4294967295|C>>>22),C=D+(T^(M|~A))+k[2]+718787259&4294967295,D=M+(C<<15&4294967295|C>>>17),C=A+(M^(D|~T))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+M&4294967295}s.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var A=T-this.blockSize,k=this.B,D=this.h,M=0;M<T;){if(D==0)for(;M<=A;)o(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<T;)if(k[D++]=x.charCodeAt(M++),D==this.blockSize){o(this,k),D=0;break}}else for(;M<T;)if(k[D++]=x[M++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=T},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var A=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=A&255,A/=256;for(this.u(x),x=Array(16),T=A=0;4>T;++T)for(var k=0;32>k;k+=8)x[A++]=this.g[T]>>>k&255;return x};function u(x,T){var A=f;return Object.prototype.hasOwnProperty.call(A,x)?A[x]:A[x]=T(x)}function h(x,T){this.h=T;for(var A=[],k=!0,D=x.length-1;0<=D;D--){var M=x[D]|0;k&&M==T||(A[D]=M,k=!1)}this.g=A}var f={};function g(x){return-128<=x&&128>x?u(x,function(T){return new h([T|0],0>T?-1:0)}):new h([x|0],0>x?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return b(v(-x));for(var T=[],A=1,k=0;x>=A;k++)T[k]=x/A|0,A*=4294967296;return new h(T,0)}function w(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return b(w(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(T,8)),k=S,D=0;D<x.length;D+=8){var M=Math.min(8,x.length-D),C=parseInt(x.substring(D,D+M),T);8>M?(M=v(Math.pow(T,M)),k=k.j(M).add(v(C))):(k=k.j(A),k=k.add(v(C)))}return k}var S=g(0),R=g(1),V=g(16777216);r=h.prototype,r.m=function(){if($(this))return-b(this).m();for(var x=0,T=1,A=0;A<this.g.length;A++){var k=this.i(A);x+=(0<=k?k:4294967296+k)*T,T*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(j(this))return"0";if($(this))return"-"+b(this).toString(x);for(var T=v(Math.pow(x,6)),A=this,k="";;){var D=fe(A,T).g;A=Q(A,D.j(T));var M=((0<A.g.length?A.g[0]:A.h)>>>0).toString(x);if(A=D,j(A))return M+k;for(;6>M.length;)M="0"+M;k=M+k}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function j(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function $(x){return x.h==-1}r.l=function(x){return x=Q(this,x),$(x)?-1:j(x)?0:1};function b(x){for(var T=x.g.length,A=[],k=0;k<T;k++)A[k]=~x.g[k];return new h(A,~x.h).add(R)}r.abs=function(){return $(this)?b(this):this},r.add=function(x){for(var T=Math.max(this.g.length,x.g.length),A=[],k=0,D=0;D<=T;D++){var M=k+(this.i(D)&65535)+(x.i(D)&65535),C=(M>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);k=C>>>16,M&=65535,C&=65535,A[D]=C<<16|M}return new h(A,A[A.length-1]&-2147483648?-1:0)};function Q(x,T){return x.add(b(T))}r.j=function(x){if(j(this)||j(x))return S;if($(this))return $(x)?b(this).j(b(x)):b(b(this).j(x));if($(x))return b(this.j(b(x)));if(0>this.l(V)&&0>x.l(V))return v(this.m()*x.m());for(var T=this.g.length+x.g.length,A=[],k=0;k<2*T;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<x.g.length;D++){var M=this.i(k)>>>16,C=this.i(k)&65535,tt=x.i(D)>>>16,kt=x.i(D)&65535;A[2*k+2*D]+=C*kt,ne(A,2*k+2*D),A[2*k+2*D+1]+=M*kt,ne(A,2*k+2*D+1),A[2*k+2*D+1]+=C*tt,ne(A,2*k+2*D+1),A[2*k+2*D+2]+=M*tt,ne(A,2*k+2*D+2)}for(k=0;k<T;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=T;k<2*T;k++)A[k]=0;return new h(A,0)};function ne(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function ie(x,T){this.g=x,this.h=T}function fe(x,T){if(j(T))throw Error("division by zero");if(j(x))return new ie(S,S);if($(x))return T=fe(b(x),T),new ie(b(T.g),b(T.h));if($(T))return T=fe(x,b(T)),new ie(b(T.g),T.h);if(30<x.g.length){if($(x)||$(T))throw Error("slowDivide_ only works with positive integers.");for(var A=R,k=T;0>=k.l(x);)A=Ce(A),k=Ce(k);var D=Te(A,1),M=Te(k,1);for(k=Te(k,2),A=Te(A,2);!j(k);){var C=M.add(k);0>=C.l(x)&&(D=D.add(A),M=C),k=Te(k,1),A=Te(A,1)}return T=Q(x,D.j(T)),new ie(D,T)}for(D=S;0<=x.l(T);){for(A=Math.max(1,Math.floor(x.m()/T.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),M=v(A),C=M.j(T);$(C)||0<C.l(x);)A-=k,M=v(A),C=M.j(T);j(M)&&(M=R),D=D.add(M),x=Q(x,C)}return new ie(D,x)}r.A=function(x){return fe(this,x).h},r.and=function(x){for(var T=Math.max(this.g.length,x.g.length),A=[],k=0;k<T;k++)A[k]=this.i(k)&x.i(k);return new h(A,this.h&x.h)},r.or=function(x){for(var T=Math.max(this.g.length,x.g.length),A=[],k=0;k<T;k++)A[k]=this.i(k)|x.i(k);return new h(A,this.h|x.h)},r.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),A=[],k=0;k<T;k++)A[k]=this.i(k)^x.i(k);return new h(A,this.h^x.h)};function Ce(x){for(var T=x.g.length+1,A=[],k=0;k<T;k++)A[k]=x.i(k)<<1|x.i(k-1)>>>31;return new h(A,x.h)}function Te(x,T){var A=T>>5;T%=32;for(var k=x.g.length-A,D=[],M=0;M<k;M++)D[M]=0<T?x.i(M+A)>>>T|x.i(M+A+1)<<32-T:x.i(M+A);return new h(D,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ny=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,$i=h}).apply(typeof Dm<"u"?Dm:typeof self<"u"?self:typeof window<"u"?window:{});var Yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ry,ua,iy,su,zh,sy,oy,ay;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,y){return l==Array.prototype||l==Object.prototype||(l[p]=y.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yl=="object"&&Yl];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(l,p){if(p)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var O=l[E];if(!(O in y))break e;y=y[O]}l=l[l.length-1],E=y[l],p=p(E),p!=E&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var y=0,E=!1,O={next:function(){if(!E&&y<l.length){var z=y++;return{value:p(z,l[z]),done:!1}}return E=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}o("Array.prototype.values",function(l){return l||function(){return u(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function v(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function w(l,p,y){return l.call.apply(l.bind,arguments)}function S(l,p,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,E),l.apply(p,O)}}return function(){return l.apply(p,arguments)}}function R(l,p,y){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:S,R.apply(null,arguments)}function V(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function j(l,p){function y(){}y.prototype=p.prototype,l.aa=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,O,z){for(var ee=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ee[Ue-2]=arguments[Ue];return p.prototype[O].apply(E,ee)}}function $(l){const p=l.length;if(0<p){const y=Array(p);for(let E=0;E<p;E++)y[E]=l[E];return y}return[]}function b(l,p){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const O=l.length||0,z=E.length||0;l.length=O+z;for(let ee=0;ee<z;ee++)l[O+ee]=E[ee]}else l.push(E)}}class Q{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ne(l){return/^[\s\xa0]*$/.test(l)}function ie(){var l=f.navigator;return l&&(l=l.userAgent)?l:""}function fe(l){return fe[" "](l),l}fe[" "]=function(){};var Ce=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function Te(l,p,y){for(const E in l)p.call(y,l[E],E,l)}function x(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function T(l){const p={};for(const y in l)p[y]=l[y];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,p){let y,E;for(let O=1;O<arguments.length;O++){E=arguments[O];for(y in E)l[y]=E[y];for(let z=0;z<A.length;z++)y=A[z],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function D(l){var p=1;l=l.split(":");const y=[];for(;0<p&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function M(l){f.setTimeout(()=>{throw l},0)}function C(){var l=me;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class tt{constructor(){this.h=this.g=null}add(p,y){const E=kt.get();E.set(p,y),this.h?this.h.next=E:this.g=E,this.h=E}}var kt=new Q(()=>new xt,l=>l.reset());class xt{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let je,te=!1,me=new tt,se=()=>{const l=f.Promise.resolve(void 0);je=()=>{l.then(L)}};var L=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(y){M(y)}var p=kt;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}te=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};f.addEventListener("test",y,p),f.removeEventListener("test",y,p)}catch{}return l}();function Se(l,p){if(de.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(Ce){e:{try{fe(p.nodeName);var O=!0;break e}catch{}O=!1}O||(p=null)}}else y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Se.aa.h.call(this)}}j(Se,de);var xe={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function ze(l,p,y,E,O){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!E,this.ha=O,this.key=++Fe,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function er(l){this.src=l,this.g={},this.h=0}er.prototype.add=function(l,p,y,E,O){var z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);var ee=Ar(l,p,E,O);return-1<ee?(p=l[ee],y||(p.fa=!1)):(p=new ze(p,this.src,z,!!E,O),p.fa=y,l.push(p)),p};function Zi(l,p){var y=p.type;if(y in l.g){var E=l.g[y],O=Array.prototype.indexOf.call(E,p,void 0),z;(z=0<=O)&&Array.prototype.splice.call(E,O,1),z&&(gt(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Ar(l,p,y,E){for(var O=0;O<l.length;++O){var z=l[O];if(!z.da&&z.listener==p&&z.capture==!!y&&z.ha==E)return O}return-1}var hi="closure_lm_"+(1e6*Math.random()|0),es={};function co(l,p,y,E,O){if(Array.isArray(p)){for(var z=0;z<p.length;z++)co(l,p[z],y,E,O);return null}return y=po(y),l&&l[Oe]?l.K(p,y,v(E)?!!E.capture:!!E,O):ho(l,p,y,!1,E,O)}function ho(l,p,y,E,O,z){if(!p)throw Error("Invalid event type");var ee=v(O)?!!O.capture:!!O,Ue=ns(l);if(Ue||(l[hi]=Ue=new er(l)),y=Ue.add(p,y,E,ee,z),y.proxy)return y;if(E=Va(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Ie||(O=ee),O===void 0&&(O=!1),l.addEventListener(p.toString(),E,O);else if(l.attachEvent)l.attachEvent(nr(p.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Va(){function l(y){return p.call(l.src,l.listener,y)}const p=fo;return l}function ts(l,p,y,E,O){if(Array.isArray(p))for(var z=0;z<p.length;z++)ts(l,p[z],y,E,O);else E=v(E)?!!E.capture:!!E,y=po(y),l&&l[Oe]?(l=l.i,p=String(p).toString(),p in l.g&&(z=l.g[p],y=Ar(z,y,E,O),-1<y&&(gt(z[y]),Array.prototype.splice.call(z,y,1),z.length==0&&(delete l.g[p],l.h--)))):l&&(l=ns(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Ar(p,y,E,O)),(y=-1<l?p[l]:null)&&tr(y))}function tr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Oe])Zi(p.i,l);else{var y=l.type,E=l.proxy;p.removeEventListener?p.removeEventListener(y,E,l.capture):p.detachEvent?p.detachEvent(nr(y),E):p.addListener&&p.removeListener&&p.removeListener(E),(y=ns(p))?(Zi(y,l),y.h==0&&(y.src=null,p[hi]=null)):gt(l)}}}function nr(l){return l in es?es[l]:es[l]="on"+l}function fo(l,p){if(l.da)l=!0;else{p=new Se(p,this);var y=l.listener,E=l.ha||l.src;l.fa&&tr(l),l=y.call(E,p)}return l}function ns(l){return l=l[hi],l instanceof er?l:null}var rs="__closure_events_fn_"+(1e9*Math.random()>>>0);function po(l){return typeof l=="function"?l:(l[rs]||(l[rs]=function(p){return l.handleEvent(p)}),l[rs])}function ut(){G.call(this),this.i=new er(this),this.M=this,this.F=null}j(ut,G),ut.prototype[Oe]=!0,ut.prototype.removeEventListener=function(l,p,y,E){ts(this,l,p,y,E)};function ct(l,p){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=p.type||p,typeof p=="string")p=new de(p,l);else if(p instanceof de)p.target=p.target||l;else{var O=p;p=new de(E,l),k(p,O)}if(O=!0,y)for(var z=y.length-1;0<=z;z--){var ee=p.g=y[z];O=rr(ee,E,!0,p)&&O}if(ee=p.g=l,O=rr(ee,E,!0,p)&&O,O=rr(ee,E,!1,p)&&O,y)for(z=0;z<y.length;z++)ee=p.g=y[z],O=rr(ee,E,!1,p)&&O}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var y=l.g[p],E=0;E<y.length;E++)gt(y[E]);delete l.g[p],l.h--}}this.F=null},ut.prototype.K=function(l,p,y,E){return this.i.add(String(l),p,!1,y,E)},ut.prototype.L=function(l,p,y,E){return this.i.add(String(l),p,!0,y,E)};function rr(l,p,y,E){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var O=!0,z=0;z<p.length;++z){var ee=p[z];if(ee&&!ee.da&&ee.capture==y){var Ue=ee.listener,ht=ee.ha||ee.src;ee.fa&&Zi(l.i,ee),O=Ue.call(ht,E)!==!1&&O}}return O&&!E.defaultPrevented}function mo(l,p,y){if(typeof l=="function")y&&(l=R(l,y));else if(l&&typeof l.handleEvent=="function")l=R(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(l,p||0)}function Cr(l){l.g=mo(()=>{l.g=null,l.i&&(l.i=!1,Cr(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class di extends G{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Cr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(l){G.call(this),this.h=l,this.g={}}j(fi,G);var go=[];function yo(l){Te(l.g,function(p,y){this.g.hasOwnProperty(y)&&tr(p)},l),l.g={}}fi.prototype.N=function(){fi.aa.N.call(this),yo(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vo=f.JSON.stringify,_o=f.JSON.parse,Eo=class{stringify(l){return f.JSON.stringify(l,void 0)}parse(l){return f.JSON.parse(l,void 0)}};function pi(){}pi.prototype.h=null;function is(l){return l.h||(l.h=l.i())}function ss(){}var on={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fn(){de.call(this,"d")}j(Fn,de);function os(){de.call(this,"c")}j(os,de);var bn={},wo=null;function mi(){return wo=wo||new ut}bn.La="serverreachability";function To(l){de.call(this,bn.La,l)}j(To,de);function ir(l){const p=mi();ct(p,new To(p))}bn.STAT_EVENT="statevent";function Io(l,p){de.call(this,bn.STAT_EVENT,l),this.stat=p}j(Io,de);function nt(l){const p=mi();ct(p,new Io(p,l))}bn.Ma="timingevent";function as(l,p){de.call(this,bn.Ma,l),this.size=p}j(as,de);function _n(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){l()},p)}function gi(){this.g=!0}gi.prototype.xa=function(){this.g=!1};function yi(l,p,y,E,O,z){l.info(function(){if(l.g)if(z)for(var ee="",Ue=z.split("&"),ht=0;ht<Ue.length;ht++){var Ne=Ue[ht].split("=");if(1<Ne.length){var yt=Ne[0];Ne=Ne[1];var st=yt.split("_");ee=2<=st.length&&st[1]=="type"?ee+(yt+"="+Ne+"&"):ee+(yt+"=redacted&")}}else ee=null;else ee=z;return"XMLHTTP REQ ("+E+") [attempt "+O+"]: "+p+`
`+y+`
`+ee})}function ls(l,p,y,E,O,z,ee){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+O+"]: "+p+`
`+y+`
`+z+" "+ee})}function En(l,p,y,E){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+qu(l,y)+(E?" "+E:"")})}function So(l,p){l.info(function(){return"TIMEOUT: "+p})}gi.prototype.info=function(){};function qu(l,p){if(!l.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var O=E[1];if(Array.isArray(O)&&!(1>O.length)){var z=O[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ee=1;ee<O.length;ee++)O[ee]=""}}}}return vo(y)}catch{return p}}var us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},La={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wn;function vi(){}j(vi,pi),vi.prototype.g=function(){return new XMLHttpRequest},vi.prototype.i=function(){return{}},wn=new vi;function Tn(l,p,y,E){this.j=l,this.i=p,this.l=y,this.R=E||1,this.U=new fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ma}function Ma(){this.i=null,this.g="",this.h=!1}var Ao={},cs={};function hs(l,p,y){l.L=1,l.v=Nr(Zt(p)),l.m=y,l.P=!0,Co(l,null)}function Co(l,p){l.F=Date.now(),$e(l),l.A=Zt(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Vr(y.i,"t",E),l.C=0,y=l.j.J,l.h=new Ma,l.g=Za(l.j,y?p:null,!l.m),0<l.O&&(l.M=new di(R(l.Y,l,l.g),l.O)),p=l.U,y=l.g,E=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(go[0]=O.toString()),O=go);for(var z=0;z<O.length;z++){var ee=co(y,O[z],E||p.handleEvent,!1,p.h||p);if(!ee)break;p.g[ee.key]=ee}p=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),ir(),yi(l.i,l.u,l.A,l.l,l.R,l.m)}Tn.prototype.ca=function(l){l=l.target;const p=this.M;p&&$t(l)==3?p.j():this.Y(l)},Tn.prototype.Y=function(l){try{if(l==this.g)e:{const st=$t(this.g);var p=this.g.Ba();const un=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||Do(this.g)))){this.J||st!=4||p==7||(p==8||0>=un?ir(3):ir(2)),_i(this);var y=this.g.Z();this.X=y;t:if(Oa(this)){var E=Do(this.g);l="";var O=E.length,z=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),Rr(this);var ee="";break t}this.h.i=new f.TextDecoder}for(p=0;p<O;p++)this.h.h=!0,l+=this.h.i.decode(E[p],{stream:!(z&&p==O-1)});E.length=0,this.h.g+=l,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=y==200,ls(this.i,this.u,this.A,this.l,this.R,st,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,ht=this.g;if((Ue=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Ue)){var Ne=Ue;break t}}Ne=null}if(y=Ne)En(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ro(this,y);else{this.o=!1,this.s=3,nt(12),an(this),Rr(this);break e}}if(this.P){y=!0;let tn;for(;!this.J&&this.C<ee.length;)if(tn=Hu(this,ee),tn==cs){st==4&&(this.s=4,nt(14),y=!1),En(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Ao){this.s=4,nt(15),En(this.i,this.l,ee,"[Invalid Chunk]"),y=!1;break}else En(this.i,this.l,tn,null),Ro(this,tn);if(Oa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||ee.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)En(this.i,this.l,ee,"[Invalid Chunked Response]"),an(this),Rr(this);else if(0<ee.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Lo(yt),yt.M=!0,nt(11))}}else En(this.i,this.l,ee,null),Ro(this,ee);st==4&&an(this),this.o&&!this.J&&(st==4?Ts(this.j,this):(this.o=!1,$e(this)))}else ys(this.g),y==400&&0<ee.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),an(this),Rr(this)}}}catch{}finally{}};function Oa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Hu(l,p){var y=l.C,E=p.indexOf(`
`,y);return E==-1?cs:(y=Number(p.substring(y,E)),isNaN(y)?Ao:(E+=1,E+y>p.length?cs:(p=p.slice(E,E+y),l.C=E+y,p)))}Tn.prototype.cancel=function(){this.J=!0,an(this)};function $e(l){l.S=Date.now()+l.I,Fa(l,l.I)}function Fa(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=_n(R(l.ba,l),p)}function _i(l){l.B&&(f.clearTimeout(l.B),l.B=null)}Tn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(So(this.i,this.A),this.L!=2&&(ir(),nt(17)),an(this),this.s=2,Rr(this)):Fa(this,this.S-l)};function Rr(l){l.j.G==0||l.J||Ts(l.j,l)}function an(l){_i(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,yo(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function Ro(l,p){try{var y=l.j;if(y.G!=0&&(y.g==l||bt(y.h,l))){if(!l.K&&bt(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var O=E;if(O[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)ws(y),Rn(y);else break e;Es(y),nt(18)}}else y.za=O[1],0<y.za-y.T&&37500>O[2]&&y.F&&y.v==0&&!y.C&&(y.C=_n(R(y.Za,y),6e3));if(1>=Ua(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ur(y,11)}else if((l.K||y.g==l)&&ws(y),!ne(p))for(O=y.Da.g.parse(p),p=0;p<O.length;p++){let Ne=O[p];if(y.T=Ne[0],Ne=Ne[1],y.G==2)if(Ne[0]=="c"){y.K=Ne[1],y.ia=Ne[2];const yt=Ne[3];yt!=null&&(y.la=yt,y.j.info("VER="+y.la));const st=Ne[4];st!=null&&(y.Aa=st,y.j.info("SVER="+y.Aa));const un=Ne[5];un!=null&&typeof un=="number"&&0<un&&(E=1.5*un,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const tn=l.g;if(tn){const Ci=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ci){var z=E.h;z.g||Ci.indexOf("spdy")==-1&&Ci.indexOf("quic")==-1&&Ci.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Po(z,z.h),z.h=null))}if(E.D){const Ss=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ss&&(E.ya=Ss,Be(E.I,E.D,Ss))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var ee=l;if(E.qa=Ja(E,E.J?E.ia:null,E.W),ee.K){ja(E.h,ee);var Ue=ee,ht=E.L;ht&&(Ue.I=ht),Ue.B&&(_i(Ue),$e(Ue)),E.g=ee}else Ai(E);0<y.i.length&&zn(y)}else Ne[0]!="stop"&&Ne[0]!="close"||ur(y,7);else y.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?ur(y,7):It(y):Ne[0]!="noop"&&y.l&&y.l.ta(Ne),y.v=0)}}ir(4)}catch{}}var ba=class{constructor(l,p){this.g=l,this.map=p}};function Ei(l){this.l=l||10,f.PerformanceNavigationTiming?(l=f.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ua(l){return l.h?1:l.g?l.g.size:0}function bt(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Po(l,p){l.g?l.g.add(p):l.h=p}function ja(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Ei.prototype.cancel=function(){if(this.i=Ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ba(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.D);return p}return $(l.i)}function ds(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],y=l.length,E=0;E<y;E++)p.push(l[E]);return p}p=[],y=0;for(E in l)p[y++]=l[E];return p}function fs(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var y=0;y<l;y++)p.push(y);return p}p=[],y=0;for(const E in l)p[y++]=E;return p}}}function Pr(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var y=fs(l),E=ds(l),O=E.length,z=0;z<O;z++)p.call(void 0,E[z],y&&y[z],l)}var wi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wu(l,p){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),O=null;if(0<=E){var z=l[y].substring(0,E);O=l[y].substring(E+1)}else z=l[y];p(z,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function sr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof sr){this.h=l.h,Ti(this,l.j),this.o=l.o,this.g=l.g,kr(this,l.s),this.l=l.l;var p=l.i,y=new Un;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),xr(this,y),this.m=l.m}else l&&(p=String(l).match(wi))?(this.h=!1,Ti(this,p[1]||"",!0),this.o=Pe(p[2]||""),this.g=Pe(p[3]||"",!0),kr(this,p[4]),this.l=Pe(p[5]||"",!0),xr(this,p[6]||"",!0),this.m=Pe(p[7]||"")):(this.h=!1,this.i=new Un(null,this.h))}sr.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Dr(p,ps,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Dr(p,ps,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Dr(y,y.charAt(0)=="/"?qa:$a,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Dr(y,ko)),l.join("")};function Zt(l){return new sr(l)}function Ti(l,p,y){l.j=y?Pe(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function kr(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function xr(l,p,y){p instanceof Un?(l.i=p,jn(l.i,l.h)):(y||(p=Dr(p,Ha)),l.i=new Un(p,l.h))}function Be(l,p,y){l.i.set(p,y)}function Nr(l){return Be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pe(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Dr(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,za),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function za(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ps=/[#\/\?@]/g,$a=/[#\?:]/g,qa=/[#\?]/g,Ha=/[#\?@]/g,ko=/#/g;function Un(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&Wu(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}r=Un.prototype,r.add=function(l,p){Tt(this),this.i=null,l=ln(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function In(l,p){Tt(l),p=ln(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Sn(l,p){return Tt(l),p=ln(l,p),l.g.has(p)}r.forEach=function(l,p){Tt(this),this.g.forEach(function(y,E){y.forEach(function(O){l.call(p,O,E,this)},this)},this)},r.na=function(){Tt(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let E=0;E<p.length;E++){const O=l[E];for(let z=0;z<O.length;z++)y.push(p[E])}return y},r.V=function(l){Tt(this);let p=[];if(typeof l=="string")Sn(this,l)&&(p=p.concat(this.g.get(ln(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)p=p.concat(l[y])}return p},r.set=function(l,p){return Tt(this),this.i=null,l=ln(this,l),Sn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},r.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function Vr(l,p,y){In(l,p),0<y.length&&(l.i=null,l.g.set(ln(l,p),$(y)),l.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var E=p[y];const z=encodeURIComponent(String(E)),ee=this.V(E);for(E=0;E<ee.length;E++){var O=z;ee[E]!==""&&(O+="="+encodeURIComponent(String(ee[E]))),l.push(O)}}return this.i=l.join("&")};function ln(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function jn(l,p){p&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(y,E){var O=E.toLowerCase();E!=O&&(In(this,E),Vr(this,O,y))},l)),l.j=p}function Gu(l,p){const y=new gi;if(f.Image){const E=new Image;E.onload=V(zt,y,"TestLoadImage: loaded",!0,p,E),E.onerror=V(zt,y,"TestLoadImage: error",!1,p,E),E.onabort=V(zt,y,"TestLoadImage: abort",!1,p,E),E.ontimeout=V(zt,y,"TestLoadImage: timeout",!1,p,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else p(!1)}function Wa(l,p){const y=new gi,E=new AbortController,O=setTimeout(()=>{E.abort(),zt(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:E.signal}).then(z=>{clearTimeout(O),z.ok?zt(y,"TestPingServer: ok",!0,p):zt(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(O),zt(y,"TestPingServer: error",!1,p)})}function zt(l,p,y,E,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),E(y)}catch{}}function Ku(){this.g=new Eo}function Ga(l,p,y){const E=y||"";try{Pr(l,function(O,z){let ee=O;v(O)&&(ee=vo(O)),p.push(E+z+"="+encodeURIComponent(ee))})}catch(O){throw p.push(E+"type="+encodeURIComponent("_badmap")),O}}function or(l){this.l=l.Ub||null,this.j=l.eb||!1}j(or,pi),or.prototype.g=function(){return new Ii(this.l,this.j)},or.prototype.i=function(l){return function(){return l}}({});function Ii(l,p){ut.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Ii,ut),r=Ii.prototype,r.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Cn(this)},r.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,An(this)),this.readyState=0},r.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Cn(this)),this.g&&(this.readyState=3,Cn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ka(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ka(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}r.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?An(this):Cn(this),this.readyState==3&&Ka(this)}},r.Ra=function(l){this.g&&(this.response=this.responseText=l,An(this))},r.Qa=function(l){this.g&&(this.response=l,An(this))},r.ga=function(){this.g&&An(this)};function An(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Cn(l)}r.setRequestHeader=function(l,p){this.u.append(l,p)},r.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function Cn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ar(l){let p="";return Te(l,function(y,E){p+=E,p+=":",p+=y,p+=`\r
`}),p}function Lr(l,p,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=ar(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):Be(l,p,y))}function Ke(l){ut.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Ke,ut);var Qu=/^https?$/i,xo=["POST","PUT"];r=Ke.prototype,r.Ha=function(l){this.J=l},r.ea=function(l,p,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wn.g(),this.v=this.o?is(this.o):is(wn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(z){Si(this,z);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var O in E)y.set(O,E[O]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const z of E.keys())y.set(z,E.get(z));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(z=>z.toLowerCase()=="content-type"),O=f.FormData&&l instanceof f.FormData,!(0<=Array.prototype.indexOf.call(xo,p,void 0))||E||O||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ee]of y)this.g.setRequestHeader(z,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gs(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){Si(this,z)}};function Si(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,ms(l),en(l)}function ms(l){l.A||(l.A=!0,ct(l,"complete"),ct(l,"error"))}r.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ct(this,"complete"),ct(this,"abort"),en(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),en(this,!0)),Ke.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?No(this):this.bb())},r.bb=function(){No(this)};function No(l){if(l.h&&typeof h<"u"&&(!l.v[1]||$t(l)!=4||l.Z()!=2)){if(l.u&&$t(l)==4)mo(l.Ea,0,l);else if(ct(l,"readystatechange"),$t(l)==4){l.h=!1;try{const ee=l.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var E;if(E=ee===0){var O=String(l.D).match(wi)[1]||null;!O&&f.self&&f.self.location&&(O=f.self.location.protocol.slice(0,-1)),E=!Qu.test(O?O.toLowerCase():"")}y=E}if(y)ct(l,"complete"),ct(l,"success");else{l.m=6;try{var z=2<$t(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",ms(l)}}finally{en(l)}}}}function en(l,p){if(l.g){gs(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||ct(l,"ready");try{y.onreadystatechange=E}catch{}}}function gs(l){l.I&&(f.clearTimeout(l.I),l.I=null)}r.isActive=function(){return!!this.g};function $t(l){return l.g?l.g.readyState:0}r.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),_o(p)}};function Do(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ys(l){const p={};l=(l.g&&2<=$t(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(ne(l[E]))continue;var y=D(l[E]);const O=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const z=p[O]||[];p[O]=z,z.push(y)}x(p,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bn(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function Vo(l){this.Aa=0,this.i=[],this.j=new gi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bn("baseRetryDelayMs",5e3,l),this.cb=Bn("retryDelaySeedMs",1e4,l),this.Wa=Bn("forwardChannelMaxRetries",2,l),this.wa=Bn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ei(l&&l.concurrentRequestLimit),this.Da=new Ku,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Vo.prototype,r.la=8,r.G=1,r.connect=function(l,p,y,E){nt(0),this.W=l,this.H=p||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Ja(this,null,this.W),zn(this)};function It(l){if(vs(l),l.G==3){var p=l.U++,y=Zt(l.I);if(Be(y,"SID",l.K),Be(y,"RID",p),Be(y,"TYPE","terminate"),lr(l,y),p=new Tn(l,l.j,p),p.L=2,p.v=Nr(Zt(y)),y=!1,f.navigator&&f.navigator.sendBeacon)try{y=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&f.Image&&(new Image().src=p.v,y=!0),y||(p.g=Za(p.j,null),p.g.ea(p.v)),p.F=Date.now(),$e(p)}Xa(l)}function Rn(l){l.g&&(Lo(l),l.g.cancel(),l.g=null)}function vs(l){Rn(l),l.u&&(f.clearTimeout(l.u),l.u=null),ws(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&f.clearTimeout(l.s),l.s=null)}function zn(l){if(!Jt(l.h)&&!l.s){l.s=!0;var p=l.Ga;je||se(),te||(je(),te=!0),me.add(p,l),l.B=0}}function Yu(l,p){return Ua(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=_n(R(l.Ga,l,p),Ya(l,l.B)),l.B++,!0)}r.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new Tn(this,this.j,l);let z=this.o;if(this.S&&(z?(z=T(z),k(z,this.S)):z=this.S),this.m!==null||this.O||(O.H=z,z=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Mr(this,O,p),y=Zt(this.I),Be(y,"RID",l),Be(y,"CVER",22),this.D&&Be(y,"X-HTTP-Session-Id",this.D),lr(this,y),z&&(this.O?p="headers="+encodeURIComponent(String(ar(z)))+"&"+p:this.m&&Lr(y,this.m,z)),Po(this.h,O),this.Ua&&Be(y,"TYPE","init"),this.P?(Be(y,"$req",p),Be(y,"SID","null"),O.T=!0,hs(O,y,null)):hs(O,y,p),this.G=2}}else this.G==3&&(l?_s(this,l):this.i.length==0||Jt(this.h)||_s(this))};function _s(l,p){var y;p?y=p.l:y=l.U++;const E=Zt(l.I);Be(E,"SID",l.K),Be(E,"RID",y),Be(E,"AID",l.T),lr(l,E),l.m&&l.o&&Lr(E,l.m,l.o),y=new Tn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Mr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Po(l.h,y),hs(y,E,p)}function lr(l,p){l.H&&Te(l.H,function(y,E){Be(p,E,y)}),l.l&&Pr({},function(y,E){Be(p,E,y)})}function Mr(l,p,y){y=Math.min(l.i.length,y);var E=l.l?R(l.l.Na,l.l,l):null;e:{var O=l.i;let z=-1;for(;;){const ee=["count="+y];z==-1?0<y?(z=O[0].g,ee.push("ofs="+z)):z=0:ee.push("ofs="+z);let Ue=!0;for(let ht=0;ht<y;ht++){let Ne=O[ht].g;const yt=O[ht].map;if(Ne-=z,0>Ne)z=Math.max(0,O[ht].g-100),Ue=!1;else try{Ga(yt,ee,"req"+Ne+"_")}catch{E&&E(yt)}}if(Ue){E=ee.join("&");break e}}}return l=l.i.splice(0,y),p.D=l,E}function Ai(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;je||se(),te||(je(),te=!0),me.add(p,l),l.v=0}}function Es(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=_n(R(l.Fa,l),Ya(l,l.v)),l.v++,!0)}r.Fa=function(){if(this.u=null,Qa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=_n(R(this.ab,this),l)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Rn(this),Qa(this))};function Lo(l){l.A!=null&&(f.clearTimeout(l.A),l.A=null)}function Qa(l){l.g=new Tn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=Zt(l.qa);Be(p,"RID","rpc"),Be(p,"SID",l.K),Be(p,"AID",l.T),Be(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&Be(p,"TO",l.ja),Be(p,"TYPE","xmlhttp"),lr(l,p),l.m&&l.o&&Lr(p,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Nr(Zt(p)),y.m=null,y.P=!0,Co(y,l)}r.Za=function(){this.C!=null&&(this.C=null,Rn(this),Es(this),nt(19))};function ws(l){l.C!=null&&(f.clearTimeout(l.C),l.C=null)}function Ts(l,p){var y=null;if(l.g==p){ws(l),Lo(l),l.g=null;var E=2}else if(bt(l.h,p))y=p.D,ja(l.h,p),E=1;else return;if(l.G!=0){if(p.o)if(E==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var O=l.B;E=mi(),ct(E,new as(E,y)),zn(l)}else Ai(l);else if(O=p.s,O==3||O==0&&0<p.X||!(E==1&&Yu(l,p)||E==2&&Es(l)))switch(y&&0<y.length&&(p=l.h,p.i=p.i.concat(y)),O){case 1:ur(l,5);break;case 4:ur(l,10);break;case 3:ur(l,6);break;default:ur(l,2)}}}function Ya(l,p){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*p}function ur(l,p){if(l.j.info("Error code "+p),p==2){var y=R(l.fb,l),E=l.Xa;const O=!E;E=new sr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ti(E,"https"),Nr(E),O?Gu(E.toString(),y):Wa(E.toString(),y)}else nt(2);l.G=0,l.l&&l.l.sa(p),Xa(l),vs(l)}r.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Xa(l){if(l.G=0,l.ka=[],l.l){const p=Ba(l.h);(p.length!=0||l.i.length!=0)&&(b(l.ka,p),b(l.ka,l.i),l.h.i.length=0,$(l.i),l.i.length=0),l.l.ra()}}function Ja(l,p,y){var E=y instanceof sr?Zt(y):new sr(y);if(E.g!="")p&&(E.g=p+"."+E.g),kr(E,E.s);else{var O=f.location;E=O.protocol,p=p?p+"."+O.hostname:O.hostname,O=+O.port;var z=new sr(null);E&&Ti(z,E),p&&(z.g=p),O&&kr(z,O),y&&(z.l=y),E=z}return y=l.D,p=l.ya,y&&p&&Be(E,y,p),Be(E,"VER",l.la),lr(l,E),E}function Za(l,p,y){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Ke(new or({eb:y})):new Ke(l.pa),p.Ha(l.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mo(){}r=Mo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Is(){}Is.prototype.g=function(l,p){return new Ut(l,p)};function Ut(l,p){ut.call(this),this.g=new Vo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!ne(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ne(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new $n(this)}j(Ut,ut),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){It(this.g)},Ut.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=vo(l),l=y);p.i.push(new ba(p.Ya++,l)),p.G==3&&zn(p)},Ut.prototype.N=function(){this.g.l=null,delete this.j,It(this.g),delete this.g,Ut.aa.N.call(this)};function el(l){Fn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}j(el,Fn);function tl(){os.call(this),this.status=1}j(tl,os);function $n(l){this.g=l}j($n,Mo),$n.prototype.ua=function(){ct(this.g,"a")},$n.prototype.ta=function(l){ct(this.g,new el(l))},$n.prototype.sa=function(l){ct(this.g,new tl)},$n.prototype.ra=function(){ct(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,ay=function(){return new Is},oy=function(){return mi()},sy=bn,zh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,su=us,La.COMPLETE="complete",iy=La,ss.EventType=on,on.OPEN="a",on.CLOSE="b",on.ERROR="c",on.MESSAGE="d",ut.prototype.listen=ut.prototype.K,ua=ss,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,ry=Ke}).apply(typeof Yl<"u"?Yl:typeof self<"u"?self:typeof window<"u"?window:{});const Vm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new hd("@firebase/firestore");function Hs(){return Hi.logLevel}function oe(r,...e){if(Hi.logLevel<=Ve.DEBUG){const t=e.map(pd);Hi.debug(`Firestore (${so}): ${r}`,...t)}}function Tr(r,...e){if(Hi.logLevel<=Ve.ERROR){const t=e.map(pd);Hi.error(`Firestore (${so}): ${r}`,...t)}}function Ys(r,...e){if(Hi.logLevel<=Ve.WARN){const t=e.map(pd);Hi.warn(`Firestore (${so}): ${r}`,...t)}}function pd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r="Unexpected state"){const e=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: `+r;throw Tr(e),new Error(e)}function be(r,e){r||_e()}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _T{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ot.UNAUTHENTICATED))}shutdown(){}}class ET{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wT{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){be(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},f=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(be(typeof s.accessToken=="string"),new ly(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Ot(e)}}class TT{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class IT{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new TT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ST{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){be(this.o===void 0);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(be(typeof t.token=="string"),this.R=t.token,new ST(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=CT(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%e.length))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function Xs(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new pt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new pt(0,0))}static max(){return new Ee(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t,s){t===void 0?t=0:t>e.length&&_e(),s===void 0?s=e.length-t:s>e.length-t&&_e(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return _a.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _a?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ge extends _a{construct(e,t,s){return new Ge(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Ge(t)}static emptyPath(){return new Ge([])}}const RT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends _a{construct(e,t,s){return new Rt(e,t,s)}static isValidIdentifier(e){return RT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new le(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(u(),o++)}if(u(),h)throw new le(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(t)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Ge.fromString(e))}static fromName(e){return new pe(Ge.fromString(e).popFirst(5))}static empty(){return new pe(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Ge(e.slice()))}}function PT(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new pt(t+1,0):new pt(t,s));return new ri(o,pe.empty(),e)}function kT(r){return new ri(r.readTime,r.key,-1)}class ri{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ri(Ee.min(),pe.empty(),-1)}static max(){return new ri(Ee.max(),pe.empty(),-1)}}function xT(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(r.documentKey,e.documentKey),t!==0?t:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==NT)throw r;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):W.reject(t)}static resolve(e){return new W((t,s)=>{t(e)})}static reject(e){return new W((t,s)=>{s(e)})}static waitFor(e){return new W((t,s)=>{let o=0,u=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++u,h&&u===o&&t()},g=>s(g))}),h=!0,u===o&&t()})}static or(e){let t=W.resolve(!1);for(const s of e)t=t.next(o=>o?W.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new W((s,o)=>{const u=e.length,h=new Array(u);let f=0;for(let g=0;g<u;g++){const v=g;t(e[v]).next(w=>{h[v]=w,++f,f===u&&s(h)},w=>o(w))}})}static doWhile(e,t){return new W((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function VT(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ao(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ku.oe=-1;function xu(r){return r==null}function pu(r){return r===0&&1/r==-1/0}function LT(r){return typeof r=="number"&&Number.isInteger(r)&&!pu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Lm(e)),e=OT(r.get(t),e);return Lm(e)}function OT(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case"":t+="";break;default:t+=u}}return t}function Lm(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Qi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function cy(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,t){this.comparator=e,this.root=t||Ct.EMPTY}insert(e,t){return new Ze(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xl(this.root,e,this.comparator,!0)}}class Xl{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ct.RED,this.left=o??Ct.EMPTY,this.right=u??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ct(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ct.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ct(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Om(this.data.getIterator())}getIteratorFrom(e){return new Om(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mt(this.comparator);return t.data=e,t}}class Om{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new mt(Rt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xs(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new hy("Invalid base64 string: "+u):u}}(e);return new Pt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const FT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(r){if(be(!!r),typeof r=="string"){let e=0;const t=FT.exec(r);if(be(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(r.seconds),nanos:it(r.nanos)}}function it(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function si(r){return typeof r=="string"?Pt.fromBase64String(r):Pt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Nu(r){const e=r.mapValue.fields.__previous_value__;return md(e)?Nu(e):e}function Ea(r){const e=ii(r.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,t,s,o,u,h,f,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=v}}class wa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?md(r)?4:jT(r)?9007199254740991:UT(r)?10:11:_e()}function Jn(r,e){if(r===e)return!0;const t=oi(r);if(t!==oi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ea(r).isEqual(Ea(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ii(o.timestampValue),f=ii(u.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return si(o.bytesValue).isEqual(si(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return it(o.geoPointValue.latitude)===it(u.geoPointValue.latitude)&&it(o.geoPointValue.longitude)===it(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return it(o.integerValue)===it(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=it(o.doubleValue),f=it(u.doubleValue);return h===f?pu(h)===pu(f):isNaN(h)&&isNaN(f)}return!1}(r,e);case 9:return Xs(r.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},f=u.mapValue.fields||{};if(Mm(h)!==Mm(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!Jn(h[g],f[g])))return!1;return!0}(r,e);default:return _e()}}function Ta(r,e){return(r.values||[]).find(t=>Jn(t,e))!==void 0}function Js(r,e){if(r===e)return 0;const t=oi(r),s=oi(e);if(t!==s)return ke(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return function(u,h){const f=it(u.integerValue||u.doubleValue),g=it(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(r,e);case 3:return Fm(r.timestampValue,e.timestampValue);case 4:return Fm(Ea(r),Ea(e));case 5:return ke(r.stringValue,e.stringValue);case 6:return function(u,h){const f=si(u),g=si(h);return f.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const f=u.split("/"),g=h.split("/");for(let v=0;v<f.length&&v<g.length;v++){const w=ke(f[v],g[v]);if(w!==0)return w}return ke(f.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const f=ke(it(u.latitude),it(h.latitude));return f!==0?f:ke(it(u.longitude),it(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return bm(r.arrayValue,e.arrayValue);case 10:return function(u,h){var f,g,v,w;const S=u.fields||{},R=h.fields||{},V=(f=S.value)===null||f===void 0?void 0:f.arrayValue,j=(g=R.value)===null||g===void 0?void 0:g.arrayValue,$=ke(((v=V==null?void 0:V.values)===null||v===void 0?void 0:v.length)||0,((w=j==null?void 0:j.values)===null||w===void 0?void 0:w.length)||0);return $!==0?$:bm(V,j)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===Jl.mapValue&&h===Jl.mapValue)return 0;if(u===Jl.mapValue)return 1;if(h===Jl.mapValue)return-1;const f=u.fields||{},g=Object.keys(f),v=h.fields||{},w=Object.keys(v);g.sort(),w.sort();for(let S=0;S<g.length&&S<w.length;++S){const R=ke(g[S],w[S]);if(R!==0)return R;const V=Js(f[g[S]],v[w[S]]);if(V!==0)return V}return ke(g.length,w.length)}(r.mapValue,e.mapValue);default:throw _e()}}function Fm(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const t=ii(r),s=ii(e),o=ke(t.seconds,s.seconds);return o!==0?o:ke(t.nanos,s.nanos)}function bm(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Js(t[o],s[o]);if(u)return u}return ke(t.length,s.length)}function Zs(r){return $h(r)}function $h(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=ii(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return si(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return pe.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=$h(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${$h(t.fields[h])}`;return o+"}"}(r.mapValue):_e()}function ou(r){switch(oi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nu(r);return e?16+ou(e):16;case 5:return 2*r.stringValue.length;case 6:return si(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ou(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Qi(s.fields,(u,h)=>{o+=u.length+ou(h)}),o}(r.mapValue);default:throw _e()}}function Um(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function qh(r){return!!r&&"integerValue"in r}function gd(r){return!!r&&"arrayValue"in r}function jm(r){return!!r&&"nullValue"in r}function Bm(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function au(r){return!!r&&"mapValue"in r}function UT(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function da(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Qi(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=da(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=da(r.arrayValue.values[t]);return e}return Object.assign({},r)}function jT(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!au(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=da(t)}setAll(e){let t=Rt.emptyPath(),s={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=da(h):o.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());au(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];au(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Qi(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new gn(da(this.value))}}function dy(r){const e=[];return Qi(r.fields,(t,s)=>{const o=new Rt([t]);if(au(s)){const u=dy(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t,s,o,u,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Ft(e,0,Ee.min(),Ee.min(),Ee.min(),gn.empty(),0)}static newFoundDocument(e,t,s,o){return new Ft(e,1,t,Ee.min(),s,o,0)}static newNoDocument(e,t){return new Ft(e,2,t,Ee.min(),Ee.min(),gn.empty(),0)}static newUnknownDocument(e,t){return new Ft(e,3,t,Ee.min(),Ee.min(),gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t){this.position=e,this.inclusive=t}}function zm(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),t.key):s=Js(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function $m(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Jn(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,t="asc"){this.field=e,this.dir=t}}function BT(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{}class lt extends fy{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new $T(e,t,s):t==="array-contains"?new WT(e,s):t==="in"?new GT(e,s):t==="not-in"?new KT(e,s):t==="array-contains-any"?new QT(e,s):new lt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new qT(e,s):new HT(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Js(t,this.value)):t!==null&&oi(this.value)===oi(t)&&this.matchesComparison(Js(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class On extends fy{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new On(e,t)}matches(e){return py(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function py(r){return r.op==="and"}function my(r){return zT(r)&&py(r)}function zT(r){for(const e of r.filters)if(e instanceof On)return!1;return!0}function Hh(r){if(r instanceof lt)return r.field.canonicalString()+r.op.toString()+Zs(r.value);if(my(r))return r.filters.map(e=>Hh(e)).join(",");{const e=r.filters.map(t=>Hh(t)).join(",");return`${r.op}(${e})`}}function gy(r,e){return r instanceof lt?function(s,o){return o instanceof lt&&s.op===o.op&&s.field.isEqual(o.field)&&Jn(s.value,o.value)}(r,e):r instanceof On?function(s,o){return o instanceof On&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,f)=>u&&gy(h,o.filters[f]),!0):!1}(r,e):void _e()}function yy(r){return r instanceof lt?function(t){return`${t.field.canonicalString()} ${t.op} ${Zs(t.value)}`}(r):r instanceof On?function(t){return t.op.toString()+" {"+t.getFilters().map(yy).join(" ,")+"}"}(r):"Filter"}class $T extends lt{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class qT extends lt{constructor(e,t){super(e,"in",t),this.keys=vy("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class HT extends lt{constructor(e,t){super(e,"not-in",t),this.keys=vy("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vy(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>pe.fromName(s.referenceValue))}class WT extends lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gd(t)&&Ta(t.arrayValue,this.value)}}class GT extends lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ta(this.value.arrayValue,t)}}class KT extends lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ta(this.value.arrayValue,t)}}class QT extends lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ta(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,t=null,s=[],o=[],u=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=f,this.ue=null}}function qm(r,e=null,t=[],s=[],o=null,u=null,h=null){return new YT(r,e,t,s,o,u,h)}function yd(r){const e=we(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Hh(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),xu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Zs(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Zs(s)).join(",")),e.ue=t}return e.ue}function vd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!BT(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!gy(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!$m(r.startAt,e.startAt)&&$m(r.endAt,e.endAt)}function Wh(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,t=null,s=[],o=[],u=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function XT(r,e,t,s,o,u,h,f){return new lo(r,e,t,s,o,u,h,f)}function _y(r){return new lo(r)}function Hm(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Ey(r){return r.collectionGroup!==null}function fa(r){const e=we(r);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new mt(Rt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(f=f.add(v.field))})}),f})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Ia(u,s))}),t.has(Rt.keyField().canonicalString())||e.ce.push(new Ia(Rt.keyField(),s))}return e.ce}function Yn(r){const e=we(r);return e.le||(e.le=JT(e,fa(r))),e.le}function JT(r,e){if(r.limitType==="F")return qm(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ia(o.field,u)});const t=r.endAt?new mu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new mu(r.startAt.position,r.startAt.inclusive):null;return qm(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Gh(r,e){const t=r.filters.concat([e]);return new lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function gu(r,e,t){return new lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Du(r,e){return vd(Yn(r),Yn(e))&&r.limitType===e.limitType}function wy(r){return`${yd(Yn(r))}|lt:${r.limitType}`}function Ws(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>yy(o)).join(", ")}]`),xu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Zs(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Zs(o)).join(",")),`Target(${s})`}(Yn(r))}; limitType=${r.limitType})`}function Vu(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of fa(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,f,g){const v=zm(h,f,g);return h.inclusive?v<=0:v<0}(s.startAt,fa(s),o)||s.endAt&&!function(h,f,g){const v=zm(h,f,g);return h.inclusive?v>=0:v>0}(s.endAt,fa(s),o))}(r,e)}function ZT(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ty(r){return(e,t)=>{let s=!1;for(const o of fa(r)){const u=e1(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function e1(r,e,t){const s=r.field.isKeyField()?pe.comparator(e.key,t.key):function(u,h,f){const g=h.data.field(u),v=f.data.field(u);return g!==null&&v!==null?Js(g,v):_e()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return cy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=new Ze(pe.comparator);function Ir(){return t1}const Iy=new Ze(pe.comparator);function ca(...r){let e=Iy;for(const t of r)e=e.insert(t.key,t);return e}function Sy(r){let e=Iy;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Bi(){return pa()}function Ay(){return pa()}function pa(){return new Yi(r=>r.toString(),(r,e)=>r.isEqual(e))}const n1=new Ze(pe.comparator),r1=new mt(pe.comparator);function Re(...r){let e=r1;for(const t of r)e=e.add(t);return e}const i1=new mt(ke);function s1(){return i1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pu(e)?"-0":e}}function Cy(r){return{integerValue:""+r}}function o1(r,e){return LT(e)?Cy(e):_d(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this._=void 0}}function a1(r,e,t){return r instanceof yu?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&md(u)&&(u=Nu(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(t,e):r instanceof Sa?Py(r,e):r instanceof Aa?ky(r,e):function(o,u){const h=Ry(o,u),f=Wm(h)+Wm(o.Pe);return qh(h)&&qh(o.Pe)?Cy(f):_d(o.serializer,f)}(r,e)}function l1(r,e,t){return r instanceof Sa?Py(r,e):r instanceof Aa?ky(r,e):t}function Ry(r,e){return r instanceof vu?function(s){return qh(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class yu extends Lu{}class Sa extends Lu{constructor(e){super(),this.elements=e}}function Py(r,e){const t=xy(e);for(const s of r.elements)t.some(o=>Jn(o,s))||t.push(s);return{arrayValue:{values:t}}}class Aa extends Lu{constructor(e){super(),this.elements=e}}function ky(r,e){let t=xy(e);for(const s of r.elements)t=t.filter(o=>!Jn(o,s));return{arrayValue:{values:t}}}class vu extends Lu{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Wm(r){return it(r.integerValue||r.doubleValue)}function xy(r){return gd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function u1(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Sa&&o instanceof Sa||s instanceof Aa&&o instanceof Aa?Xs(s.elements,o.elements,Jn):s instanceof vu&&o instanceof vu?Jn(s.Pe,o.Pe):s instanceof yu&&o instanceof yu}(r.transform,e.transform)}class c1{constructor(e,t){this.version=e,this.transformResults=t}}class _r{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Mu{}function Ny(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Vy(r.key,_r.none()):new ka(r.key,r.data,_r.none());{const t=r.data,s=gn.empty();let o=new mt(Rt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Xi(r.key,s,new Ln(o.toArray()),_r.none())}}function h1(r,e,t){r instanceof ka?function(o,u,h){const f=o.value.clone(),g=Km(o.fieldTransforms,u,h.transformResults);f.setAll(g),u.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Xi?function(o,u,h){if(!lu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const f=Km(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Dy(o)),g.setAll(f),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function ma(r,e,t,s){return r instanceof ka?function(u,h,f,g){if(!lu(u.precondition,h))return f;const v=u.value.clone(),w=Qm(u.fieldTransforms,g,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(r,e,t,s):r instanceof Xi?function(u,h,f,g){if(!lu(u.precondition,h))return f;const v=Qm(u.fieldTransforms,g,h),w=h.data;return w.setAll(Dy(u)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,t,s):function(u,h,f){return lu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(r,e,t)}function d1(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Ry(s.transform,o||null);u!=null&&(t===null&&(t=gn.empty()),t.set(s.field,u))}return t||null}function Gm(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Xs(s,o,(u,h)=>u1(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ka extends Mu{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xi extends Mu{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Dy(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Km(r,e,t){const s=new Map;be(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,f=e.data.field(u.field);s.set(u.field,l1(h,f,t[o]))}return s}function Qm(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,a1(u,h,e))}return s}class Vy extends Mu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f1 extends Mu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&h1(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ma(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ma(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Ay();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=t.has(o.key)?null:f;const g=Ny(h,f);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ee.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Re())}isEqual(e){return this.batchId===e.batchId&&Xs(this.mutations,e.mutations,(t,s)=>Gm(t,s))&&Xs(this.baseMutations,e.baseMutations,(t,s)=>Gm(t,s))}}class Ed{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){be(e.mutations.length===s.length);let o=function(){return n1}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Ed(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,De;function y1(r){switch(r){default:return _e();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function Ly(r){if(r===void 0)return Tr("GRPC error has no .code"),K.UNKNOWN;switch(r){case at.OK:return K.OK;case at.CANCELLED:return K.CANCELLED;case at.UNKNOWN:return K.UNKNOWN;case at.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case at.INTERNAL:return K.INTERNAL;case at.UNAVAILABLE:return K.UNAVAILABLE;case at.UNAUTHENTICATED:return K.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case at.NOT_FOUND:return K.NOT_FOUND;case at.ALREADY_EXISTS:return K.ALREADY_EXISTS;case at.PERMISSION_DENIED:return K.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case at.ABORTED:return K.ABORTED;case at.OUT_OF_RANGE:return K.OUT_OF_RANGE;case at.UNIMPLEMENTED:return K.UNIMPLEMENTED;case at.DATA_LOSS:return K.DATA_LOSS;default:return _e()}}(De=at||(at={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=new $i([4294967295,4294967295],0);function Ym(r){const e=v1().encode(r),t=new ny;return t.update(e),new Uint8Array(t.digest())}function Xm(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new $i([t,s],0),new $i([o,u],0)]}class wd{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ha(`Invalid padding: ${t}`);if(s<0)throw new ha(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ha(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ha(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=$i.fromNumber(this.Te)}Ee(e,t,s){let o=e.add(t.multiply($i.fromNumber(s)));return o.compare(_1)===1&&(o=new $i([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Ym(e),[s,o]=Xm(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new wd(u,o,t);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.Te===0)return;const t=Ym(e),[s,o]=Xm(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,xa.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Ou(Ee.min(),o,new Ze(ke),Ir(),Re())}}class xa{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new xa(s,t,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class My{constructor(e,t){this.targetId=e,this.me=t}}class Oy{constructor(e,t,s=Pt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Jm{constructor(){this.fe=0,this.ge=Zm(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Re(),t=Re(),s=Re();return this.ge.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:_e()}}),new xa(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=Zm()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class E1{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ir(),this.qe=Zl(),this.Qe=Zl(),this.Ke=new Ze(ke)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const s=this.ze(t);switch(e.state){case 0:this.je(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.je(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),s.De(e.resumeToken));break;default:_e()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,s=e.me.count,o=this.Ye(t);if(o){const u=o.target;if(Wh(u))if(s===0){const h=new pe(u.path);this.We(t,h,Ft.newNoDocument(h,Ee.min()))}else be(s===1);else{const h=this.Ze(t);if(h!==s){const f=this.Xe(e),g=f?this.et(f,e,h):1;if(g!==0){this.He(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,v)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,f;try{h=si(s).toUint8Array()}catch(g){if(g instanceof hy)return Ys("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new wd(h,o,u)}catch(g){return Ys(g instanceof ha?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.Te===0?null:f}et(e,t,s){return t.me.count===s-this.rt(e,t.targetId)?0:2}rt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Le.nt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.We(t,u,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((u,h)=>{const f=this.Ye(h);if(f){if(u.current&&Wh(f.target)){const g=new pe(f.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,Ft.newNoDocument(g,e))}u.be&&(t.set(h,u.ve()),u.Ce())}});let s=Re();this.Qe.forEach((u,h)=>{let f=!0;h.forEachWhile(g=>{const v=this.Ye(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const o=new Ou(e,t,this.Ke,this.ke,s);return this.ke=Ir(),this.qe=Zl(),this.Qe=Zl(),this.Ke=new Ze(ke),o}Ue(e,t){if(!this.je(e))return;const s=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Jm,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new mt(ke),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new mt(ke),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Jm),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Zl(){return new Ze(pe.comparator)}function Zm(){return new Ze(pe.comparator)}const w1={asc:"ASCENDING",desc:"DESCENDING"},T1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I1={and:"AND",or:"OR"};class S1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kh(r,e){return r.useProto3Json||xu(e)?e:{value:e}}function _u(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fy(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function A1(r,e){return _u(r,e.toTimestamp())}function Xn(r){return be(!!r),Ee.fromTimestamp(function(t){const s=ii(t);return new pt(s.seconds,s.nanos)}(r))}function Td(r,e){return Qh(r,e).canonicalString()}function Qh(r,e){const t=function(o){return new Ge(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function by(r){const e=Ge.fromString(r);return be($y(e)),e}function Yh(r,e){return Td(r.databaseId,e.path)}function Rh(r,e){const t=by(e);if(t.get(1)!==r.databaseId.projectId)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new pe(jy(t))}function Uy(r,e){return Td(r.databaseId,e)}function C1(r){const e=by(r);return e.length===4?Ge.emptyPath():jy(e)}function Xh(r){return new Ge(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function jy(r){return be(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function eg(r,e,t){return{name:Yh(r,e),fields:t.value.mapValue.fields}}function R1(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(v,w){return v.useProto3Json?(be(w===void 0||typeof w=="string"),Pt.fromBase64String(w||"")):(be(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Pt.fromUint8Array(w||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(v){const w=v.code===void 0?K.UNKNOWN:Ly(v.code);return new le(w,v.message||"")}(h);t=new Oy(s,o,u,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rh(r,s.document.name),u=Xn(s.document.updateTime),h=s.document.createTime?Xn(s.document.createTime):Ee.min(),f=new gn({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(o,u,h,f),v=s.targetIds||[],w=s.removedTargetIds||[];t=new uu(v,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Rh(r,s.document),u=s.readTime?Xn(s.readTime):Ee.min(),h=Ft.newNoDocument(o,u),f=s.removedTargetIds||[];t=new uu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Rh(r,s.document),u=s.removedTargetIds||[];t=new uu([],u,o,null)}else{if(!("filter"in e))return _e();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new g1(o,u),f=s.targetId;t=new My(f,h)}}return t}function P1(r,e){let t;if(e instanceof ka)t={update:eg(r,e.key,e.value)};else if(e instanceof Vy)t={delete:Yh(r,e.key)};else if(e instanceof Xi)t={update:eg(r,e.key,e.data),updateMask:F1(e.fieldMask)};else{if(!(e instanceof f1))return _e();t={verify:Yh(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const f=h.transform;if(f instanceof yu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Sa)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Aa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof vu)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw _e()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:A1(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e()}(r,e.precondition)),t}function k1(r,e){return r&&r.length>0?(be(e!==void 0),r.map(t=>function(o,u){let h=o.updateTime?Xn(o.updateTime):Xn(u);return h.isEqual(Ee.min())&&(h=Xn(u)),new c1(h,o.transformResults||[])}(t,e))):[]}function x1(r,e){return{documents:[Uy(r,e.path)]}}function N1(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Uy(r,o);const u=function(v){if(v.length!==0)return zy(On.create(v,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(v){if(v.length!==0)return v.map(w=>function(R){return{field:Gs(R.field),direction:L1(R.dir)}}(w))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=Kh(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:t,parent:o}}function D1(r){let e=C1(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){be(s===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];t.where&&(u=function(S){const R=By(S);return R instanceof On&&my(R)?R.getFilters():[R]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(R=>function(j){return new Ia(Ks(j.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(R))}(t.orderBy));let f=null;t.limit&&(f=function(S){let R;return R=typeof S=="object"?S.value:S,xu(R)?null:R}(t.limit));let g=null;t.startAt&&(g=function(S){const R=!!S.before,V=S.values||[];return new mu(V,R)}(t.startAt));let v=null;return t.endAt&&(v=function(S){const R=!S.before,V=S.values||[];return new mu(V,R)}(t.endAt)),XT(e,o,h,u,f,"F",g,v)}function V1(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function By(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ks(t.unaryFilter.field);return lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ks(t.unaryFilter.field);return lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ks(t.unaryFilter.field);return lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ks(t.unaryFilter.field);return lt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(r):r.fieldFilter!==void 0?function(t){return lt.create(Ks(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return On.create(t.compositeFilter.filters.map(s=>By(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e()}}(t.compositeFilter.op))}(r):_e()}function L1(r){return w1[r]}function M1(r){return T1[r]}function O1(r){return I1[r]}function Gs(r){return{fieldPath:r.canonicalString()}}function Ks(r){return Rt.fromServerFormat(r.fieldPath)}function zy(r){return r instanceof lt?function(t){if(t.op==="=="){if(Bm(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NAN"}};if(jm(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Bm(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NOT_NAN"}};if(jm(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(t.field),op:M1(t.op),value:t.value}}}(r):r instanceof On?function(t){const s=t.getFilters().map(o=>zy(o));return s.length===1?s[0]:{compositeFilter:{op:O1(t.op),filters:s}}}(r):_e()}function F1(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $y(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,t,s,o,u=Ee.min(),h=Ee.min(),f=Pt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new Yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.ht=e}}function U1(r){const e=D1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?gu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.ln=new B1}addToCollectionParentIndex(e,t){return this.ln.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(ri.min())}updateCollectionGroup(e,t,s){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class B1{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new mt(Ge.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new mt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(41943040,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new eo(0)}static Qn(){return new eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng([r,e],[t,s]){const o=ke(r,t);return o===0?ke(e,s):o}class z1{constructor(e){this.Gn=e,this.buffer=new mt(ng),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();ng(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $1{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ao(t)?oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await oo(t)}await this.Yn(3e5)})}}class q1{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return W.resolve(ku.oe);const s=new z1(t);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Zn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(tg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tg):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let s,o,u,h,f,g,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,f=Date.now(),this.removeTargets(e,s,t))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(v=Date.now(),Hs()<=Ve.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${u} targets in `+(g-f)+`ms
	Removed ${S} documents in `+(v-g)+`ms
Total Duration: ${v-w}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function H1(r,e){return new q1(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.changes=new Yi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?W.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&ma(s.mutation,o,Ln.empty(),pt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Re()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Re()){const o=Bi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=ca();return u.forEach((f,g)=>{h=h.insert(f,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Bi();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Re()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,s,o){let u=Ir();const h=pa(),f=function(){return pa()}();return t.forEach((g,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof Xi)?u=u.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),ma(w.mutation,v,w.mutation.getFieldMask(),pt.now())):h.set(v.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,w)=>h.set(v,w)),t.forEach((v,w)=>{var S;return f.set(v,new G1(w,(S=h.get(v))!==null&&S!==void 0?S:null))}),f))}recalculateAndSaveOverlays(e,t){const s=pa();let o=new Ze((h,f)=>h-f),u=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(g=>{const v=t.get(g);if(v===null)return;let w=s.get(g)||Ln.empty();w=f.applyToLocalView(v,w),s.set(g,w);const S=(o.get(f.batchId)||Re()).add(g);o=o.insert(f.batchId,S)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,w=g.value,S=Ay();w.forEach(R=>{if(!u.has(R)){const V=Ny(t.get(R),s.get(R));V!==null&&S.set(R,V),u=u.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,S))}return W.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ey(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):W.resolve(Bi());let f=-1,g=u;return h.next(v=>W.forEach(v,(w,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),u.get(w)?W.resolve():this.remoteDocumentCache.getEntry(e,w).next(R=>{g=g.insert(w,R)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,Re())).next(w=>({batchId:f,changes:Sy(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(s=>{let o=ca();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=ca();return this.indexManager.getCollectionParents(e,u).next(f=>W.forEach(f,g=>{const v=function(S,R){return new lo(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(w=>{w.forEach((S,R)=>{h=h.insert(S,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((g,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,Ft.newInvalidDocument(w)))});let f=ca();return h.forEach((g,v)=>{const w=u.get(g);w!==void 0&&ma(w.mutation,v,Ln.empty(),pt.now()),Vu(t,v)&&(f=f.insert(g,v))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return W.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Xn(o.createTime)}}(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:U1(o.bundledQuery),readTime:Xn(o.readTime)}}(t)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.overlays=new Ze(pe.comparator),this.Er=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Bi();return W.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Tt(e,t,u)}),W.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Er.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Er.delete(s)),W.resolve()}getOverlaysForCollection(e,t,s){const o=Bi(),u=t.length+1,h=new pe(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new Ze((v,w)=>v-w);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=u.get(v.largestBatchId);w===null&&(w=Bi(),u=u.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const f=Bi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,w)=>f.set(v,w)),!(f.size()>=o)););return W.resolve(f)}Tt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(s.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new m1(t,s));let u=this.Er.get(t);u===void 0&&(u=Re(),this.Er.set(t,u)),this.Er.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.dr=new mt(wt.Ar),this.Rr=new mt(wt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const s=new wt(e,t);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gr(new wt(e,t))}pr(e,t){e.forEach(s=>this.removeReference(s,t))}yr(e){const t=new pe(new Ge([])),s=new wt(t,e),o=new wt(t,e+1),u=[];return this.Rr.forEachInRange([s,o],h=>{this.gr(h),u.push(h.key)}),u}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new pe(new Ge([])),s=new wt(t,e),o=new wt(t,e+1);let u=Re();return this.Rr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new wt(e,0),s=this.dr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return pe.comparator(e.key,t.key)||ke(e.br,t.br)}static Vr(e,t){return ke(e.br,t.br)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new mt(wt.Ar)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new p1(u,t,s,o);this.mutationQueue.push(h);for(const f of o)this.vr=this.vr.add(new wt(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return W.resolve(h)}lookupMutationBatch(e,t){return W.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Fr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new wt(t,0),o=new wt(t,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,o],h=>{const f=this.Cr(h.br);u.push(f)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new mt(ke);return t.forEach(o=>{const u=new wt(o,0),h=new wt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,h],f=>{s=s.add(f.br)})}),W.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new wt(new pe(u),0);let f=new mt(ke);return this.vr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(f=f.add(g.br)),!0)},h),W.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){be(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return W.forEach(t.mutations,o=>{const u=new wt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,t){const s=new wt(t,0),o=this.vr.firstAfterOrEqual(s);return W.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.Nr=e,this.docs=function(){return new Ze(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return W.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(t))}getEntries(e,t){let s=Ir();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ft.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Ir();const h=t.path,f=new pe(h.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:v,value:{document:w}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||xT(kT(w),s)<=0||(o.has(w.key)||Vu(t,w))&&(u=u.insert(w.key,w.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,t,s,o){_e()}Lr(e,t){return W.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new eI(this)}getSize(e){return W.resolve(this.size)}}class eI extends W1{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),W.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.persistence=e,this.Br=new Yi(t=>yd(t),vd),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.kr=0,this.qr=new Id,this.targetCount=0,this.Qr=eo.qn()}forEachTarget(e,t){return this.Br.forEach((s,o)=>t(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.kr&&(this.kr=t),W.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new eo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.Un(t),W.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Br.forEach((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Br.delete(h),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const s=this.Br.get(t)||null;return W.resolve(s)}addMatchingKeys(e,t,s){return this.qr.mr(t,s),W.resolve()}removeMatchingKeys(e,t,s){this.qr.pr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const s=this.qr.Sr(t);return W.resolve(s)}containsKey(e,t){return W.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,t){this.Kr={},this.overlays={},this.$r=new ku(0),this.Ur=!1,this.Ur=!0,this.Wr=new X1,this.referenceDelegate=e(this),this.Gr=new tI(this),this.indexManager=new j1,this.remoteDocumentCache=function(o){return new Z1(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new b1(t),this.jr=new Q1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Y1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Kr[e.toKey()];return s||(s=new J1(t,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,s){oe("MemoryPersistence","Starting transaction:",e);const o=new nI(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(u=>this.referenceDelegate.Jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Yr(e,t){return W.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,t)))}}class nI extends DT{constructor(e){super(),this.currentSequenceNumber=e}}class Sd{constructor(e){this.persistence=e,this.Zr=new Id,this.Xr=null}static ei(e){return new Sd(e)}get ti(){if(this.Xr)return this.Xr;throw _e()}addReference(e,t,s){return this.Zr.addReference(s,t),this.ti.delete(s.toString()),W.resolve()}removeReference(e,t,s){return this.Zr.removeReference(s,t),this.ti.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),W.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ti,s=>{const o=pe.fromPath(s);return this.ni(e,o).next(u=>{u||t.removeEntry(o,Ee.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(s=>{s?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return W.or([()=>W.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Eu{constructor(e,t){this.persistence=e,this.ri=new Yi(s=>MT(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=H1(this,t)}static ei(e,t){return new Eu(e,t)}Hr(){}Jr(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}nr(e){let t=0;return this.er(e,s=>{t++}).next(()=>t)}er(e,t){return W.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(u=>u?W.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(f=>{f||(s++,u.removeEntry(h,Ee.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),W.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ou(e.data.value)),t}ir(e,t,s){return W.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Wi=s,this.Gi=o}static zi(e,t){let s=Re(),o=Re();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ad(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return nw()?8:VT(ZE())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Xi(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.es(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new rI;return this.ts(e,t,h).next(f=>{if(u.result=f,this.Hi)return this.ns(e,t,h,f.size)})}).next(()=>u.result)}ns(e,t,s,o){return s.documentReadCount<this.Ji?(Hs()<=Ve.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ws(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),W.resolve()):(Hs()<=Ve.DEBUG&&oe("QueryEngine","Query:",Ws(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(Hs()<=Ve.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ws(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(t))):W.resolve())}Xi(e,t){if(Hm(t))return W.resolve(null);let s=Yn(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=gu(t,null,"F"),s=Yn(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Re(...u);return this.Zi.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.rs(t,f);return this.ss(t,v,h,g.readTime)?this.Xi(e,gu(t,null,"F")):this.os(e,v,t,g)}))})))}es(e,t,s,o){return Hm(t)||o.isEqual(Ee.min())?W.resolve(null):this.Zi.getDocuments(e,s).next(u=>{const h=this.rs(t,u);return this.ss(t,h,s,o)?W.resolve(null):(Hs()<=Ve.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ws(t)),this.os(e,h,t,PT(o,-1)).next(f=>f))})}rs(e,t){let s=new mt(Ty(e));return t.forEach((o,u)=>{Vu(e,u)&&(s=s.add(u))}),s}ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ts(e,t,s){return Hs()<=Ve.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ws(t)),this.Zi.getDocumentsMatchingQuery(e,t,ri.min(),s)}os(e,t,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,t,s,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new Ze(ke),this.cs=new Yi(u=>yd(u),vd),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K1(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function oI(r,e,t,s){return new sI(r,e,t,s)}async function Hy(r,e){const t=we(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ps(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],f=[];let g=Re();for(const v of o){h.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}for(const v of u){f.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next(v=>({Ts:v,removedBatchIds:h,addedBatchIds:f}))})})}function aI(r,e){const t=we(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,g,v,w){const S=v.batch,R=S.keys();let V=W.resolve();return R.forEach(j=>{V=V.next(()=>w.getEntry(g,j)).next($=>{const b=v.docVersions.get(j);be(b!==null),$.version.compareTo(b)<0&&(S.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),w.addEntry($)))})}),V.next(()=>f.mutationQueue.removeMutationBatch(g,S))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let g=Re();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(g=g.add(f.batch.mutations[v].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Wy(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function lI(r,e){const t=we(r),s=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((w,S)=>{const R=o.get(S);if(!R)return;f.push(t.Gr.removeMatchingKeys(u,w.removedDocuments,S).next(()=>t.Gr.addMatchingKeys(u,w.addedDocuments,S)));let V=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?V=V.withResumeToken(Pt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):w.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(w.resumeToken,s)),o=o.insert(S,V),function($,b,Q){return $.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(R,V,w)&&f.push(t.Gr.updateTargetData(u,V))});let g=Ir(),v=Re();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,w))}),f.push(uI(u,h,e.documentUpdates).next(w=>{g=w.Is,v=w.Es})),!s.isEqual(Ee.min())){const w=t.Gr.getLastRemoteSnapshotVersion(u).next(S=>t.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s));f.push(w)}return W.waitFor(f).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(t.us=o,u))}function uI(r,e,t){let s=Re(),o=Re();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=Ir();return t.forEach((f,g)=>{const v=u.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):oe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)}),{Is:h,Es:o}})}function cI(r,e){const t=we(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function hI(r,e){const t=we(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Gr.getTargetData(s,e).next(u=>u?(o=u,W.resolve(o)):t.Gr.allocateTargetId(s).next(h=>(o=new Yr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(s.targetId,s),t.cs.set(e,s.targetId)),s})}async function Jh(r,e,t){const s=we(r),o=s.us.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!ao(h))throw h;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function rg(r,e,t){const s=we(r);let o=Ee.min(),u=Re();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,w){const S=we(g),R=S.cs.get(w);return R!==void 0?W.resolve(S.us.get(R)):S.Gr.getTargetData(v,w)}(s,h,Yn(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,f.targetId).next(g=>{u=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,t?o:Ee.min(),t?u:Re())).next(f=>(dI(s,ZT(e),f),{documents:f,ds:u})))}function dI(r,e,t){let s=r.ls.get(e)||Ee.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.ls.set(e,s)}class ig{constructor(){this.activeTargetIds=s1()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fI{constructor(){this._o=new ig,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,s){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new ig,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu=null;function Ph(){return eu===null?eu=function(){return 268435456+Math.round(2147483648*Math.random())}():eu++,"0x"+eu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class yI extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+t.host,this.Mo=`projects/${o}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}Oo(t,s,o,u,h){const f=Ph(),g=this.No(t,s.toUriEncodedString());oe("RestConnection",`Sending RPC '${t}' ${f}:`,g,o);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(v,u,h),this.Bo(t,g,v,o).then(w=>(oe("RestConnection",`Received RPC '${t}' ${f}: `,w),w),w=>{throw Ys("RestConnection",`RPC '${t}' ${f} failed with error: `,w,"url: ",g,"request:",o),w})}ko(t,s,o,u,h,f){return this.Oo(t,s,o,u,h)}Lo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+so}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>t[h]=u),o&&o.headers.forEach((u,h)=>t[h]=u)}No(t,s){const o=mI[t];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,s,o){const u=Ph();return new Promise((h,f)=>{const g=new ry;g.setWithCredentials(!0),g.listenOnce(iy.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case su.NO_ERROR:const w=g.getResponseJson();oe(Mt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case su.TIMEOUT:oe(Mt,`RPC '${e}' ${u} timed out`),f(new le(K.DEADLINE_EXCEEDED,"Request time out"));break;case su.HTTP_ERROR:const S=g.getStatus();if(oe(Mt,`RPC '${e}' ${u} failed with status:`,S,"response text:",g.getResponseText()),S>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const V=R==null?void 0:R.error;if(V&&V.status&&V.message){const j=function(b){const Q=b.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Q)>=0?Q:K.UNKNOWN}(V.status);f(new le(j,V.message))}else f(new le(K.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new le(K.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{oe(Mt,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(o);oe(Mt,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",v,s,15)})}qo(e,t,s){const o=Ph(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=ay(),f=oy(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const w=u.join("");oe(Mt,`Creating RPC '${e}' stream ${o}: ${w}`,g);const S=h.createWebChannel(w,g);let R=!1,V=!1;const j=new gI({Eo:b=>{V?oe(Mt,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(R||(oe(Mt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),oe(Mt,`RPC '${e}' stream ${o} sending:`,b),S.send(b))},Ao:()=>S.close()}),$=(b,Q,ne)=>{b.listen(Q,ie=>{try{ne(ie)}catch(fe){setTimeout(()=>{throw fe},0)}})};return $(S,ua.EventType.OPEN,()=>{V||(oe(Mt,`RPC '${e}' stream ${o} transport opened.`),j.So())}),$(S,ua.EventType.CLOSE,()=>{V||(V=!0,oe(Mt,`RPC '${e}' stream ${o} transport closed`),j.Do())}),$(S,ua.EventType.ERROR,b=>{V||(V=!0,Ys(Mt,`RPC '${e}' stream ${o} transport errored:`,b),j.Do(new le(K.UNAVAILABLE,"The operation could not be completed")))}),$(S,ua.EventType.MESSAGE,b=>{var Q;if(!V){const ne=b.data[0];be(!!ne);const ie=ne,fe=(ie==null?void 0:ie.error)||((Q=ie[0])===null||Q===void 0?void 0:Q.error);if(fe){oe(Mt,`RPC '${e}' stream ${o} received error:`,fe);const Ce=fe.status;let Te=function(A){const k=at[A];if(k!==void 0)return Ly(k)}(Ce),x=fe.message;Te===void 0&&(Te=K.INTERNAL,x="Unknown error status: "+Ce+" with message "+fe.message),V=!0,j.Do(new le(Te,x)),S.close()}else oe(Mt,`RPC '${e}' stream ${o} received:`,ne),j.vo(ne)}}),$(f,sy.STAT_EVENT,b=>{b.stat===zh.PROXY?oe(Mt,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===zh.NOPROXY&&oe(Mt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.bo()},0),j}}function kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(r){return new S1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t,s=1e3,o=1.5,u=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=o,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t,s,o,u,h,f,g){this.li=e,this.Yo=s,this.Zo=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Gy(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(Tr(t.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===t&&this.I_(s,o)},s=>{e(()=>{const o=new le(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(o)})})}I_(e,t){const s=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.E_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vI extends Ky{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=R1(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ee.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?Xn(h.readTime):Ee.min()}(e);return this.listener.R_(t,s)}V_(e){const t={};t.database=Xh(this.serializer),t.addTarget=function(u,h){let f;const g=h.target;if(f=Wh(g)?{documents:x1(u,g)}:{query:N1(u,g).ct},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=Fy(u,h.resumeToken);const v=Kh(u,h.expectedCount);v!==null&&(f.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ee.min())>0){f.readTime=_u(u,h.snapshotVersion.toTimestamp());const v=Kh(u,h.expectedCount);v!==null&&(f.expectedCount=v)}return f}(this.serializer,e);const s=V1(this.serializer,e);s&&(t.labels=s),this.c_(t)}m_(e){const t={};t.database=Xh(this.serializer),t.removeTarget=e,this.c_(t)}}class _I extends Ky{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=k1(e.writeResults,e.commitTime),s=Xn(e.commitTime);return this.listener.y_(s,t)}w_(){const e={};e.database=Xh(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>P1(this.serializer,s))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Oo(e,Qh(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(K.UNKNOWN,u.toString())})}ko(e,t,s,o,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.ko(e,Qh(t,s),o,h,f,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(K.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class wI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Tr(t),this.C_=!1):oe("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{Ji(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(g){const v=we(g);v.k_.add(4),await Na(v),v.K_.set("Unknown"),v.k_.delete(4),await bu(v)}(this))})}),this.K_=new wI(s,o)}}async function bu(r){if(Ji(r))for(const e of r.q_)await e(!0)}async function Na(r){for(const e of r.q_)await e(!1)}function Qy(r,e){const t=we(r);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),kd(t)?Pd(t):uo(t).s_()&&Rd(t,e))}function Cd(r,e){const t=we(r),s=uo(t);t.B_.delete(e),s.s_()&&Yy(t,e),t.B_.size===0&&(s.s_()?s.a_():Ji(t)&&t.K_.set("Unknown"))}function Rd(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}uo(r).V_(e)}function Yy(r,e){r.U_.xe(e),uo(r).m_(e)}function Pd(r){r.U_=new E1({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.B_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),uo(r).start(),r.K_.F_()}function kd(r){return Ji(r)&&!uo(r).i_()&&r.B_.size>0}function Ji(r){return we(r).k_.size===0}function Xy(r){r.U_=void 0}async function II(r){r.K_.set("Online")}async function SI(r){r.B_.forEach((e,t)=>{Rd(r,e)})}async function AI(r,e){Xy(r),kd(r)?(r.K_.O_(e),Pd(r)):r.K_.set("Unknown")}async function CI(r,e,t){if(r.K_.set("Online"),e instanceof Oy&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const f of u.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.B_.delete(f),o.U_.removeTarget(f))}(r,e)}catch(s){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await wu(r,s)}else if(e instanceof uu?r.U_.$e(e):e instanceof My?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Ee.min()))try{const s=await Wy(r.localStore);t.compareTo(s)>=0&&await function(u,h){const f=u.U_.it(h);return f.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.B_.get(v);w&&u.B_.set(v,w.withResumeToken(g.resumeToken,h))}}),f.targetMismatches.forEach((g,v)=>{const w=u.B_.get(g);if(!w)return;u.B_.set(g,w.withResumeToken(Pt.EMPTY_BYTE_STRING,w.snapshotVersion)),Yy(u,g);const S=new Yr(w.target,g,v,w.sequenceNumber);Rd(u,S)}),u.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(s){oe("RemoteStore","Failed to raise snapshot:",s),await wu(r,s)}}async function wu(r,e,t){if(!ao(e))throw e;r.k_.add(1),await Na(r),r.K_.set("Offline"),t||(t=()=>Wy(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await bu(r)})}function Jy(r,e){return e().catch(t=>wu(r,t,e))}async function Uu(r){const e=we(r),t=ai(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;RI(e);)try{const o=await cI(e.localStore,s);if(o===null){e.L_.length===0&&t.a_();break}s=o.batchId,PI(e,o)}catch(o){await wu(e,o)}Zy(e)&&ev(e)}function RI(r){return Ji(r)&&r.L_.length<10}function PI(r,e){r.L_.push(e);const t=ai(r);t.s_()&&t.f_&&t.g_(e.mutations)}function Zy(r){return Ji(r)&&!ai(r).i_()&&r.L_.length>0}function ev(r){ai(r).start()}async function kI(r){ai(r).w_()}async function xI(r){const e=ai(r);for(const t of r.L_)e.g_(t.mutations)}async function NI(r,e,t){const s=r.L_.shift(),o=Ed.from(s,e,t);await Jy(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Uu(r)}async function DI(r,e){e&&ai(r).f_&&await async function(s,o){if(function(h){return y1(h)&&h!==K.ABORTED}(o.code)){const u=s.L_.shift();ai(s).__(),await Jy(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Uu(s)}}(r,e),Zy(r)&&ev(r)}async function og(r,e){const t=we(r);t.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const s=Ji(t);t.k_.add(3),await Na(t),s&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await bu(t)}async function VI(r,e){const t=we(r);e?(t.k_.delete(2),await bu(t)):e||(t.k_.add(2),await Na(t),t.K_.set("Unknown"))}function uo(r){return r.W_||(r.W_=function(t,s,o){const u=we(t);return u.b_(),new vI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Ro:II.bind(null,r),mo:SI.bind(null,r),po:AI.bind(null,r),R_:CI.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),kd(r)?Pd(r):r.K_.set("Unknown")):(await r.W_.stop(),Xy(r))})),r.W_}function ai(r){return r.G_||(r.G_=function(t,s,o){const u=we(t);return u.b_(),new _I(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:kI.bind(null,r),po:DI.bind(null,r),p_:xI.bind(null,r),y_:NI.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Uu(r)):(await r.G_.stop(),r.L_.length>0&&(oe("RemoteStore",`Stopping write stream with ${r.L_.length} pending writes`),r.L_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,f=new xd(e,t,h,o,u);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nd(r,e){if(Tr("AsyncQueue",`${e}: ${r}`),ao(r))return new le(K.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{static emptySet(e){return new Qs(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=ca(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qs)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Qs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.z_=new Ze(pe.comparator)}track(e){const t=e.doc.key,s=this.z_.get(t);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(t,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(t):e.type===1&&s.type===2?this.z_=this.z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):_e():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class to{constructor(e,t,s,o,u,h,f,g,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new to(e,t,Qs.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Du(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class MI{constructor(){this.queries=lg(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,s){const o=we(t),u=o.queries;o.queries=lg(),u.forEach((h,f)=>{for(const g of f.J_)g.onError(s)})})(this,new le(K.ABORTED,"Firestore shutting down"))}}function lg(){return new Yi(r=>wy(r),Du)}async function OI(r,e){const t=we(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Y_()&&e.Z_()&&(s=2):(u=new LI,s=e.Z_()?0:1);try{switch(s){case 0:u.H_=await t.onListen(o,!0);break;case 1:u.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Nd(h,`Initialization of query '${Ws(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,u),u.J_.push(e),e.ea(t.onlineState),u.H_&&e.ta(u.H_)&&Dd(t)}async function FI(r,e){const t=we(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.J_.indexOf(e);h>=0&&(u.J_.splice(h,1),u.J_.length===0?o=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function bI(r,e){const t=we(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const f of h.J_)f.ta(o)&&(s=!0);h.H_=o}}s&&Dd(t)}function UI(r,e,t){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.J_)u.onError(t);s.queries.delete(e)}function Dd(r){r.X_.forEach(e=>{e.next()})}var Zh,ug;(ug=Zh||(Zh={})).na="default",ug.Cache="cache";class jI{constructor(e,t,s){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new to(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const s=t!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Zh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this.key=e}}class nv{constructor(e){this.key=e}}class BI{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Re(),this.mutatedKeys=Re(),this.Va=Ty(e),this.ma=new Qs(this.Va)}get fa(){return this.da}ga(e,t){const s=t?t.pa:new ag,o=t?t.ma:this.ma;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,S)=>{const R=o.get(w),V=Vu(this.query,S)?S:null,j=!!R&&this.mutatedKeys.has(R.key),$=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let b=!1;R&&V?R.data.isEqual(V.data)?j!==$&&(s.track({type:3,doc:V}),b=!0):this.ya(R,V)||(s.track({type:2,doc:V}),b=!0,(g&&this.Va(V,g)>0||v&&this.Va(V,v)<0)&&(f=!0)):!R&&V?(s.track({type:0,doc:V}),b=!0):R&&!V&&(s.track({type:1,doc:R}),b=!0,(g||v)&&(f=!0)),b&&(V?(h=h.add(V),u=$?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{ma:h,pa:s,ss:f,mutatedKeys:u}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((w,S)=>function(V,j){const $=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return $(V)-$(j)}(w.type,S.type)||this.Va(w.doc,S.doc)),this.wa(s),o=o!=null&&o;const f=t&&!o?this.Sa():[],g=this.Ra.size===0&&this.current&&!o?1:0,v=g!==this.Aa;return this.Aa=g,h.length!==0||v?{snapshot:new to(this.query,e.ma,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new ag,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Re(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const t=[];return e.forEach(s=>{this.Ra.has(s)||t.push(new nv(s))}),this.Ra.forEach(s=>{e.has(s)||t.push(new tv(s))}),t}va(e){this.da=e.ds,this.Ra=Re();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return to.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class zI{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class $I{constructor(e){this.key=e,this.Fa=!1}}class qI{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Yi(f=>wy(f),Du),this.Oa=new Map,this.Na=new Set,this.La=new Ze(pe.comparator),this.Ba=new Map,this.ka=new Id,this.qa={},this.Qa=new Map,this.Ka=eo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function HI(r,e,t=!0){const s=lv(r);let o;const u=s.xa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Ca()):o=await rv(s,e,t,!0),o}async function WI(r,e){const t=lv(r);await rv(t,e,!0,!1)}async function rv(r,e,t,s){const o=await hI(r.localStore,Yn(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let f;return s&&(f=await GI(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Qy(r.remoteStore,o),f}async function GI(r,e,t,s,o){r.Ua=(S,R,V)=>async function($,b,Q,ne){let ie=b.view.ga(Q);ie.ss&&(ie=await rg($.localStore,b.query,!1).then(({documents:x})=>b.view.ga(x,ie)));const fe=ne&&ne.targetChanges.get(b.targetId),Ce=ne&&ne.targetMismatches.get(b.targetId)!=null,Te=b.view.applyChanges(ie,$.isPrimaryClient,fe,Ce);return hg($,b.targetId,Te.ba),Te.snapshot}(r,S,R,V);const u=await rg(r.localStore,e,!0),h=new BI(e,u.ds),f=h.ga(u.documents),g=xa.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),v=h.applyChanges(f,r.isPrimaryClient,g);hg(r,t,v.ba);const w=new zI(e,t,h);return r.xa.set(e,w),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),v.snapshot}async function KI(r,e,t){const s=we(r),o=s.xa.get(e),u=s.Oa.get(o.targetId);if(u.length>1)return s.Oa.set(o.targetId,u.filter(h=>!Du(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jh(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Cd(s.remoteStore,o.targetId),ed(s,o.targetId)}).catch(oo)):(ed(s,o.targetId),await Jh(s.localStore,o.targetId,!0))}async function QI(r,e){const t=we(r),s=t.xa.get(e),o=t.Oa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Cd(t.remoteStore,s.targetId))}async function YI(r,e,t){const s=rS(r);try{const o=await function(h,f){const g=we(h),v=pt.now(),w=f.reduce((V,j)=>V.add(j.key),Re());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",V=>{let j=Ir(),$=Re();return g.hs.getEntries(V,w).next(b=>{j=b,j.forEach((Q,ne)=>{ne.isValidDocument()||($=$.add(Q))})}).next(()=>g.localDocuments.getOverlayedDocuments(V,j)).next(b=>{S=b;const Q=[];for(const ne of f){const ie=d1(ne,S.get(ne.key).overlayedDocument);ie!=null&&Q.push(new Xi(ne.key,ie,dy(ie.value.mapValue),_r.exists(!0)))}return g.mutationQueue.addMutationBatch(V,v,Q,f)}).next(b=>{R=b;const Q=b.applyToLocalDocumentSet(S,$);return g.documentOverlayCache.saveOverlays(V,b.batchId,Q)})}).then(()=>({batchId:R.batchId,changes:Sy(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,f,g){let v=h.qa[h.currentUser.toKey()];v||(v=new Ze(ke)),v=v.insert(f,g),h.qa[h.currentUser.toKey()]=v}(s,o.batchId,t),await Da(s,o.changes),await Uu(s.remoteStore)}catch(o){const u=Nd(o,"Failed to persist write");t.reject(u)}}async function iv(r,e){const t=we(r);try{const s=await lI(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ba.get(u);h&&(be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?be(h.Fa):o.removedDocuments.size>0&&(be(h.Fa),h.Fa=!1))}),await Da(t,s,e)}catch(s){await oo(s)}}function cg(r,e,t){const s=we(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.xa.forEach((u,h)=>{const f=h.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const g=we(h);g.onlineState=f;let v=!1;g.queries.forEach((w,S)=>{for(const R of S.J_)R.ea(f)&&(v=!0)}),v&&Dd(g)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function XI(r,e,t){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ba.get(e),u=o&&o.key;if(u){let h=new Ze(pe.comparator);h=h.insert(u,Ft.newNoDocument(u,Ee.min()));const f=Re().add(u),g=new Ou(Ee.min(),new Map,new Ze(ke),h,f);await iv(s,g),s.La=s.La.remove(u),s.Ba.delete(e),Vd(s)}else await Jh(s.localStore,e,!1).then(()=>ed(s,e,t)).catch(oo)}async function JI(r,e){const t=we(r),s=e.batch.batchId;try{const o=await aI(t.localStore,e);ov(t,s,null),sv(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Da(t,o)}catch(o){await oo(o)}}async function ZI(r,e,t){const s=we(r);try{const o=await function(h,f){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return g.mutationQueue.lookupMutationBatch(v,f).next(S=>(be(S!==null),w=S.keys(),g.mutationQueue.removeMutationBatch(v,S))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,w,f)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>g.localDocuments.getDocuments(v,w))})}(s.localStore,e);ov(s,e,t),sv(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Da(s,o)}catch(o){await oo(o)}}function sv(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function ov(r,e,t){const s=we(r);let o=s.qa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function ed(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Oa.get(e))r.xa.delete(s),t&&r.Ma.Wa(s,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(s=>{r.ka.containsKey(s)||av(r,s)})}function av(r,e){r.Na.delete(e.path.canonicalString());const t=r.La.get(e);t!==null&&(Cd(r.remoteStore,t),r.La=r.La.remove(e),r.Ba.delete(t),Vd(r))}function hg(r,e,t){for(const s of t)s instanceof tv?(r.ka.addReference(s.key,e),eS(r,s)):s instanceof nv?(oe("SyncEngine","Document no longer in limbo: "+s.key),r.ka.removeReference(s.key,e),r.ka.containsKey(s.key)||av(r,s.key)):_e()}function eS(r,e){const t=e.key,s=t.path.canonicalString();r.La.get(t)||r.Na.has(s)||(oe("SyncEngine","New document in limbo: "+t),r.Na.add(s),Vd(r))}function Vd(r){for(;r.Na.size>0&&r.La.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new pe(Ge.fromString(e)),s=r.Ka.next();r.Ba.set(s,new $I(t)),r.La=r.La.insert(t,s),Qy(r.remoteStore,new Yr(Yn(_y(t.path)),s,"TargetPurposeLimboResolution",ku.oe))}}async function Da(r,e,t){const s=we(r),o=[],u=[],h=[];s.xa.isEmpty()||(s.xa.forEach((f,g)=>{h.push(s.Ua(g,e,t).then(v=>{var w;if((v||t)&&s.isPrimaryClient){const S=v?!v.fromCache:(w=t==null?void 0:t.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(v){o.push(v);const S=Ad.zi(g.targetId,v);u.push(S)}}))}),await Promise.all(h),s.Ma.R_(o),await async function(g,v){const w=we(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>W.forEach(v,R=>W.forEach(R.Wi,V=>w.persistence.referenceDelegate.addReference(S,R.targetId,V)).next(()=>W.forEach(R.Gi,V=>w.persistence.referenceDelegate.removeReference(S,R.targetId,V)))))}catch(S){if(!ao(S))throw S;oe("LocalStore","Failed to update sequence numbers: "+S)}for(const S of v){const R=S.targetId;if(!S.fromCache){const V=w.us.get(R),j=V.snapshotVersion,$=V.withLastLimboFreeSnapshotVersion(j);w.us=w.us.insert(R,$)}}}(s.localStore,u))}async function tS(r,e){const t=we(r);if(!t.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const s=await Hy(t.localStore,e);t.currentUser=e,function(u,h){u.Qa.forEach(f=>{f.forEach(g=>{g.reject(new le(K.CANCELLED,h))})}),u.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Da(t,s.Ts)}}function nS(r,e){const t=we(r),s=t.Ba.get(e);if(s&&s.Fa)return Re().add(s.key);{let o=Re();const u=t.Oa.get(e);if(!u)return o;for(const h of u){const f=t.xa.get(h);o=o.unionWith(f.view.fa)}return o}}function lv(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=iv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XI.bind(null,e),e.Ma.R_=bI.bind(null,e.eventManager),e.Ma.Wa=UI.bind(null,e.eventManager),e}function rS(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZI.bind(null,e),e}class Tu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return oI(this.persistence,new iI,e.initialUser,this.serializer)}ja(e){return new qy(Sd.ei,this.serializer)}za(e){return new fI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tu.provider={build:()=>new Tu};class iS extends Tu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){be(this.persistence.referenceDelegate instanceof Eu);const s=this.persistence.referenceDelegate.garbageCollector;return new $1(s,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new qy(s=>Eu.ei(s,t),this.serializer)}}class td{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>cg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tS.bind(null,this.syncEngine),await VI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MI}()}createDatastore(e){const t=Fu(e.databaseInfo.databaseId),s=function(u){return new yI(u)}(e.databaseInfo);return function(u,h,f,g){return new EI(u,h,f,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,f){return new TI(s,o,u,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>cg(this.syncEngine,t,0),function(){return sg.p()?new sg:new pI}())}createSyncEngine(e,t){return function(o,u,h,f,g,v,w){const S=new qI(o,u,h,f,g,v);return w&&(S.$a=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=we(o);oe("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await Na(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}td.provider={build:()=>new td};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ot.UNAUTHENTICATED,this.clientId=uy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{oe("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(oe("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Nd(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function xh(r,e){r.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Hy(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function dg(r,e){r.asyncQueue.verifyOperationInProgress();const t=await aS(r);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>og(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>og(e.remoteStore,o)),r._onlineComponents=e}async function aS(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await xh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ys("Error using user provided cache. Falling back to memory cache: "+t),await xh(r,new Tu)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await xh(r,new iS(void 0));return r._offlineComponents}async function uv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await dg(r,r._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await dg(r,new td))),r._onlineComponents}function lS(r){return uv(r).then(e=>e.syncEngine)}async function uS(r){const e=await uv(r),t=e.eventManager;return t.onListen=HI.bind(null,e.syncEngine),t.onUnlisten=KI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QI.bind(null,e.syncEngine),t}function cS(r,e,t={}){const s=new Zr;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,f,g,v){const w=new sS({next:R=>{w.eu(),h.enqueueAndForget(()=>FI(u,S)),R.fromCache&&g.source==="server"?v.reject(new le(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(R)},error:R=>v.reject(R)}),S=new jI(f,w,{includeMetadataChanges:!0,ua:!0});return OI(u,S)}(await uS(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(r,e,t){if(!t)throw new le(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function hS(r,e,t,s){if(e===!0&&s===!0)throw new le(K.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function pg(r){if(!pe.isDocumentKey(r))throw new le(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function mg(r){if(pe.isDocumentKey(r))throw new le(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ju(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e()}function Iu(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ju(r);throw new le(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new le(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bu{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gg(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new _T;switch(s.type){case"firstParty":return new IT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=fg.get(t);s&&(oe("ComponentProvider","Removing Datastore"),fg.delete(t),s.terminate())}(this),Promise.resolve()}}function dS(r,e,t,s={}){var o;const u=(r=Iu(r,Bu))._getSettings(),h=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=Ot.MOCK_USER;else{f=JE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new le(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ot(v)}r._authCredentials=new ET(new ly(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ci(this.firestore,e,this._query)}}class yn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class ei extends ci{constructor(e,t,s){super(e,t,_y(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new pe(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function dv(r,e,...t){if(r=qi(r),hv("collection","path",e),r instanceof Bu){const s=Ge.fromString(e,...t);return mg(s),new ei(r,null,s)}{if(!(r instanceof yn||r instanceof ei))throw new le(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ge.fromString(e,...t));return mg(s),new ei(r.firestore,null,s)}}function fS(r,e,...t){if(r=qi(r),arguments.length===1&&(e=uy.newId()),hv("doc","path",e),r instanceof Bu){const s=Ge.fromString(e,...t);return pg(s),new yn(r,null,new pe(s))}{if(!(r instanceof yn||r instanceof ei))throw new le(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ge.fromString(e,...t));return pg(s),new yn(r.firestore,r instanceof ei?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Gy(this,"async_queue_retry"),this.fu=()=>{const s=kh();s&&oe("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=kh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=kh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Zr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ao(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(s);throw Tr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=xd.createAndSchedule(this,e,t,s,u=>this.Su(u));return this.du.push(o),o}pu(){this.Au&&_e()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Ld extends Bu{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new yg,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yg(e),this._firestoreClient=void 0,await e}}}function pS(r,e){const t=typeof r=="object"?r:uT(),s=typeof r=="string"?r:"(default)",o=fd(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=YE("firestore");u&&dS(o,...u)}return o}function fv(r){if(r._terminated)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||mS(r),r._firestoreClient}function mS(r){var e,t,s;const o=r._freezeSettings(),u=function(f,g,v,w){return new bT(f,g,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,cv(w.experimentalLongPollingOptions),w.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new oS(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this._byteString=e}static fromBase64String(e){try{return new no(Pt.fromBase64String(e))}catch(t){throw new le(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new no(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=/^__.*__$/;class yS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,t,this.fieldTransforms):new ka(e,this.data,t,this.fieldTransforms)}}function mv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class bd{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new bd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Lu(e),o}Bu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Su(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(mv(this.Mu)&&gS.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class vS{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Fu(e)}$u(e,t,s,o=!1){return new bd({Mu:e,methodName:t,Ku:s,path:Rt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gv(r){const e=r._freezeSettings(),t=Fu(r._databaseId);return new vS(r._databaseId,!!e.ignoreUndefinedProperties,t)}function _S(r,e,t,s,o,u={}){const h=r.$u(u.merge||u.mergeFields?2:0,e,t,o);_v("Data must be an object, but it was:",h,s);const f=yv(s,h);let g,v;if(u.merge)g=new Ln(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const w=[];for(const S of u.mergeFields){const R=wS(e,S,t);if(!h.contains(R))throw new le(K.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);IS(w,R)||w.push(R)}g=new Ln(w),v=h.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,v=h.fieldTransforms;return new yS(new gn(f),g,v)}function ES(r,e,t,s=!1){return Ud(t,r.$u(s?4:3,e))}function Ud(r,e){if(vv(r=qi(r)))return _v("Unsupported field value:",e,r),yv(r,e);if(r instanceof pv)return function(s,o){if(!mv(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const f of s){let g=Ud(f,o.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=qi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return o1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=pt.fromDate(s);return{timestampValue:_u(o.serializer,u)}}if(s instanceof pt){const u=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_u(o.serializer,u)}}if(s instanceof Od)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof no)return{bytesValue:Fy(o.serializer,s._byteString)};if(s instanceof yn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Td(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Fd)return function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw f.qu("VectorValues must only contain numeric values.");return _d(f.serializer,g)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${ju(s)}`)}(r,e)}function yv(r,e){const t={};return cy(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(r,(s,o)=>{const u=Ud(o,e.Ou(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function vv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof pt||r instanceof Od||r instanceof no||r instanceof yn||r instanceof pv||r instanceof Fd)}function _v(r,e,t){if(!vv(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=ju(t);throw s==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+s)}}function wS(r,e,t){if((e=qi(e))instanceof Md)return e._internalPath;if(typeof e=="string")return Ev(r,e);throw Su("Field path arguments must be of type string or ",r,!1,void 0,t)}const TS=new RegExp("[~\\*/\\[\\]]");function Ev(r,e,t){if(e.search(TS)>=0)throw Su(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Md(...e.split("."))._internalPath}catch{throw Su(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Su(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new le(K.INVALID_ARGUMENT,f+r+g)}function IS(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class SS extends wv{data(){return super.data()}}function jd(r,e){return typeof e=="string"?Ev(r,e):e instanceof Md?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bd{}class zd extends Bd{}function CS(r,e,...t){let s=[];e instanceof Bd&&s.push(e),s=s.concat(t),function(u){const h=u.filter(g=>g instanceof qd).length,f=u.filter(g=>g instanceof $d).length;if(h>1||h>0&&f>0)throw new le(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class $d extends zd{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new $d(e,t,s)}_apply(e){const t=this._parse(e);return Tv(e._query,t),new ci(e.firestore,e.converter,Gh(e._query,t))}_parse(e){const t=gv(e.firestore);return function(u,h,f,g,v,w,S){let R;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new le(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){_g(S,w);const V=[];for(const j of S)V.push(vg(g,u,j));R={arrayValue:{values:V}}}else R=vg(g,u,S)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||_g(S,w),R=ES(f,h,S,w==="in"||w==="not-in");return lt.create(v,w,R)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class qd extends Bd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qd(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:On.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const f=u.getFlattenedFilters();for(const g of f)Tv(h,g),h=Gh(h,g)}(e._query,t),new ci(e.firestore,e.converter,Gh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hd extends zd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Hd(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new le(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ia(u,h)}(e._query,this._field,this._direction);return new ci(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new lo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function RS(r,e="asc"){const t=e,s=jd("orderBy",r);return Hd._create(s,t)}class Wd extends zd{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Wd(e,t,s)}_apply(e){return new ci(e.firestore,e.converter,gu(e._query,this._limit,this._limitType))}}function PS(r){return Wd._create("limit",r,"F")}function vg(r,e,t){if(typeof(t=qi(t))=="string"){if(t==="")throw new le(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ey(e)&&t.indexOf("/")!==-1)throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ge.fromString(t));if(!pe.isDocumentKey(s))throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Um(r,new pe(s))}if(t instanceof yn)return Um(r,t._key);throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ju(t)}.`)}function _g(r,e){if(!Array.isArray(r)||r.length===0)throw new le(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Tv(r,e){const t=function(o,u){for(const h of o)for(const f of h.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new le(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class kS{convertValue(e,t="none"){switch(oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Qi(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>it(h.doubleValue));return new Fd(u)}convertGeoPoint(e){return new Od(it(e.latitude),it(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Nu(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ea(e));default:return null}}convertTimestamp(e){const t=ii(e);return new pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ge.fromString(e);be($y(s));const o=new wa(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(t)||Tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NS extends wv{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(jd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class cu extends NS{data(e={}){return super.data(e)}}class DS{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new tu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new cu(this._firestore,this._userDataWriter,s.key,s,new tu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const g=new cu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new tu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||f.type!==3).map(f=>{const g=new cu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new tu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return f.type!==0&&(v=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:VS(f.type),doc:g,oldIndex:v,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function VS(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}class LS extends kS{constructor(e){super(),this.firestore=e}convertBytes(e){return new no(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,t)}}function MS(r){r=Iu(r,ci);const e=Iu(r.firestore,Ld),t=fv(e),s=new LS(e);return AS(r._query),cS(t,r._query).then(o=>new DS(e,s,r,o))}function OS(r,e){const t=Iu(r.firestore,Ld),s=fS(r),o=xS(r.converter,e);return FS(t,[_S(gv(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,_r.exists(!1))]).then(()=>s)}function FS(r,e){return function(s,o){const u=new Zr;return s.asyncQueue.enqueueAndForget(async()=>YI(await lS(s),o,u)),u.promise}(fv(r),e)}(function(e,t=!0){(function(o){so=o})(lT),ni(new Er("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),f=new Ld(new wT(s.getProvider("auth-internal")),new AT(s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new le(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wa(v.options.projectId,w)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),Qn(Vm,"4.7.5",e),Qn(Vm,"4.7.5","esm2017")})();var bS="firebase",US="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn(bS,US,"app");const Iv="@firebase/installations",Gd="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=1e4,Av=`w:${Gd}`,Cv="FIS_v2",jS="https://firebaseinstallations.googleapis.com/v1",BS=60*60*1e3,zS="installations",$S="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wi=new Pu(zS,$S,qS);function Rv(r){return r instanceof ui&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv({projectId:r}){return`${jS}/projects/${r}/installations`}function kv(r){return{token:r.token,requestStatus:2,expiresIn:WS(r.expiresIn),creationTime:Date.now()}}async function xv(r,e){const s=(await e.json()).error;return Wi.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Nv({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function HS(r,{refreshToken:e}){const t=Nv(r);return t.append("Authorization",GS(e)),t}async function Dv(r){const e=await r();return e.status>=500&&e.status<600?r():e}function WS(r){return Number(r.replace("s","000"))}function GS(r){return`${Cv} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const s=Pv(r),o=Nv(r),u=e.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const h={fid:t,authVersion:Cv,appId:r.appId,sdkVersion:Av},f={method:"POST",headers:o,body:JSON.stringify(h)},g=await Dv(()=>fetch(s,f));if(g.ok){const v=await g.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:kv(v.authToken)}}else throw await xv("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=/^[cdef][\w-]{21}$/,nd="";function XS(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=JS(r);return YS.test(t)?t:nd}catch{return nd}}function JS(r){return QS(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=new Map;function Mv(r,e){const t=zu(r);Ov(t,e),ZS(t,e)}function Ov(r,e){const t=Lv.get(r);if(t)for(const s of t)s(e)}function ZS(r,e){const t=eA();t&&t.postMessage({key:r,fid:e}),tA()}let zi=null;function eA(){return!zi&&"BroadcastChannel"in self&&(zi=new BroadcastChannel("[Firebase] FID Change"),zi.onmessage=r=>{Ov(r.data.key,r.data.fid)}),zi}function tA(){Lv.size===0&&zi&&(zi.close(),zi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firebase-installations-database",rA=1,Gi="firebase-installations-store";let Nh=null;function Kd(){return Nh||(Nh=Jg(nA,rA,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Gi)}}})),Nh}async function Au(r,e){const t=zu(r),o=(await Kd()).transaction(Gi,"readwrite"),u=o.objectStore(Gi),h=await u.get(t);return await u.put(e,t),await o.done,(!h||h.fid!==e.fid)&&Mv(r,e.fid),e}async function Fv(r){const e=zu(r),s=(await Kd()).transaction(Gi,"readwrite");await s.objectStore(Gi).delete(e),await s.done}async function $u(r,e){const t=zu(r),o=(await Kd()).transaction(Gi,"readwrite"),u=o.objectStore(Gi),h=await u.get(t),f=e(h);return f===void 0?await u.delete(t):await u.put(f,t),await o.done,f&&(!h||h.fid!==f.fid)&&Mv(r,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qd(r){let e;const t=await $u(r.appConfig,s=>{const o=iA(s),u=sA(r,o);return e=u.registrationPromise,u.installationEntry});return t.fid===nd?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function iA(r){const e=r||{fid:XS(),registrationStatus:0};return bv(e)}function sA(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Wi.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=oA(r,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:aA(r)}:{installationEntry:e}}async function oA(r,e){try{const t=await KS(r,e);return Au(r.appConfig,t)}catch(t){throw Rv(t)&&t.customData.serverCode===409?await Fv(r.appConfig):await Au(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function aA(r){let e=await Eg(r.appConfig);for(;e.registrationStatus===1;)await Vv(100),e=await Eg(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Qd(r);return s||t}return e}function Eg(r){return $u(r,e=>{if(!e)throw Wi.create("installation-not-found");return bv(e)})}function bv(r){return lA(r)?{fid:r.fid,registrationStatus:0}:r}function lA(r){return r.registrationStatus===1&&r.registrationTime+Sv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA({appConfig:r,heartbeatServiceProvider:e},t){const s=cA(r,t),o=HS(r,t),u=e.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const h={installation:{sdkVersion:Av,appId:r.appId}},f={method:"POST",headers:o,body:JSON.stringify(h)},g=await Dv(()=>fetch(s,f));if(g.ok){const v=await g.json();return kv(v)}else throw await xv("Generate Auth Token",g)}function cA(r,{fid:e}){return`${Pv(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(r,e=!1){let t;const s=await $u(r.appConfig,u=>{if(!Uv(u))throw Wi.create("not-registered");const h=u.authToken;if(!e&&fA(h))return u;if(h.requestStatus===1)return t=hA(r,e),u;{if(!navigator.onLine)throw Wi.create("app-offline");const f=mA(u);return t=dA(r,f),f}});return t?await t:s.authToken}async function hA(r,e){let t=await wg(r.appConfig);for(;t.authToken.requestStatus===1;)await Vv(100),t=await wg(r.appConfig);const s=t.authToken;return s.requestStatus===0?Yd(r,e):s}function wg(r){return $u(r,e=>{if(!Uv(e))throw Wi.create("not-registered");const t=e.authToken;return gA(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function dA(r,e){try{const t=await uA(r,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Au(r.appConfig,s),t}catch(t){if(Rv(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Fv(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Au(r.appConfig,s)}throw t}}function Uv(r){return r!==void 0&&r.registrationStatus===2}function fA(r){return r.requestStatus===2&&!pA(r)}function pA(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+BS}function mA(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function gA(r){return r.requestStatus===1&&r.requestTime+Sv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yA(r){const e=r,{installationEntry:t,registrationPromise:s}=await Qd(e);return s?s.catch(console.error):Yd(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(r,e=!1){const t=r;return await _A(t),(await Yd(t,e)).token}async function _A(r){const{registrationPromise:e}=await Qd(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(r){if(!r||!r.options)throw Dh("App Configuration");if(!r.name)throw Dh("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw Dh(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Dh(r){return Wi.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="installations",wA="installations-internal",TA=r=>{const e=r.getProvider("app").getImmediate(),t=EA(e),s=fd(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},IA=r=>{const e=r.getProvider("app").getImmediate(),t=fd(e,jv).getImmediate();return{getId:()=>yA(t),getToken:o=>vA(t,o)}};function SA(){ni(new Er(jv,TA,"PUBLIC")),ni(new Er(wA,IA,"PRIVATE"))}SA();Qn(Iv,Gd);Qn(Iv,Gd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="analytics",AA="firebase_id",CA="origin",RA=60*1e3,PA="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt=new hd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vn=new Pu("analytics","Analytics",kA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(r){if(!r.startsWith(Xd)){const e=vn.create("invalid-gtag-resource",{gtagURL:r});return Xt.warn(e.message),""}return r}function Bv(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function NA(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function DA(r,e){const t=NA("firebase-js-sdk-policy",{createScriptURL:xA}),s=document.createElement("script"),o=`${Xd}?l=${r}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function VA(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function LA(r,e,t,s,o,u){const h=s[o];try{if(h)await e[h];else{const g=(await Bv(t)).find(v=>v.measurementId===o);g&&await e[g.appId]}}catch(f){Xt.error(f)}r("config",o,u)}async function MA(r,e,t,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const f=await Bv(t);for(const g of h){const v=f.find(S=>S.measurementId===g),w=v&&e[v.appId];if(w)u.push(w);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",s,o||{})}catch(u){Xt.error(u)}}function OA(r,e,t,s){async function o(u,...h){try{if(u==="event"){const[f,g]=h;await MA(r,e,t,f,g)}else if(u==="config"){const[f,g]=h;await LA(r,e,t,s,f,g)}else if(u==="consent"){const[f,g]=h;r("consent",f,g)}else if(u==="get"){const[f,g,v]=h;r("get",f,g,v)}else if(u==="set"){const[f]=h;r("set",f)}else r(u,...h)}catch(f){Xt.error(f)}}return o}function FA(r,e,t,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=OA(u,r,e,t),{gtagCore:u,wrappedGtag:window[o]}}function bA(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Xd)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=30,jA=1e3;class BA{constructor(e={},t=jA){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const zv=new BA;function zA(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function $A(r){var e;const{appId:t,apiKey:s}=r,o={method:"GET",headers:zA(s)},u=PA.replace("{app-id}",t),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let f="";try{const g=await h.json();!((e=g.error)===null||e===void 0)&&e.message&&(f=g.error.message)}catch{}throw vn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:f})}return h.json()}async function qA(r,e=zv,t){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw vn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw vn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new GA;return setTimeout(async()=>{f.abort()},RA),$v({appId:s,apiKey:o,measurementId:u},h,f,e)}async function $v(r,{throttleEndTimeMillis:e,backoffCount:t},s,o=zv){var u;const{appId:h,measurementId:f}=r;try{await HA(s,e)}catch(g){if(f)return Xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:f};throw g}try{const g=await $A(r);return o.deleteThrottleMetadata(h),g}catch(g){const v=g;if(!WA(v)){if(o.deleteThrottleMetadata(h),f)return Xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:h,measurementId:f};throw g}const w=Number((u=v==null?void 0:v.customData)===null||u===void 0?void 0:u.httpStatus)===503?Im(t,o.intervalMillis,UA):Im(t,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+w,backoffCount:t+1};return o.setThrottleMetadata(h,S),Xt.debug(`Calling attemptFetch again in ${w} millis`),$v(r,S,s,o)}}function HA(r,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);r.addEventListener(()=>{clearTimeout(u),s(vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function WA(r){if(!(r instanceof ui)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class GA{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function KA(r,e,t,s,o){if(o&&o.global){r("event",t,s);return}else{const u=await e,h=Object.assign(Object.assign({},s),{send_to:u});r("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(){if(Kg())try{await Qg()}catch(r){return Xt.warn(vn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return Xt.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function YA(r,e,t,s,o,u,h){var f;const g=qA(r);g.then(V=>{t[V.measurementId]=V.appId,r.options.measurementId&&V.measurementId!==r.options.measurementId&&Xt.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>Xt.error(V)),e.push(g);const v=QA().then(V=>{if(V)return s.getId()}),[w,S]=await Promise.all([g,v]);bA(u)||DA(u,w.measurementId),o("js",new Date);const R=(f=h==null?void 0:h.config)!==null&&f!==void 0?f:{};return R[CA]="firebase",R.update=!0,S!=null&&(R[AA]=S),o("config",w.measurementId,R),w.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.app=e}_delete(){return delete ga[this.app.options.appId],Promise.resolve()}}let ga={},Ig=[];const Sg={};let Vh="dataLayer",JA="gtag",Ag,qv,Cg=!1;function ZA(){const r=[];if(tw()&&r.push("This is a browser extension environment."),rw()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=vn.create("invalid-analytics-context",{errorInfo:e});Xt.warn(t.message)}}function eC(r,e,t){ZA();const s=r.options.appId;if(!s)throw vn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vn.create("no-api-key");if(ga[s]!=null)throw vn.create("already-exists",{id:s});if(!Cg){VA(Vh);const{wrappedGtag:u,gtagCore:h}=FA(ga,Ig,Sg,Vh,JA);qv=u,Ag=h,Cg=!0}return ga[s]=YA(r,Ig,Sg,e,Ag,Vh,t),new XA(r)}function tC(r,e,t,s){r=qi(r),KA(qv,ga[r.app.options.appId],e,t,s).catch(o=>Xt.error(o))}const Rg="@firebase/analytics",Pg="0.10.10";function nC(){ni(new Er(Tg,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return eC(s,o,t)},"PUBLIC")),ni(new Er("analytics-internal",r,"PRIVATE")),Qn(Rg,Pg),Qn(Rg,Pg,"esm2017");function r(e){try{const t=e.getProvider(Tg).getImmediate();return{logEvent:(s,o,u)=>tC(t,s,o,u)}}catch(t){throw vn.create("interop-component-reg-failed",{reason:t})}}}nC();const rC={apiKey:"AIzaSyD4dUtos0GInZHhFF11CbOiZOWi46ZoxAE",authDomain:"memory-game-leaderboard-2c67e.firebaseapp.com",projectId:"memory-game-leaderboard-2c67e",storageBucket:"memory-game-leaderboard-2c67e.firebasestorage.app",messagingSenderId:"177502178541",appId:"1:177502178541:web:5ab1873353425f624210e4",measurementId:"G-SY0SS4VG8R"},iC=Zg(rC),Hv=pS(iC),sC=()=>{const[r,e]=H.useState([]),[t,s]=H.useState(!0),[o,u]=H.useState(null);return H.useEffect(()=>{(async()=>{try{const f=dv(Hv,"leaderboard"),g=CS(f,RS("score","desc"),PS(10)),w=(await MS(g)).docs.map(S=>({id:S.id,...S.data()}));e(w)}catch(f){u("Failed to fetch leaderboard: "+f.message)}finally{s(!1)}})()},[]),{leaderboard:r,isLoading:t,error:o}};function Wv({setPage:r}){const{leaderboard:e,isLoading:t,error:s}=sC();return t?q.jsx("h2",{children:"Loading..."}):s?q.jsx("h2",{style:{color:"red"},children:"Error!"}):q.jsx("div",{className:"game-container place-items-center ",children:q.jsxs("div",{className:"nes-container is-dark is-centered",children:[q.jsx("h1",{className:"game-subtitle heading capitalize",children:"LEADERBOARD"}),q.jsxs("div",{className:"leaderboard",children:[q.jsxs("div",{className:"flex-space-btwn fnt-clr-yellow",children:[q.jsx("div",{children:"RANK"}),q.jsx("div",{children:"NAME"}),q.jsx("div",{children:"SCORE"})]}),q.jsx("div",{className:"leaderboard-list",children:e.map((o,u)=>q.jsxs("div",{className:"flex-space-btwn",children:[q.jsx("div",{children:u+1}),q.jsx("div",{children:o.name}),q.jsx("div",{children:o.score})]},o.id))})]}),q.jsx(Mn,{type:"is-primary",onClick:()=>r("game-mode"),children:"Menu"})]})})}const nu=qg.themes.blueTheme,oC=[{name:"arcade",description:"Race against the clock and try to get to the top!",theme:nu,difficulty:"hard",timer:!0,lives:6,sound:!0,changeableSettings:["theme"]},{name:"casual",description:"No pressure, choose your style and  play for fun!",theme:nu,difficulty:"easy",timer:!1,lives:6,sound:!0,changeableSettings:["theme","difficulty","timer","sound"]},{name:"versus",description:"Take on your friends or play as a team!",theme:nu,difficulty:"easy",timer:!0,lives:100,sound:!0,changeableSettings:["theme","difficulty","timer","sound"]},{name:"zen",description:"Relax with soothing music and therapeutic sound design.",theme:nu,difficulty:"easy",timer:!1,lives:null,sound:!0,changeableSettings:["theme","difficulty","sound"]}],Jd={defaultSettings:oC},aC=async(r,e)=>{try{const t=dv(Hv,"leaderboard"),s=await OS(t,{name:r,score:e});console.log("new score added!")}catch(t){console.error("Error adding document: ",t)}},Kn=Jd.defaultSettings[0],Ui=Jd.defaultSettings,lC={gameMode:Kn.name,description:Kn.description,changeableSettings:Kn.changeableSettings,activeTheme:"blueTheme",theme:Kn.theme,difficulty:Kn.difficulty,timer:Kn.timer,totalLives:Kn.lives,sound:Kn.sound,isPlaying:!1,score:0,timeLeft:Kn.timer,currentLives:Kn.lives,multiplier:1,message:["Start!"],gameOverMessage:"",randomCards:[],flippedCards:[],matchedCards:[],gameWin:!1,newHighScore:!1},uC=(r,e)=>{switch(e.type){case"CHANGE_GAME_MODE":{let t;return e.payload==="arcade"&&(t=0),e.payload==="casual"&&(t=1),e.payload==="versus"&&(t=2),e.payload==="zen"&&(t=3),{...r,gameMode:Ui[t].name,difficulty:Ui[t].difficulty,timer:Ui[t].timer,lives:Ui[t].lives,sound:Ui[t].sound,changeableSettings:Ui[t].changeableSettings,description:Ui[t].description}}case"CHANGE_THEME":{const[t,s]=e.payload;return{...r,activeTheme:t,theme:s}}case"CHANGE_DIFFICULTY":return{...r,difficulty:e.payload};case"CHANGE_TIMER":return{...r,timer:e.payload};case"CHANGE_STARTING_LIVES":return;case"START_NEW_GAME":{let t;r.difficulty==="easy"&&(t=r.theme.slice(0,6)),r.difficulty==="normal"&&(t=r.theme.slice(0,8)),r.difficulty==="hard"&&(t=r.theme);const o=[...t,...t].sort(()=>Math.random()-.5).map((u,h)=>({id:h,content:u,flipped:!1}));return{...r,isPlaying:!0,gameWin:!1,newHighScore:!1,lives:r.totalLives,score:0,multiplier:1,message:["Start!"],gameOverMessage:"",flippedCards:[],matchedCards:[],randomCards:o,timeLeft:r.timer?120:null}}case"DECREMENT_TIME_LEFT":return r.timeLeft!==1?{...r,timeLeft:r.timeLeft-1}:r.timeLeft===1?{...r,timeLeft:0,isPlaying:!1,gameWin:!1,message:["Game Over"],gameOverMessage:"You ran out of time"}:r;case"SET_FLIPPED_CARDS":return{...r,flippedCards:[...r.flippedCards,e.payload]};case"TOGGLE_IS_PLAYING":return{...r,isPlaying:e.payload,message:r.messages[0]};case"CHECK_FOR_MATCH":{let t=[],s=r.score,o,u,h;const[f,g]=r.flippedCards;if(r.randomCards[f].content===r.randomCards[g].content)t=[...r.matchedCards,f,g],s=r.score+5*r.multiplier,o=r.multiplier<3?r.multiplier+1:r.multiplier,u=r.lives+1,h=["Match!","+1 Heart",`Multiplier: ${o}`];else{if(r.lives>0&&(u=r.lives-1),r.lives===1)return{...r,lives:0,isPlaying:!1,gameWin:!1,message:["Game Over"],gameOverMessage:"You ran out of lives"};o=1,t=r.matchedCards,h=["No match","-1 Heart"]}return{...r,matchedCards:t,score:s||r.score,multiplier:o,lives:u,message:h}}case"CHECK_FOR_WIN":return r.matchedCards.length===r.randomCards.length?{...r,newHighScore:!0,isPlaying:!1,addNewScoreLeaderboard:!0,gameWin:!0,message:["WOOHOO"],gameOverMessage:"YOU WIN!"}:r;case"RESET_FLIPPED_CARDS":return{...r,flippedCards:[]};case"UPDATE_MULTIPLE":return{...r,...e.payload};case"END_GAME":return{...r,isPlaying:!1,gameWin:!1,message:["Game over"],gameOverMessage:"You ended the game"};case"CHANGE_GAME_OVER_MESSAGE":return{...r,gameOverMessage:e.payload};case"SUBMIT_NEW_HIGHSCORE":aC(e.payload,r.score);default:return r}},cC=Jd.defaultSettings;function hC(){const[r,e]=H.useReducer(uC,lC),[t,s]=H.useState("game-mode");if(t==="game-mode")return q.jsx(NE,{state:r,dispatch:e,allGameModes:cC,setPage:s});if(t==="settings")return q.jsx(LE,{dispatch:e,state:r,setPage:s});if(t==="play")return q.jsx(jE,{dispatch:e,state:r,setPage:s});if(t==="leaderboard")return q.jsx(Wv,{setPage:s})}function dC(){return q.jsx("div",{})}function fC(){return q.jsx(q.Fragment,{children:q.jsx(_E,{children:q.jsxs(Q0,{children:[q.jsx(la,{path:"/",element:q.jsx(kE,{})}),q.jsx(la,{path:"play",element:q.jsx(hC,{})}),q.jsx(la,{path:"leaderboard",element:q.jsx(Wv,{})}),q.jsx(la,{path:"*",element:q.jsx(dC,{})})]})})})}i0.createRoot(document.getElementById("root")).render(q.jsx(H.StrictMode,{children:q.jsx(fC,{})}));
